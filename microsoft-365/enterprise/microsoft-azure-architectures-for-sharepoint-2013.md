---
title: Microsoft Azure Architectures for SharePoint 2013
ms.author: bcarter
author: brendacarter
manager: laurawi
ms.date: 12/15/2017
audience: ITPro
ms.topic: conceptual
ms.service: o365-solutions
localization_priority: Normal
ms.collection: Ent_O365
f1.keywords:
- CSH
ms.custom:
- Ent_Architecture
- seo-marvel-apr2020
ms.assetid: 98fc1006-9399-4ff0-a216-c7c05820d822
description: Informazioni sui tipi di soluzioni SharePoint 2013 ospitabili nelle macchine virtuali di Microsoft Azure e su come configurare Azure per ospitarne una.
ms.openlocfilehash: eed74e2dcbe383f0f63e7f6ea2fc70fe7b51b1b3
ms.sourcegitcommit: 27b2b2e5c41934b918cac2c171556c45e36661bf
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/19/2021
ms.locfileid: "50924177"
---
# <a name="microsoft-azure-architectures-for-sharepoint-2013"></a><span data-ttu-id="9dc13-103">Microsoft Azure Architectures for SharePoint 2013</span><span class="sxs-lookup"><span data-stu-id="9dc13-103">Microsoft Azure Architectures for SharePoint 2013</span></span>

<span data-ttu-id="9dc13-104">Azure è un ambiente ideale per ospitare una soluzione SharePoint Server 2013.</span><span class="sxs-lookup"><span data-stu-id="9dc13-104">Azure is a good environment for hosting a SharePoint Server 2013 solution.</span></span> <span data-ttu-id="9dc13-105">Nella maggior parte dei casi, è consigliabile Microsoft 365, ma una farm di SharePoint Server ospitata in Azure può essere una buona opzione per soluzioni specifiche.</span><span class="sxs-lookup"><span data-stu-id="9dc13-105">In most cases, we recommend Microsoft 365, but a SharePoint Server farm hosted in Azure can be a good option for specific solutions.</span></span> <span data-ttu-id="9dc13-106">In questo articolo viene descritto come architettare le soluzioni SharePoint in modo che siano adatte alla piattaforma Azure.</span><span class="sxs-lookup"><span data-stu-id="9dc13-106">This article describes how to architect SharePoint solutions so they are a good fit in the Azure platform.</span></span> <span data-ttu-id="9dc13-107">Come esempi vengono utilizzate le due soluzioni specifiche seguenti:</span><span class="sxs-lookup"><span data-stu-id="9dc13-107">The following two specific solutions are used as examples:</span></span>
  
- [<span data-ttu-id="9dc13-108">Ripristino di emergenza di SharePoint Server 2013 in Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="9dc13-108">SharePoint Server 2013 Disaster Recovery in Microsoft Azure</span></span>](sharepoint-server-2013-disaster-recovery-in-microsoft-azure.md)
    
- [<span data-ttu-id="9dc13-109">Siti Internet in Microsoft Azure che utilizzano SharePoint Server 2013</span><span class="sxs-lookup"><span data-stu-id="9dc13-109">Internet Sites in Microsoft Azure using SharePoint Server 2013</span></span>](internet-sites-in-microsoft-azure-using-sharepoint-server-2013.md)
    
## <a name="recommended-sharepoint-solutions-for-azure-infrastructure-services"></a><span data-ttu-id="9dc13-110">Soluzioni di SharePoint consigliate per Servizi infrastruttura di Azure</span><span class="sxs-lookup"><span data-stu-id="9dc13-110">Recommended SharePoint solutions for Azure Infrastructure Services</span></span>

<span data-ttu-id="9dc13-111">I servizi di infrastruttura di Azure sono un'opzione interessante per ospitare soluzioni SharePoint.</span><span class="sxs-lookup"><span data-stu-id="9dc13-111">Azure infrastructure services is a compelling option for hosting SharePoint solutions.</span></span> <span data-ttu-id="9dc13-112">Alcune soluzioni sono più adatte a questa piattaforma rispetto ad altre.</span><span class="sxs-lookup"><span data-stu-id="9dc13-112">Some solutions are a better fit for this platform than others.</span></span> <span data-ttu-id="9dc13-113">Nella tabella seguente vengono illustrate le soluzioni consigliate.</span><span class="sxs-lookup"><span data-stu-id="9dc13-113">The following table shows recommended solutions.</span></span>
  
|<span data-ttu-id="9dc13-114">**Soluzione**</span><span class="sxs-lookup"><span data-stu-id="9dc13-114">**Solution**</span></span>|<span data-ttu-id="9dc13-115">**Perché questa soluzione è consigliata per Azure**</span><span class="sxs-lookup"><span data-stu-id="9dc13-115">**Why this solution is recommended for Azure**</span></span>|
|:-----|:-----|
|<span data-ttu-id="9dc13-116">Ambienti di sviluppo e test</span><span class="sxs-lookup"><span data-stu-id="9dc13-116">Development and test environments</span></span>  <br/> |<span data-ttu-id="9dc13-117">È facile creare e gestire questi ambienti.</span><span class="sxs-lookup"><span data-stu-id="9dc13-117">It's easy to create and manage these environments.</span></span>  <br/> |
|<span data-ttu-id="9dc13-118">Ripristino di emergenza delle farm di SharePoint locali in Azure</span><span class="sxs-lookup"><span data-stu-id="9dc13-118">Disaster recovery of on-premises SharePoint farms to Azure</span></span>  <br/> |<span data-ttu-id="9dc13-119">**Datacenter secondario ospitato** Usare Azure invece di investire in un datacenter secondario in un'area diversa.</span><span class="sxs-lookup"><span data-stu-id="9dc13-119">**Hosted secondary datacenter** Use Azure instead of investing in a secondary datacenter in a different region.</span></span> <br/> <span data-ttu-id="9dc13-120">**Ambienti di ripristino di emergenza a basso costo** Gestire e pagare un numero inferiore di risorse rispetto a un ambiente di ripristino di emergenza locale.</span><span class="sxs-lookup"><span data-stu-id="9dc13-120">**Lower-cost disaster-recovery environments** Maintain and pay for fewer resources than an on-premises disaster recovery environment.</span></span> <span data-ttu-id="9dc13-121">Il numero di risorse dipende dall'ambiente di ripristino di emergenza scelto: cold standby, warm standby o hot standby.</span><span class="sxs-lookup"><span data-stu-id="9dc13-121">The number of resources depends on the disaster recovery environment you choose: cold standby, warm standby, or hot standby.</span></span> <br/> <span data-ttu-id="9dc13-122">**Piattaforma più elastica** In caso di emergenza, eseguire facilmente la scalabilità orizzontale della farm di SharePoint di ripristino per soddisfare i requisiti di carico.</span><span class="sxs-lookup"><span data-stu-id="9dc13-122">**More elastic platform** In the event of a disaster, easily scale-out your recovery SharePoint farm to meet load requirements.</span></span> <span data-ttu-id="9dc13-123">Ridurre quando la risorsa non è più necessaria.</span><span class="sxs-lookup"><span data-stu-id="9dc13-123">Scale in when you no longer need the resources.</span></span> <br/> <span data-ttu-id="9dc13-124">Vedere Ripristino di emergenza di [SharePoint Server 2013 in Microsoft Azure](sharepoint-server-2013-disaster-recovery-in-microsoft-azure.md).</span><span class="sxs-lookup"><span data-stu-id="9dc13-124">See [SharePoint Server 2013 Disaster Recovery in Microsoft Azure](sharepoint-server-2013-disaster-recovery-in-microsoft-azure.md).</span></span>  <br/> |
|<span data-ttu-id="9dc13-125">Siti con connessione Internet che utilizzano funzionalità e scalabilità non disponibili in Microsoft 365</span><span class="sxs-lookup"><span data-stu-id="9dc13-125">Internet-facing sites that use features and scale not available in Microsoft 365</span></span>  <br/> |<span data-ttu-id="9dc13-126">**Concentrare gli sforzi** Concentrarsi sulla creazione di un sito eccezionale anziché sulla creazione di un'infrastruttura.</span><span class="sxs-lookup"><span data-stu-id="9dc13-126">**Focus your efforts** Concentrate on building a great site rather than building infrastructure.</span></span> <br/> <span data-ttu-id="9dc13-127">**Sfruttare l'elasticità in Azure** Ridimensionare la farm per la richiesta aggiungendo nuovi server e pagare solo per le risorse necessarie.</span><span class="sxs-lookup"><span data-stu-id="9dc13-127">**Take advantage of elasticity in Azure** Size the farm for the demand by adding new servers, and pay only for resources you need.</span></span> <span data-ttu-id="9dc13-128">L'allocazione dinamica del computer non è supportata (ridimensionamento automatico).</span><span class="sxs-lookup"><span data-stu-id="9dc13-128">Dynamic machine allocation is not supported (auto scale).</span></span> <br/> <span data-ttu-id="9dc13-129">**Usare Azure Active Directory (AD)** Sfruttare Azure AD per gli account dei clienti.</span><span class="sxs-lookup"><span data-stu-id="9dc13-129">**Use Azure Active Directory (AD)** Take advantage of Azure AD for customer accounts.</span></span> <br/> <span data-ttu-id="9dc13-130">**Aggiungere funzionalità di SharePoint non disponibili in Microsoft 365** Aggiungere report approfonditi e analisi Web.</span><span class="sxs-lookup"><span data-stu-id="9dc13-130">**Add SharePoint functionality not available in Microsoft 365** Add deep reporting and web analytics.</span></span> <br/> <span data-ttu-id="9dc13-131">Vedere [Siti Internet in Microsoft Azure con SharePoint Server 2013.](internet-sites-in-microsoft-azure-using-sharepoint-server-2013.md)</span><span class="sxs-lookup"><span data-stu-id="9dc13-131">See [Internet Sites in Microsoft Azure using SharePoint Server 2013](internet-sites-in-microsoft-azure-using-sharepoint-server-2013.md).</span></span>  <br/> |
|<span data-ttu-id="9dc13-132">App farm per supportare microsoft 365 o ambienti locali</span><span class="sxs-lookup"><span data-stu-id="9dc13-132">App farms to support Microsoft 365 or on-premises environments</span></span>  <br/> |<span data-ttu-id="9dc13-133">**Creare, testare e ospitare app** in Azure per supportare ambienti locali e cloud.</span><span class="sxs-lookup"><span data-stu-id="9dc13-133">**Build, test, and host apps** in Azure to support both on-premises and cloud environments.</span></span> <br/> <span data-ttu-id="9dc13-134">**Ospitare questo ruolo** in Azure invece di acquistare nuovo hardware per ambienti locali.</span><span class="sxs-lookup"><span data-stu-id="9dc13-134">**Host this role** in Azure instead of buying new hardware for on-premises environments.</span></span> <br/> |
   
<span data-ttu-id="9dc13-135">Per le soluzioni e i carichi di lavoro intranet e di collaborazione, prendere in considerazione le opzioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="9dc13-135">For intranet and collaboration solutions and workloads, consider the following options:</span></span>
  
- <span data-ttu-id="9dc13-136">Determinare se Microsoft 365 soddisfa i requisiti aziendali o può far parte della soluzione.</span><span class="sxs-lookup"><span data-stu-id="9dc13-136">Determine if Microsoft 365 meets your business requirements or can be part of the solution.</span></span> <span data-ttu-id="9dc13-137">Microsoft 365 offre un set di funzionalità aggiornato.</span><span class="sxs-lookup"><span data-stu-id="9dc13-137">Microsoft 365 provides a rich feature set that is always up to date.</span></span>
    
- <span data-ttu-id="9dc13-138">Se Microsoft 365 non soddisfa tutti i requisiti aziendali, prendere in considerazione un'implementazione standard di SharePoint 2013 in locale da Microsoft Consulting Services (MCS).</span><span class="sxs-lookup"><span data-stu-id="9dc13-138">If Microsoft 365 does not meet all your business requirements, consider a standard implementation of SharePoint 2013 on premises from Microsoft Consulting Services (MCS).</span></span> <span data-ttu-id="9dc13-139">Un'architettura standard può essere una soluzione più rapida, più conveniente e più facile da supportare rispetto a una soluzione personalizzata.</span><span class="sxs-lookup"><span data-stu-id="9dc13-139">A standard architecture can be a quicker, cheaper, and easier solution for you to support than a customized one.</span></span> 
    
- <span data-ttu-id="9dc13-140">Se un'implementazione standard non soddisfa i requisiti aziendali, prendere in considerazione una soluzione locale personalizzata.</span><span class="sxs-lookup"><span data-stu-id="9dc13-140">If a standard implementation doesn't meet your business requirements, consider a customized on-premises solution.</span></span>
    
- <span data-ttu-id="9dc13-141">Se l'uso di una piattaforma cloud è importante per i requisiti aziendali, prendere in considerazione un'implementazione standard o personalizzata di SharePoint 2013 ospitata nei servizi di infrastruttura di Azure.</span><span class="sxs-lookup"><span data-stu-id="9dc13-141">If using a cloud platform is important for your business requirements, consider a standard or customized implementation of SharePoint 2013 hosted in Azure infrastructure services.</span></span> <span data-ttu-id="9dc13-142">Le soluzioni SharePoint sono molto più facili da supportare in Azure rispetto ad altre piattaforme cloud pubbliche Microsoft non native.</span><span class="sxs-lookup"><span data-stu-id="9dc13-142">SharePoint solutions are much easier to support in Azure than other non-native Microsoft public cloud platforms.</span></span>
    
## <a name="before-you-design-the-azure-environment"></a><span data-ttu-id="9dc13-143">Prima di progettare l'ambiente Azure</span><span class="sxs-lookup"><span data-stu-id="9dc13-143">Before you design the Azure environment</span></span>

<span data-ttu-id="9dc13-144">Anche se in questo articolo vengono utilizzate topologie di SharePoint di esempio, è possibile utilizzare questi concetti di progettazione con qualsiasi topologia di farm di SharePoint.</span><span class="sxs-lookup"><span data-stu-id="9dc13-144">While this article uses example SharePoint topologies, you can use these design concepts with any SharePoint farm topology.</span></span> <span data-ttu-id="9dc13-145">Prima di progettare l'ambiente Azure, utilizzare le indicazioni seguenti su topologia, architettura, capacità e prestazioni per progettare la farm di SharePoint:</span><span class="sxs-lookup"><span data-stu-id="9dc13-145">Before you design the Azure environment, use the following topology, architecture, capacity, and performance guidance to design the SharePoint farm:</span></span>
  
- [<span data-ttu-id="9dc13-146">Progettazione dell'architettura per i professionisti IT di SharePoint 2013</span><span class="sxs-lookup"><span data-stu-id="9dc13-146">Architecture design for SharePoint 2013 IT pros</span></span>](/SharePoint/technical-reference/technical-diagrams)
    
- [<span data-ttu-id="9dc13-147">Pianificare la gestione delle prestazioni e della capacità in SharePoint Server 2013</span><span class="sxs-lookup"><span data-stu-id="9dc13-147">Plan for performance and capacity management in SharePoint Server 2013</span></span>](/SharePoint/administration/performance-planning-in-sharepoint-server-2013)
    
## <a name="determine-the-active-directory-domain-type"></a><span data-ttu-id="9dc13-148">Determinare il tipo di dominio di Active Directory</span><span class="sxs-lookup"><span data-stu-id="9dc13-148">Determine the Active Directory domain type</span></span>

<span data-ttu-id="9dc13-149">Ogni farm di SharePoint Server si basa su Active Directory per fornire account amministrativi per l'installazione della farm.</span><span class="sxs-lookup"><span data-stu-id="9dc13-149">Each SharePoint Server farm relies on Active Directory to provide administrative accounts for farm setup.</span></span> <span data-ttu-id="9dc13-150">Al momento, sono disponibili due opzioni per le soluzioni SharePoint in Azure.</span><span class="sxs-lookup"><span data-stu-id="9dc13-150">At this time, there are two options for SharePoint solutions in Azure.</span></span> <span data-ttu-id="9dc13-151">Queste informazioni sono descritte nella tabella seguente.</span><span class="sxs-lookup"><span data-stu-id="9dc13-151">These are described in the following table.</span></span>
  
|<span data-ttu-id="9dc13-152">**Opzione**</span><span class="sxs-lookup"><span data-stu-id="9dc13-152">**Option**</span></span>|<span data-ttu-id="9dc13-153">**Descrizione**</span><span class="sxs-lookup"><span data-stu-id="9dc13-153">**Description**</span></span>|
|:-----|:-----|
|<span data-ttu-id="9dc13-154">Dominio dedicato</span><span class="sxs-lookup"><span data-stu-id="9dc13-154">Dedicated domain</span></span>  <br/> |<span data-ttu-id="9dc13-155">È possibile distribuire un dominio Active Directory dedicato e isolato in Azure per supportare la farm di SharePoint.</span><span class="sxs-lookup"><span data-stu-id="9dc13-155">You can deploy a dedicated and isolated Active Directory domain to Azure to support your SharePoint farm.</span></span> <span data-ttu-id="9dc13-156">Questa è una buona scelta per i siti Internet pubblici.</span><span class="sxs-lookup"><span data-stu-id="9dc13-156">This is a good choice for public-facing Internet sites.</span></span>  <br/> |
|<span data-ttu-id="9dc13-157">Estendere il dominio locale tramite una connessione cross-premise</span><span class="sxs-lookup"><span data-stu-id="9dc13-157">Extend the on-premises domain through a cross-premises connection</span></span>  <br/> |<span data-ttu-id="9dc13-158">Quando si estende il dominio locale tramite una connessione cross-premise, gli utenti accedono alla farm di SharePoint tramite la rete Intranet come se fosse ospitato in locale.</span><span class="sxs-lookup"><span data-stu-id="9dc13-158">When you extend the on-premises domain through a cross-premises connection, users access the SharePoint farm via your intranet as if it were hosted on-premises.</span></span> <span data-ttu-id="9dc13-159">È possibile sfruttare l'implementazione di Active Directory e DNS locale.</span><span class="sxs-lookup"><span data-stu-id="9dc13-159">You can take advantage of your on-premises Active Directory and DNS implementation.</span></span>  <br/> <span data-ttu-id="9dc13-160">È necessaria una connessione cross-premise per la creazione di un ambiente di ripristino di emergenza in Azure per il failover dalla farm locale.</span><span class="sxs-lookup"><span data-stu-id="9dc13-160">A cross-premises connection is required for building a disaster-recovery environment in Azure to fail over to from your on-premises farm.</span></span>  <br/> |
   
<span data-ttu-id="9dc13-161">In questo articolo sono inclusi concetti di progettazione per l'estensione del dominio locale tramite una connessione cross-premise.</span><span class="sxs-lookup"><span data-stu-id="9dc13-161">This article includes design concepts for extending the on-premises domain through a cross-premises connection.</span></span> <span data-ttu-id="9dc13-162">Se la soluzione usa un dominio dedicato, non è necessaria una connessione cross-premise.</span><span class="sxs-lookup"><span data-stu-id="9dc13-162">If your solution uses a dedicated domain, you don't need a cross-premises connection.</span></span>
  
## <a name="design-the-virtual-network"></a><span data-ttu-id="9dc13-163">Progettare la rete virtuale</span><span class="sxs-lookup"><span data-stu-id="9dc13-163">Design the virtual network</span></span>

<span data-ttu-id="9dc13-164">Prima di tutto è necessaria una rete virtuale in Azure, che include subnet in cui verranno posizionate le macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="9dc13-164">First you need a virtual network in Azure, which includes subnets on which you will place your virtual machines.</span></span> <span data-ttu-id="9dc13-165">La rete virtuale necessita di uno spazio di indirizzi IP privato, parti delle quali vengono assegnate alle subnet.</span><span class="sxs-lookup"><span data-stu-id="9dc13-165">The virtual network needs a private IP address space, portions of which you assign to the subnets.</span></span>
  
<span data-ttu-id="9dc13-166">Se si estende la rete locale ad Azure tramite una connessione cross-premise (necessaria per un ambiente di ripristino di emergenza), è necessario scegliere uno spazio di indirizzi privato non già in uso altrove nella rete dell'organizzazione, che può includere l'ambiente locale e altre reti virtuali di Azure.</span><span class="sxs-lookup"><span data-stu-id="9dc13-166">If you are extending your on-premises network to Azure through a cross-premises connection (required for a disaster recovery environment), you must choose a private address space that is not already in use elsewhere in your organization network, which can include your on-premises environment and other Azure virtual networks.</span></span> 
  
<span data-ttu-id="9dc13-167">**Figura 1: ambiente locale con una rete virtuale in Azure**</span><span class="sxs-lookup"><span data-stu-id="9dc13-167">**Figure 1: On-premises environment with a virtual network in Azure**</span></span>

![Progettazione della rete virtuale di Microsoft Azure per una soluzione SharePoint.](../media/OPrrasconWA-AZarch.png)
  
<span data-ttu-id="9dc13-171">In questo diagramma:</span><span class="sxs-lookup"><span data-stu-id="9dc13-171">In this diagram:</span></span>
  
- <span data-ttu-id="9dc13-172">Una rete virtuale in Azure viene illustrata affiancata all'ambiente locale.</span><span class="sxs-lookup"><span data-stu-id="9dc13-172">A virtual network in Azure is illustrated side-by-side to the on-premises environment.</span></span> <span data-ttu-id="9dc13-173">I due ambienti non sono ancora connessi tramite una connessione cross-premise, che può essere una connessione VPN da sito a sito o ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="9dc13-173">The two environments are not yet connected by a cross-premises connection, which can be a site-to-site VPN connection or ExpressRoute.</span></span>
    
- <span data-ttu-id="9dc13-174">A questo punto, la rete virtuale include solo le subnet e nessun altro elemento architettonico.</span><span class="sxs-lookup"><span data-stu-id="9dc13-174">At this point, the virtual network just includes the subnets and no other architectural elements.</span></span> <span data-ttu-id="9dc13-175">Una subnet ospiterà il gateway di Azure e altre subnet ospiteranno i livelli della farm di SharePoint, con un'altra per Active Directory e DNS.</span><span class="sxs-lookup"><span data-stu-id="9dc13-175">One subnet will host the Azure gateway and other subnets host the tiers of the SharePoint farm, with an additional one for Active Directory and DNS.</span></span>
    
## <a name="add-cross-premises-connectivity"></a><span data-ttu-id="9dc13-176">Aggiungere connettività cross-premise</span><span class="sxs-lookup"><span data-stu-id="9dc13-176">Add cross-premises connectivity</span></span>

<span data-ttu-id="9dc13-177">Il passaggio di distribuzione successivo consiste nel creare la connessione cross-premise (se applicabile alla soluzione).</span><span class="sxs-lookup"><span data-stu-id="9dc13-177">The next deployment step is to create the cross-premises connection (if this applies to your solution).</span></span> <span data-ttu-id="9dc13-178">Per le connessioni cross-premise, un gateway di Azure si trova in una subnet gateway separata, che è necessario creare e assegnare uno spazio indirizzo.</span><span class="sxs-lookup"><span data-stu-id="9dc13-178">For cross-premises connections, a Azure gateway resides in a separate gateway subnet, which you must create and assign an address space.</span></span> 
  
<span data-ttu-id="9dc13-179">Quando si pianifica una connessione cross-premise, si definisce e si crea un gateway di Azure e una connessione a un dispositivo gateway locale.</span><span class="sxs-lookup"><span data-stu-id="9dc13-179">When you plan for a cross-premises connection, you define and create an Azure gateway and connection to an on-premises gateway device.</span></span>
  
<span data-ttu-id="9dc13-180">**Figura 2: utilizzo di un gateway di Azure e di un dispositivo gateway locale per fornire la connettività da sito a sito tra l'ambiente locale e Azure**</span><span class="sxs-lookup"><span data-stu-id="9dc13-180">**Figure 2: Using an Azure gateway and an on-premises gateway device to provide site-to-site connectivity between the on-premises environment and Azure**</span></span>

![Ambiente locale connesso a una rete virtuale di Azure tramite una connessione cross-premise, che può essere una connessione VPN da sito a sito o ExpressRoute](../media/AZarch-VPNgtwyconnct.png)
  
<span data-ttu-id="9dc13-182">In questo diagramma:</span><span class="sxs-lookup"><span data-stu-id="9dc13-182">In this diagram:</span></span>
  
- <span data-ttu-id="9dc13-183">Aggiungendo al diagramma precedente, l'ambiente locale è connesso alla rete virtuale di Azure tramite una connessione cross-premise, che può essere una connessione VPN da sito a sito o ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="9dc13-183">Adding to the previous diagram, the on-premises environment is connected to the Azure virtual network by a cross-premise connection, which can be a site-to-site VPN connection or ExpressRoute.</span></span>
    
- <span data-ttu-id="9dc13-184">Un gateway di Azure si trova in una subnet gateway.</span><span class="sxs-lookup"><span data-stu-id="9dc13-184">An Azure gateway is on a gateway subnet.</span></span>
    
- <span data-ttu-id="9dc13-185">L'ambiente locale include un dispositivo gateway, ad esempio un router o un server VPN.</span><span class="sxs-lookup"><span data-stu-id="9dc13-185">The on-premises environment includes a gateway device, such as a router or VPN server.</span></span>
    
<span data-ttu-id="9dc13-186">Per ulteriori informazioni su come pianificare e creare una rete virtuale cross-premise, vedere [Connect an on-premises network to a Microsoft Azure virtual network](connect-an-on-premises-network-to-a-microsoft-azure-virtual-network.md).</span><span class="sxs-lookup"><span data-stu-id="9dc13-186">For additional information to plan for and create a cross-premises virtual network, see [Connect an on-premises network to a Microsoft Azure virtual network](connect-an-on-premises-network-to-a-microsoft-azure-virtual-network.md).</span></span>
  
## <a name="add-active-directory-domain-services-ad-ds-and-dns"></a><span data-ttu-id="9dc13-187">Aggiungere Servizi di dominio Active Directory (AD DS) e DNS</span><span class="sxs-lookup"><span data-stu-id="9dc13-187">Add Active Directory Domain Services (AD DS) and DNS</span></span>

<span data-ttu-id="9dc13-188">Per il ripristino di emergenza in Azure, si distribuiscono Windows Server AD e DNS in uno scenario ibrido in cui Windows Server AD viene distribuito sia in locale che nelle macchine virtuali di Azure.</span><span class="sxs-lookup"><span data-stu-id="9dc13-188">For disaster recovery in Azure, you deploy Windows Server AD and DNS in a hybrid scenario where Windows Server AD is deployed both on-premises and on Azure virtual machines.</span></span>
  
<span data-ttu-id="9dc13-189">**Figura 3: configurazione del dominio di Active Directory ibrido**</span><span class="sxs-lookup"><span data-stu-id="9dc13-189">**Figure 3: Hybrid Active Directory domain configuration**</span></span>

![Le macchine virtuali STwo distribuite nella rete virtuale di Azure e la subnet farm di SharePoint sono controller di dominio di replica e server DNS](../media/AZarch-HyADdomainConfig.png)
  
<span data-ttu-id="9dc13-191">Questo diagramma si basa sui diagrammi precedenti aggiungendo due macchine virtuali a una subnet DNS e Windows Server AD.</span><span class="sxs-lookup"><span data-stu-id="9dc13-191">This diagram builds on the previous diagrams by adding two virtual machines to a Windows Server AD and DNS subnet.</span></span> <span data-ttu-id="9dc13-192">Queste macchine virtuali sono controller di dominio di replica e server DNS.</span><span class="sxs-lookup"><span data-stu-id="9dc13-192">These virtual machines are replica domain controllers and DNS servers.</span></span> <span data-ttu-id="9dc13-193">Si tratta di un'estensione dell'ambiente Windows Server AD locale.</span><span class="sxs-lookup"><span data-stu-id="9dc13-193">They are an extension of the on-premises Windows Server AD environment.</span></span> 
  
<span data-ttu-id="9dc13-194">Nella tabella seguente vengono forniti suggerimenti di configurazione per queste macchine virtuali in Azure.</span><span class="sxs-lookup"><span data-stu-id="9dc13-194">The following table provides configuration recommendations for these virtual machines in Azure.</span></span> <span data-ttu-id="9dc13-195">Usali come punto di partenza per progettare il tuo ambiente, anche per un dominio dedicato in cui l'ambiente Azure non comunica con l'ambiente locale.</span><span class="sxs-lookup"><span data-stu-id="9dc13-195">Use these as a starting point for designing your own environment—even for a dedicated domain where your Azure environment doesn't communicate with your on-premises environment.</span></span>
  
|<span data-ttu-id="9dc13-196">**Elemento**</span><span class="sxs-lookup"><span data-stu-id="9dc13-196">**Item**</span></span>|<span data-ttu-id="9dc13-197">**Configurazione**</span><span class="sxs-lookup"><span data-stu-id="9dc13-197">**Configuration**</span></span>|
|:-----|:-----|
|<span data-ttu-id="9dc13-198">Dimensioni della macchina virtuale in Azure</span><span class="sxs-lookup"><span data-stu-id="9dc13-198">Virtual machine size in Azure</span></span>  <br/> |<span data-ttu-id="9dc13-199">Dimensioni A1 o A2 nel livello Standard</span><span class="sxs-lookup"><span data-stu-id="9dc13-199">A1 or A2 size in the Standard tier</span></span>  <br/> |
|<span data-ttu-id="9dc13-200">Sistema operativo</span><span class="sxs-lookup"><span data-stu-id="9dc13-200">Operating system</span></span>  <br/> |<span data-ttu-id="9dc13-201">Windows Server 2012 R2</span><span class="sxs-lookup"><span data-stu-id="9dc13-201">Windows Server 2012 R2</span></span>  <br/> |
|<span data-ttu-id="9dc13-202">Ruolo Active Directory</span><span class="sxs-lookup"><span data-stu-id="9dc13-202">Active Directory role</span></span>  <br/> |<span data-ttu-id="9dc13-203">Controller di dominio di Servizi di dominio Active Directory designato come server di catalogo globale.</span><span class="sxs-lookup"><span data-stu-id="9dc13-203">AD DS domain controller designated as a global catalog server.</span></span> <span data-ttu-id="9dc13-204">Questa configurazione riduce il traffico in uscita attraverso la connessione cross-premise.</span><span class="sxs-lookup"><span data-stu-id="9dc13-204">This configuration reduces egress traffic across the cross-premises connection.</span></span>  <br/> <span data-ttu-id="9dc13-205">In un ambiente multidominio con alte velocità di modifica (questo non è comune), configurare i controller di dominio in locale per non eseguire la sincronizzazione con i server di catalogo globale in Azure, per ridurre il traffico di replica.</span><span class="sxs-lookup"><span data-stu-id="9dc13-205">In a multidomain environment with high rates of change (this is not common), configure domain controllers on premises not to sync with the global catalog servers in Azure, to reduce replication traffic.</span></span>  <br/> |
|<span data-ttu-id="9dc13-206">Ruolo DNS</span><span class="sxs-lookup"><span data-stu-id="9dc13-206">DNS role</span></span>  <br/> |<span data-ttu-id="9dc13-207">Installare e configurare il servizio Server DNS nei controller di dominio.</span><span class="sxs-lookup"><span data-stu-id="9dc13-207">Install and configure the DNS Server service on the domain controllers.</span></span>  <br/> |
|<span data-ttu-id="9dc13-208">Dischi dati</span><span class="sxs-lookup"><span data-stu-id="9dc13-208">Data disks</span></span>  <br/> |<span data-ttu-id="9dc13-209">Posizionare il database, i registri e SYSVOL di Active Directory su altri dischi dati di Azure.</span><span class="sxs-lookup"><span data-stu-id="9dc13-209">Place the Active Directory database, logs, and SYSVOL on additional Azure data disks.</span></span> <span data-ttu-id="9dc13-210">Non collocare questi dischi nel disco del sistema operativo o nei dischi temporanei forniti da Azure.</span><span class="sxs-lookup"><span data-stu-id="9dc13-210">Do not place these on the operating system disk or the temporary disks provided by Azure.</span></span>  <br/> |
|<span data-ttu-id="9dc13-211">Indirizzi IP</span><span class="sxs-lookup"><span data-stu-id="9dc13-211">IP addresses</span></span>  <br/> |<span data-ttu-id="9dc13-212">Utilizzare indirizzi IP statici e configurare la rete virtuale per assegnare questi indirizzi alle macchine virtuali nella rete virtuale dopo la configurazione dei controller di dominio.</span><span class="sxs-lookup"><span data-stu-id="9dc13-212">Use static IP addresses and configure the virtual network to assign these addresses to the virtual machines in the virtual network after the domain controllers have been configured.</span></span>  <br/> |
   
> [!IMPORTANT]
> <span data-ttu-id="9dc13-213">Prima di distribuire Active Directory in Azure, leggere Linee guida per [la distribuzione di Windows Server Active Directory nelle macchine virtuali di Azure.](/windows-server/identity/ad-ds/introduction-to-active-directory-domain-services-ad-ds-virtualization-level-100)</span><span class="sxs-lookup"><span data-stu-id="9dc13-213">Before you deploy Active Directory in Azure, read [Guidelines for Deploying Windows Server Active Directory on Azure Virtual Machines](/windows-server/identity/ad-ds/introduction-to-active-directory-domain-services-ad-ds-virtualization-level-100).</span></span> <span data-ttu-id="9dc13-214">Queste informazioni consentono di determinare se per la soluzione sono necessarie un'architettura diversa o impostazioni di configurazione diverse.</span><span class="sxs-lookup"><span data-stu-id="9dc13-214">These help you determine if a different architecture or different configuration settings are needed for your solution.</span></span> 
  
## <a name="add-the-sharepoint-farm"></a><span data-ttu-id="9dc13-215">Aggiungere la farm di SharePoint</span><span class="sxs-lookup"><span data-stu-id="9dc13-215">Add the SharePoint farm</span></span>

<span data-ttu-id="9dc13-216">Posizionare le macchine virtuali della farm di SharePoint in livelli nelle subnet appropriate.</span><span class="sxs-lookup"><span data-stu-id="9dc13-216">Place the virtual machines of the SharePoint farm in tiers on the appropriate subnets.</span></span>
  
<span data-ttu-id="9dc13-217">**Figura 4: posizionamento delle macchine virtuali di SharePoint**</span><span class="sxs-lookup"><span data-stu-id="9dc13-217">**Figure 4: Placement of SharePoint virtual machines**</span></span>

![Server di database e ruoli del server di SharePoint aggiunti alla rete virtuale di Azure all'interno della subnet della farm di SharePoint](../media/AZarch-SPVMsinCloudSer.png)
  
<span data-ttu-id="9dc13-219">Questo diagramma si basa sui diagrammi precedenti aggiungendo i ruoli del server della farm di SharePoint nei rispettivi livelli.</span><span class="sxs-lookup"><span data-stu-id="9dc13-219">This diagram builds on the previous diagrams by adding the SharePoint farm server roles in their respective tiers.</span></span>
  
- <span data-ttu-id="9dc13-220">Due macchine virtuali di database che SQL Server creare il livello di database.</span><span class="sxs-lookup"><span data-stu-id="9dc13-220">Two database virtual machines running SQL Server create the database tier.</span></span>
    
- <span data-ttu-id="9dc13-221">Due macchine virtuali che eseguono SharePoint Server 2013 per ognuno dei livelli seguenti: front end server, server cache distribuita e server back-end.</span><span class="sxs-lookup"><span data-stu-id="9dc13-221">Two virtual machines running SharePoint Server 2013 for each of the following tiers: front end servers, distributed cache servers, and back end servers.</span></span>
    
## <a name="design-and-fine-tune-server-roles-for-availability-sets-and-fault-domains"></a><span data-ttu-id="9dc13-222">Progettare e ottimizzare i ruoli del server per i set di disponibilità e i domini di errore</span><span class="sxs-lookup"><span data-stu-id="9dc13-222">Design and fine tune server roles for availability sets and fault domains</span></span>

<span data-ttu-id="9dc13-223">Un dominio di errore è un raggruppamento di hardware in cui vengono eseguite le istanze del ruolo.</span><span class="sxs-lookup"><span data-stu-id="9dc13-223">A fault domain is a grouping of hardware in which role instances run.</span></span> <span data-ttu-id="9dc13-224">Le macchine virtuali nello stesso dominio di errore possono essere aggiornate contemporaneamente dall'infrastruttura di Azure.</span><span class="sxs-lookup"><span data-stu-id="9dc13-224">Virtual machines within the same fault domain can be updated by the Azure infrastructure at the same time.</span></span> <span data-ttu-id="9dc13-225">Oppure, possono avere esito negativo contemporaneamente perché condividono lo stesso rack.</span><span class="sxs-lookup"><span data-stu-id="9dc13-225">Or, they can fail at the same time because they share the same rack.</span></span> <span data-ttu-id="9dc13-226">Per evitare il rischio di avere due macchine virtuali nello stesso dominio di errore, è possibile configurare le macchine virtuali come set di disponibilità, in modo da garantire che ogni macchina virtuale si trova in un dominio di errore diverso.</span><span class="sxs-lookup"><span data-stu-id="9dc13-226">To avoid the risk of having two virtual machines on the same fault domain, you can configure your virtual machines as an availability set, which ensures that each virtual machine is in a different fault domain.</span></span> <span data-ttu-id="9dc13-227">Se tre macchine virtuali sono configurate come set di disponibilità, Azure garantisce che non più di due macchine virtuali si trovino nello stesso dominio di errore.</span><span class="sxs-lookup"><span data-stu-id="9dc13-227">If three virtual machines are configured as an availability set, Azure guarantees that no more than two of the virtual machines are located in the same fault domain.</span></span>
  
<span data-ttu-id="9dc13-228">Quando si progetta l'architettura di Azure per una farm di SharePoint, configurare ruoli del server identici per far parte di un set di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="9dc13-228">When you design the Azure architecture for a SharePoint farm, configure identical server roles to be part of an availability set.</span></span> <span data-ttu-id="9dc13-229">In questo modo si garantisce che le macchine virtuali siano distribuite in più domini di errore.</span><span class="sxs-lookup"><span data-stu-id="9dc13-229">This ensures that your virtual machines are spread across multiple fault domains.</span></span>
  
<span data-ttu-id="9dc13-230">**Figura 5: utilizzare i set di disponibilità di Azure per fornire disponibilità elevata per i livelli di farm di SharePoint**</span><span class="sxs-lookup"><span data-stu-id="9dc13-230">**Figure 5: Use Azure Availability Sets to provide high availability for the SharePoint farm tiers**</span></span>

![Configurazione dei set di disponibilità nell'infrastruttura di Azure per una soluzione SharePoint 2013](../media/AZenv-WinAzureAvailSetsHA.png)
  
<span data-ttu-id="9dc13-232">Questo diagramma richiama la configurazione dei set di disponibilità all'interno dell'infrastruttura di Azure.</span><span class="sxs-lookup"><span data-stu-id="9dc13-232">This diagram calls out the configuration of availability sets within the Azure infrastructure.</span></span> <span data-ttu-id="9dc13-233">Ognuno dei ruoli seguenti condivide un set di disponibilità separato:</span><span class="sxs-lookup"><span data-stu-id="9dc13-233">Each of the following roles share a separate availability set:</span></span>
  
- <span data-ttu-id="9dc13-234">Active Directory e DNS</span><span class="sxs-lookup"><span data-stu-id="9dc13-234">Active Directory and DNS</span></span>
    
- <span data-ttu-id="9dc13-235">Database</span><span class="sxs-lookup"><span data-stu-id="9dc13-235">Database</span></span>
    
- <span data-ttu-id="9dc13-236">Back-end</span><span class="sxs-lookup"><span data-stu-id="9dc13-236">Back end</span></span>
    
- <span data-ttu-id="9dc13-237">Distribuire la cache</span><span class="sxs-lookup"><span data-stu-id="9dc13-237">Distribute cache</span></span>
    
- <span data-ttu-id="9dc13-238">Front-end</span><span class="sxs-lookup"><span data-stu-id="9dc13-238">Front end</span></span>
    
<span data-ttu-id="9dc13-239">Potrebbe essere necessario ottimizzare la farm di SharePoint nella piattaforma Azure.</span><span class="sxs-lookup"><span data-stu-id="9dc13-239">The SharePoint farm might need to be fine tuned in the Azure platform.</span></span> <span data-ttu-id="9dc13-240">Per garantire la disponibilità elevata di tutti i componenti, verificare che i ruoli del server siano tutti configurati in modo identico.</span><span class="sxs-lookup"><span data-stu-id="9dc13-240">To ensure high availability of all components, ensure that the server roles are all configured identically.</span></span>
  
<span data-ttu-id="9dc13-241">Ecco un esempio che mostra un'architettura di siti Internet standard che soddisfa obiettivi specifici di capacità e prestazioni.</span><span class="sxs-lookup"><span data-stu-id="9dc13-241">Here is an example that shows a standard Internet Sites architecture that meets specific capacity and performance goals.</span></span> <span data-ttu-id="9dc13-242">Questo esempio è illustrato nel modello di architettura seguente: [Internet Sites Search Architectures for SharePoint Server 2013.](https://go.microsoft.com/fwlink/p/?LinkId=261519)</span><span class="sxs-lookup"><span data-stu-id="9dc13-242">This example is featured in the following architecture model: [Internet Sites Search Architectures for SharePoint Server 2013](https://go.microsoft.com/fwlink/p/?LinkId=261519).</span></span>
  
<span data-ttu-id="9dc13-243">**Figura 6: Esempio di pianificazione degli obiettivi di capacità e prestazioni in una farm a tre livelli**</span><span class="sxs-lookup"><span data-stu-id="9dc13-243">**Figure 6: Planning example for capacity and performance goals in a three-tier farm**</span></span>

![Architettura standard dei siti Internet di SharePoint 2013 con allocazioni di componenti che soddisfano obiettivi di capacità e prestazioni specifici](../media/AZarch-CapPerfexmpArch.png)
  
<span data-ttu-id="9dc13-245">In questo diagramma:</span><span class="sxs-lookup"><span data-stu-id="9dc13-245">In this diagram:</span></span>
  
- <span data-ttu-id="9dc13-246">È rappresentata una farm a tre livelli: server Web, server applicazioni e server di database.</span><span class="sxs-lookup"><span data-stu-id="9dc13-246">A three-tier farm is represented: web servers, application servers, and database servers.</span></span>
    
- <span data-ttu-id="9dc13-247">I tre server Web sono configurati in modo identico con più componenti.</span><span class="sxs-lookup"><span data-stu-id="9dc13-247">The three web servers are configured identically with multiple components.</span></span>
    
- <span data-ttu-id="9dc13-248">I due server di database sono configurati in modo identico.</span><span class="sxs-lookup"><span data-stu-id="9dc13-248">The two database servers are configured identically.</span></span>
    
- <span data-ttu-id="9dc13-249">I tre server applicazioni non sono configurati in modo identico.</span><span class="sxs-lookup"><span data-stu-id="9dc13-249">The three application servers are not configured identically.</span></span> <span data-ttu-id="9dc13-250">Questi ruoli del server richiedono l'ottimizzazione dei set di disponibilità in Azure.</span><span class="sxs-lookup"><span data-stu-id="9dc13-250">These server roles require fine tuning for availability sets in Azure.</span></span>
    
<span data-ttu-id="9dc13-251">Esamini più da vicino il livello del server applicazioni.</span><span class="sxs-lookup"><span data-stu-id="9dc13-251">Let's look closer at the application server tier.</span></span>
  
<span data-ttu-id="9dc13-252">**Figura 7: livello del server applicazioni prima dell'ottimizzazione**</span><span class="sxs-lookup"><span data-stu-id="9dc13-252">**Figure 7: Application server tier before fine tuning**</span></span>

![Esempio di livello del server applicazioni di SharePoint Server 2013 prima dell'ottimizzazione dei set di disponibilità di Microsoft Azure](../media/AZarch-AppServtierBefore.png)
  
<span data-ttu-id="9dc13-254">In questo diagramma:</span><span class="sxs-lookup"><span data-stu-id="9dc13-254">In this diagram:</span></span>
  
- <span data-ttu-id="9dc13-255">Nel livello applicazione sono inclusi tre server.</span><span class="sxs-lookup"><span data-stu-id="9dc13-255">Three servers are included in the application tier.</span></span>
    
- <span data-ttu-id="9dc13-256">Il primo server include quattro componenti.</span><span class="sxs-lookup"><span data-stu-id="9dc13-256">The first server includes four components.</span></span>
    
- <span data-ttu-id="9dc13-257">Il secondo server include tre componenti.</span><span class="sxs-lookup"><span data-stu-id="9dc13-257">The second server includes three components.</span></span>
    
- <span data-ttu-id="9dc13-258">Il terzo server include due componenti.</span><span class="sxs-lookup"><span data-stu-id="9dc13-258">The third server includes two components.</span></span>
    
<span data-ttu-id="9dc13-259">È possibile determinare il numero di componenti in base ai target di prestazioni e capacità per la farm.</span><span class="sxs-lookup"><span data-stu-id="9dc13-259">You determine the number of components by the performance and capacity targets for the farm.</span></span> <span data-ttu-id="9dc13-260">Per adattare questa architettura per Azure, verranno replicati i quattro componenti in tutti e tre i server.</span><span class="sxs-lookup"><span data-stu-id="9dc13-260">To adapt this architecture for Azure, we'll replicate the four components across all three servers.</span></span> <span data-ttu-id="9dc13-261">In questo modo si aumenta il numero di componenti oltre a quanto necessario per le prestazioni e la capacità.</span><span class="sxs-lookup"><span data-stu-id="9dc13-261">This increases the number of components beyond what is necessary for performance and capacity.</span></span> <span data-ttu-id="9dc13-262">Il compromesso è che questa progettazione garantisce la disponibilità elevata di tutti e quattro i componenti nella piattaforma Azure quando queste tre macchine virtuali vengono assegnate a un set di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="9dc13-262">The tradeoff is that this design ensures high availability of all four components in the Azure platform when these three virtual machines are assigned to an availability set.</span></span>
  
<span data-ttu-id="9dc13-263">**Figura 8: livello del server applicazioni dopo l'ottimizzazione**</span><span class="sxs-lookup"><span data-stu-id="9dc13-263">**Figure 8: Application server tier after fine tuning**</span></span>

![Esempio di livello del server applicazioni di SharePoint Server 2013 dopo l'ottimizzazione dei set di disponibilità di Microsoft Azure](../media/AZarch-AppServtierAfter.png)
  
<span data-ttu-id="9dc13-265">Questo diagramma mostra tutti e tre i server applicazioni configurati in modo identico con gli stessi quattro componenti.</span><span class="sxs-lookup"><span data-stu-id="9dc13-265">This diagram shows all three application servers configured identically with the same four components.</span></span>
  
<span data-ttu-id="9dc13-266">Quando si aggiungono set di disponibilità ai livelli della farm di SharePoint, l'implementazione è completa.</span><span class="sxs-lookup"><span data-stu-id="9dc13-266">When we add availability sets to the tiers of the SharePoint farm, the implementation is complete.</span></span>
  
<span data-ttu-id="9dc13-267">**Figura 9: Farm di SharePoint completata nei servizi infrastruttura di Azure**</span><span class="sxs-lookup"><span data-stu-id="9dc13-267">**Figure 9: The completed SharePoint farm in Azure infrastructure services**</span></span>

![Farm di SharePoint 2013 di esempio nei servizi infrastruttura di Azure con rete virtuale, connettività cross-premise, subnet, macchine virtuali e set di disponibilità](../media/7256292f-bf11-485b-8917-41ba206153ee.png)
  
<span data-ttu-id="9dc13-269">Questo diagramma mostra la farm di SharePoint implementata nei servizi di infrastruttura di Azure, con set di disponibilità per fornire domini di errore per i server in ogni livello.</span><span class="sxs-lookup"><span data-stu-id="9dc13-269">This diagram shows the SharePoint farm implemented in Azure infrastructure services, with availability sets to provide fault domains for the servers in each tier.</span></span>
  
## <a name="see-also"></a><span data-ttu-id="9dc13-270">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="9dc13-270">See Also</span></span>

[<span data-ttu-id="9dc13-271">Centro soluzioni e architetture di Microsoft 365</span><span class="sxs-lookup"><span data-stu-id="9dc13-271">Microsoft 365 solution and architecture center</span></span>](../solutions/index.yml)
  
[<span data-ttu-id="9dc13-272">Siti Internet in Microsoft Azure che utilizzano SharePoint Server 2013</span><span class="sxs-lookup"><span data-stu-id="9dc13-272">Internet Sites in Microsoft Azure using SharePoint Server 2013</span></span>](internet-sites-in-microsoft-azure-using-sharepoint-server-2013.md)
  
[<span data-ttu-id="9dc13-273">Ripristino di emergenza di SharePoint Server 2013 in Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="9dc13-273">SharePoint Server 2013 Disaster Recovery in Microsoft Azure</span></span>](sharepoint-server-2013-disaster-recovery-in-microsoft-azure.md)