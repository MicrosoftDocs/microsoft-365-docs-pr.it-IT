---
title: Configurazione dei criteri anti-malware
f1.keywords:
- NOCSH
ms.author: chrisda
author: chrisda
manager: dansimp
ms.date: ''
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- MET150
ms.assetid: b0cfc21f-e3c6-41b6-8670-feb2b2e252e5
ms.collection:
- M365-security-compliance
description: Gli amministratori possono ottenere informazioni su come configurare i criteri anti-malware in Office 365.
ms.openlocfilehash: a3e6174456b929b51586f9ecd8f4d8b3deb550f6
ms.sourcegitcommit: 3d17c1d6b80672719b1878e2f321f0de39595226
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 02/11/2020
ms.locfileid: "41887323"
---
# <a name="configure-anti-malware-policies-in-office-365"></a><span data-ttu-id="d8706-103">Configurazione dei criteri anti-malware in Office 365</span><span class="sxs-lookup"><span data-stu-id="d8706-103">Configure anti-malware policies in Office 365</span></span>

<span data-ttu-id="d8706-104">Se si è un cliente di Office 365 con cassette postali in Exchange Online o un cliente di Exchange Online Protection (EOP) autonomo senza cassette postali di Exchange Online, i messaggi di posta elettronica vengono protetti automaticamente contro il malware da EOP.</span><span class="sxs-lookup"><span data-stu-id="d8706-104">If you're an Office 365 customer with mailboxes in Exchange Online or a standalone Exchange Online Protection (EOP) customer without Exchange Online mailboxes, your email messages are automatically protected against malware by EOP.</span></span> <span data-ttu-id="d8706-105">EOP utilizza criteri anti-malware per le impostazioni di protezione antimalware.</span><span class="sxs-lookup"><span data-stu-id="d8706-105">EOP uses anti-malware policies for malware protection settings.</span></span> <span data-ttu-id="d8706-106">Per ulteriori informazioni, vedere [anti-malware Protection](anti-malware-protection.md).</span><span class="sxs-lookup"><span data-stu-id="d8706-106">For more information, see [Anti-malware protection](anti-malware-protection.md).</span></span>

<span data-ttu-id="d8706-107">Gli amministratori possono visualizzare, modificare e configurare (ma non eliminare) il criterio antimalware predefinito per soddisfare le esigenze delle organizzazioni.</span><span class="sxs-lookup"><span data-stu-id="d8706-107">Admins can view, edit, and configure (but not delete) the default anti-malware policy to meet the needs of their organizations.</span></span> <span data-ttu-id="d8706-108">Per una maggiore granularità, è anche possibile creare criteri anti-malware personalizzati che si applicano a utenti, gruppi o domini specificati nell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="d8706-108">For greater granularity, you can also create custom anti-malware policies that apply to specified users, groups, or domains in your organization.</span></span> <span data-ttu-id="d8706-109">I criteri personalizzati hanno sempre la precedenza sul criterio predefinito, ma è possibile cambiare la priorità (ordine di esecuzione) dei criteri personalizzati.</span><span class="sxs-lookup"><span data-stu-id="d8706-109">Custom policies always take precedence over the default policy, but you can change the priority (running order) of your custom policies.</span></span>

<span data-ttu-id="d8706-110">È possibile configurare i criteri anti-malware nel centro sicurezza & Compliance di Office 365 o in PowerShell (Exchange Online PowerShell per i clienti di Office 365; PowerShell di Exchange Online Protection per clienti EOP autonomi.</span><span class="sxs-lookup"><span data-stu-id="d8706-110">You can configure anti-malware policies in the Office 365 Security & Compliance Center or in PowerShell (Exchange Online PowerShell for Office 365 customers; Exchange Online Protection PowerShell for standalone EOP customers).</span></span>

## <a name="what-do-you-need-to-know-before-you-begin"></a><span data-ttu-id="d8706-111">Che cosa è necessario sapere prima di iniziare</span><span class="sxs-lookup"><span data-stu-id="d8706-111">What do you need to know before you begin?</span></span>

- <span data-ttu-id="d8706-112">Per aprire il centro conformità & sicurezza di Office 365, vedere [andare al centro sicurezza & conformità di office 365](https://docs.microsoft.com/microsoft-365/compliance/go-to-the-securitycompliance-center).</span><span class="sxs-lookup"><span data-stu-id="d8706-112">To open the Office 365 Security & Compliance Center, see [Go to the Office 365 Security & Compliance Center](https://docs.microsoft.com/microsoft-365/compliance/go-to-the-securitycompliance-center).</span></span>

- <span data-ttu-id="d8706-113">Per informazioni su come connettersi a PowerShell per Exchange Online, vedere [Connettersi a PowerShell per Exchange Online](https://docs.microsoft.com/powershell/exchange/exchange-online/connect-to-exchange-online-powershell/connect-to-exchange-online-powershell).</span><span class="sxs-lookup"><span data-stu-id="d8706-113">To connect to Exchange Online PowerShell, see [Connect to Exchange Online PowerShell](https://docs.microsoft.com/powershell/exchange/exchange-online/connect-to-exchange-online-powershell/connect-to-exchange-online-powershell).</span></span> <span data-ttu-id="d8706-114">Per connettersi a PowerShell di Exchange Online Protection, vedere [Connect to Exchange Online Protection PowerShell](https://docs.microsoft.com/powershell/exchange/exchange-eop/connect-to-exchange-online-protection-powershell).</span><span class="sxs-lookup"><span data-stu-id="d8706-114">To connect to Exchange Online Protection PowerShell, see [Connect to Exchange Online Protection PowerShell](https://docs.microsoft.com/powershell/exchange/exchange-eop/connect-to-exchange-online-protection-powershell).</span></span>

- <span data-ttu-id="d8706-115">Prima di poter eseguire queste procedure, è necessario disporre delle autorizzazioni assegnate.</span><span class="sxs-lookup"><span data-stu-id="d8706-115">You need to be assigned permissions before you can perform these procedures.</span></span> <span data-ttu-id="d8706-116">Per aggiungere, modificare ed eliminare i criteri anti-malware, è necessario essere membri dei gruppi di ruoli **Gestione organizzazione** o **amministratore sicurezza** .</span><span class="sxs-lookup"><span data-stu-id="d8706-116">To add, modify, and delete anti-malware policies, you need to be a member of the **Organization Management** or **Security Administrator** role groups.</span></span> <span data-ttu-id="d8706-117">Per l'accesso in sola lettura ai criteri anti-malware, è necessario essere membri del gruppo di ruoli **lettore di sicurezza** .</span><span class="sxs-lookup"><span data-stu-id="d8706-117">For read-only access to anti-malware policies, you need to be a member of the **Security Reader** role group.</span></span> <span data-ttu-id="d8706-118">Per ulteriori informazioni sui gruppi di ruoli nel centro sicurezza & Compliance, vedere [Permissions in the Office 365 security & Compliance Center](permissions-in-the-security-and-compliance-center.md).</span><span class="sxs-lookup"><span data-stu-id="d8706-118">For more information about role groups in the Security & Compliance Center, see [Permissions in the Office 365 Security & Compliance Center](permissions-in-the-security-and-compliance-center.md).</span></span>

## <a name="use-the-security--compliance-center-to-create-anti-malware-policies"></a><span data-ttu-id="d8706-119">Utilizzare il Centro sicurezza & conformità per creare criteri anti-malware</span><span class="sxs-lookup"><span data-stu-id="d8706-119">Use the Security & Compliance Center to create anti-malware policies</span></span>

<span data-ttu-id="d8706-120">La creazione di un criterio antimalware personalizzato nel centro sicurezza & conformità crea la regola di filtro antimalware e il criterio di filtro antimalware associato contemporaneamente utilizzando lo stesso nome per entrambi.</span><span class="sxs-lookup"><span data-stu-id="d8706-120">Creating a custom anti-malware policy in the Security & Compliance Center creates the malware filter rule and the associated malware filter policy at the same time using the same name for both.</span></span>

1. <span data-ttu-id="d8706-121">Nel centro sicurezza & conformità, passare a \*\*\*\* \> **gestione** \> minacce **antimalware**, quindi fare clic su **nuova** ![icona](../media/ITPro-EAC-AddIcon.png)Aggiungi.</span><span class="sxs-lookup"><span data-stu-id="d8706-121">In the Security & Compliance Center, go to to **Threat management** \> **Policy** \> **Anti-Malware**, and then click **New** ![Add Icon](../media/ITPro-EAC-AddIcon.png).</span></span>

2. <span data-ttu-id="d8706-122">Nella pagina **nuovo criterio anti-malware** che si apre, configurare queste impostazioni:</span><span class="sxs-lookup"><span data-stu-id="d8706-122">In the **New anti-malware policy** page that opens, configure these settings:</span></span>

   - <span data-ttu-id="d8706-123">**Nome**: immettere un nome descrittivo univoco per il criterio.</span><span class="sxs-lookup"><span data-stu-id="d8706-123">**Name**: Enter a unique, descriptive name for the policy.</span></span>

   - <span data-ttu-id="d8706-124">**Descrizione**: immettere una descrizione facoltativa per il criterio.</span><span class="sxs-lookup"><span data-stu-id="d8706-124">**Description**: Enter an optional description for the policy.</span></span>

   - <span data-ttu-id="d8706-125">**Risposta di rilevamento malware**: selezionare uno di questi valori per i **destinatari che si desidera inviare al messaggio se i messaggi sono messi in quarantena** :</span><span class="sxs-lookup"><span data-stu-id="d8706-125">**Malware detection response**: Select one of these values for the **Do you want to notify recipients if their messages are quarantined?** setting:</span></span>

     - <span data-ttu-id="d8706-126">**No**: il messaggio viene messo in quarantena senza alcuna notifica ai destinatari previsti.</span><span class="sxs-lookup"><span data-stu-id="d8706-126">**No**: The message is quarantined with no notification to the intended recipients.</span></span> <span data-ttu-id="d8706-127">Questo è il valore predefinito.</span><span class="sxs-lookup"><span data-stu-id="d8706-127">This is the default value.</span></span>

     - <span data-ttu-id="d8706-128">**Sì e utilizzare il testo di notifica predefinito**: il messaggio viene messo in quarantena.</span><span class="sxs-lookup"><span data-stu-id="d8706-128">**Yes and use the default notification text**: The message is quarantined.</span></span> <span data-ttu-id="d8706-129">Una copia del messaggio viene recapitata ai destinatari, ma *tutti* gli allegati (non solo quelli rilevati) vengono sostituiti con un singolo file di testo denominato **Malware Alert text. txt** che contiene il testo predefinito.</span><span class="sxs-lookup"><span data-stu-id="d8706-129">A copy of the message is delivered to the recipients, but *all* attachments (not just the detected ones) are replaced with a single text file named **Malware Alert Text.txt** that contains the default text.</span></span> <span data-ttu-id="d8706-130">Per il testo predefinito, vedere [anti-malware Policies](anti-malware-protection.md#anti-malware-policies).</span><span class="sxs-lookup"><span data-stu-id="d8706-130">For the default text, see [Anti-malware policies](anti-malware-protection.md#anti-malware-policies).</span></span>

     - <span data-ttu-id="d8706-131">**Sì e utilizzare il testo di notifica personalizzato**: il messaggio viene messo in quarantena.</span><span class="sxs-lookup"><span data-stu-id="d8706-131">**Yes and use the custom notification text**: The message is quarantined.</span></span> <span data-ttu-id="d8706-132">Una copia del messaggio viene recapitata ai destinatari, ma *tutti* gli allegati (non solo quelli rilevati) vengono sostituiti con un singolo file di testo denominato **Malware Alert text. txt** contenente il testo personalizzato specificato nella casella di **testo avviso personalizzato** .</span><span class="sxs-lookup"><span data-stu-id="d8706-132">A copy of the message is delivered to the recipients, but *all* attachments (not just the detected ones) are replaced with a single text file named **Malware Alert Text.txt** contains custom text you specify in the **Custom alert text** box.</span></span>

   - <span data-ttu-id="d8706-133">**Filtro dei tipi di allegati comuni**: selezionare uno di questi valori per **bloccare i tipi di allegati che possono danneggiare il computer.**:</span><span class="sxs-lookup"><span data-stu-id="d8706-133">**Common Attachment Types Filter**: Select one of these values for **blocking attachment types that may harm your computer.**:</span></span>

     - <span data-ttu-id="d8706-134">**Off**</span><span class="sxs-lookup"><span data-stu-id="d8706-134">**Off**</span></span>

     - <span data-ttu-id="d8706-135">**On**: i messaggi con gli allegati specificati vengono considerati come rilevamenti di malware e vengono automaticamente messi in quarantena.</span><span class="sxs-lookup"><span data-stu-id="d8706-135">**On**: Messages with the specified attachments are treated as malware detections and are automatically quarantined.</span></span> <span data-ttu-id="d8706-136">È possibile modificare l'elenco Bu facendo clic sui pulsanti **Aggiungi** e **Rimuovi** .</span><span class="sxs-lookup"><span data-stu-id="d8706-136">You can modify the list bu clicking the **Add**  and **Remove** buttons.</span></span>

   - <span data-ttu-id="d8706-137">**Malware zero-hour auto Purge**: selezionare uno di questi valori per **proteggere gli utenti mediante l'esecuzione automatica dell'azione dei criteri per la quarantena dei messaggi con malware rilevati dopo il recapito.**</span><span class="sxs-lookup"><span data-stu-id="d8706-137">**Malware Zero-hour Auto Purge**: Select one of these values to **protect your users by automatically taking your policy's action to quarantine messages with malware detected after delivery.**</span></span>

     - <span data-ttu-id="d8706-138">**Off**</span><span class="sxs-lookup"><span data-stu-id="d8706-138">**Off**</span></span>

     - <span data-ttu-id="d8706-139">**Attiva (scelta consigliata)**</span><span class="sxs-lookup"><span data-stu-id="d8706-139">**On (Recommended)**</span></span>

   - <span data-ttu-id="d8706-140">**Notifica**: le impostazioni di questa sezione controllano le notifiche di mittente e amministratore quando viene rilevato malware in un messaggio.</span><span class="sxs-lookup"><span data-stu-id="d8706-140">**Notification**: The settings in this section control sender and admin notifications when malware is detected in a message.</span></span>

     - <span data-ttu-id="d8706-141">**Notifiche mittente**: selezionare una o entrambe le opzioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="d8706-141">**Sender Notifications**: Select one or both of these options:</span></span>

       - <span data-ttu-id="d8706-142">**Notify Internal Senders**: un mittente interno è all'interno dell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="d8706-142">**Notify internal senders**: An internal sender is inside the organization.</span></span>

       - <span data-ttu-id="d8706-143">**Notifica mittenti esterni**: un mittente esterno è esterno all'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="d8706-143">**Notify external senders**: An external sender is outside the organization.</span></span>

     - <span data-ttu-id="d8706-144">**Notifiche dell'amministratore**: selezionare una o entrambe le opzioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="d8706-144">**Administrator Notifications**: Select one or both of these options:</span></span>

       - <span data-ttu-id="d8706-145">**Informare l'amministratore sui messaggi non recapitati da mittenti interni**: se si seleziona questa opzione, immettere un indirizzo di posta elettronica di notifica nella casella **indirizzo di posta elettronica dell'amministratore** .</span><span class="sxs-lookup"><span data-stu-id="d8706-145">**Notify administrator about undelivered messages from internal senders**: If you select this option, enter a notification email address in the **Administrator email address** box.</span></span>

       - <span data-ttu-id="d8706-146">**Informare l'amministratore sui messaggi non recapitati da mittenti esterni**: se si seleziona questa opzione, immettere un indirizzo di posta elettronica di notifica nella casella **indirizzo di posta elettronica dell'amministratore** .</span><span class="sxs-lookup"><span data-stu-id="d8706-146">**Notify administrator about undelivered messages from external senders**: If you select this option, enter a notification email address in the **Administrator email address** box.</span></span>

     - <span data-ttu-id="d8706-147">**Personalizza notifiche**: queste impostazioni sostituiscono il testo di notifica predefinito utilizzato per i mittenti o gli amministratori.</span><span class="sxs-lookup"><span data-stu-id="d8706-147">**Customize Notifications**: These settings replace the default notification text that's used for senders or administrators.</span></span> <span data-ttu-id="d8706-148">Per ulteriori informazioni sui valori predefiniti, vedere [anti-malware Policies](anti-malware-protection.md#anti-malware-policies).</span><span class="sxs-lookup"><span data-stu-id="d8706-148">For more information about the default values, see [Anti-malware policies](anti-malware-protection.md#anti-malware-policies).</span></span>

       - <span data-ttu-id="d8706-149">**Utilizzare il testo di notifica personalizzato**: se si seleziona questa opzione, è necessario utilizzare le caselle **nome** e **Indirizzo** da per specificare il nome e l'indirizzo di posta elettronica del mittente utilizzati nel messaggio di notifica personalizzato.</span><span class="sxs-lookup"><span data-stu-id="d8706-149">**Use customized notification text**: If you select this option, you need to use the **From name** and **From address** boxes to specify the sender's name and email address that's used in the customized notification message.</span></span>

       - <span data-ttu-id="d8706-150">**Messaggi provenienti da mittenti interni**: se si è scelto di inviare notifiche ai mittenti o agli amministratori sui messaggi non recapitabili provenienti da mittenti interni, è necessario utilizzare l' **oggetto** e le finestre di **messaggio** per specificare l'oggetto e il corpo del messaggio di notifica personalizzato.</span><span class="sxs-lookup"><span data-stu-id="d8706-150">**Messages from internal senders**: If you elected to notify senders or administrators about undeliverable messages from internal senders, you need to use the **Subject** and **Message** boxes to specify the subject and message body of the custom notification message.</span></span>

       - <span data-ttu-id="d8706-151">**Messaggi provenienti da mittenti esterni**: se si è scelto di informare i mittenti o gli amministratori sui messaggi non recapitabili provenienti da mittenti esterni, è necessario utilizzare le caselle **oggetto** e **messaggio** per specificare l'oggetto e il corpo del messaggio di notifica personalizzato.</span><span class="sxs-lookup"><span data-stu-id="d8706-151">**Messages from external senders**: If you elected to notify senders or administrators about undeliverable messages from external senders, you need to use the **Subject** and **Message** boxes to specify the subject and message body of the custom notification message.</span></span>

   - <span data-ttu-id="d8706-152">**Applicato a**: le impostazioni di questa sezione identificano i destinatari interni ai quali si applica il criterio.</span><span class="sxs-lookup"><span data-stu-id="d8706-152">**Applied to**: The settings in this section identify the internal recipients that the policy applies to.</span></span>

     - <span data-ttu-id="d8706-153">**Se**: fare clic sul menu a discesa **Seleziona uno** e selezionare le condizioni per la regola:</span><span class="sxs-lookup"><span data-stu-id="d8706-153">**If**: Click on the **Select one** drop down, and select conditions for the rule:</span></span>

       - <span data-ttu-id="d8706-154">**Il destinatario è**: consente di specificare una o più cassette postali, utenti di posta elettronica o contatti di posta nell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="d8706-154">**The recipient is**: Specifies one or more mailboxes, mail users, or mail contacts in your organization.</span></span> <span data-ttu-id="d8706-155">Nella finestra di dialogo **Seleziona membri** visualizzata, selezionare uno o più destinatari dall'elenco, quindi fare clic su **Aggiungi\>**.</span><span class="sxs-lookup"><span data-stu-id="d8706-155">In the **Select members** dialog box that appears, select one or more recipients from the list, and then click **add -\>**.</span></span> <span data-ttu-id="d8706-156">Nella casella **Controlla nomi** , è possibile utilizzare i caratteri jolly per più indirizzi di posta elettronica (ad \*esempio: @fabrikam. com).</span><span class="sxs-lookup"><span data-stu-id="d8706-156">In the **Check names** box, you can use wildcards for multiple email addresses (for example: \*@fabrikam.com).</span></span> <span data-ttu-id="d8706-157">Al termine, fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="d8706-157">When you're finished, click **OK**.</span></span>

       - <span data-ttu-id="d8706-158">**Il dominio del destinatario è**: consente di specificare i destinatari in uno o più dei domini accettati configurati in Office 365.</span><span class="sxs-lookup"><span data-stu-id="d8706-158">**The recipient domain is**: Specifies recipients in one or more of the configured accepted domains in Office 365.</span></span> <span data-ttu-id="d8706-159">Nella finestra di dialogo che viene visualizzata, selezionare uno o più domini, quindi fare clic su **Aggiungi\>**.</span><span class="sxs-lookup"><span data-stu-id="d8706-159">In the dialog box that appears, select one or more domains, and then click **add -\>**.</span></span> <span data-ttu-id="d8706-160">Al termine, fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="d8706-160">When you're finished, click **OK**.</span></span>

       - <span data-ttu-id="d8706-161">**Il destinatario è un membro di**: consente di specificare uno o più gruppi nell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="d8706-161">**The recipient is a member of**: Specifies one or more groups in your organization.</span></span> <span data-ttu-id="d8706-162">Nella finestra di dialogo **Seleziona membri** visualizzata, selezionare uno o più gruppi nell'elenco e quindi fare clic su **Aggiungi\>**.</span><span class="sxs-lookup"><span data-stu-id="d8706-162">In the **Select members** dialog box that appears, select one or more groups from the list, and then click **add -\>**.</span></span> <span data-ttu-id="d8706-163">Al termine, fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="d8706-163">When you're finished, click **OK**.</span></span>

     <span data-ttu-id="d8706-164">È possibile utilizzare una sola condizione una sola volta, ma è possibile specificare più valori per la condizione.</span><span class="sxs-lookup"><span data-stu-id="d8706-164">You can only use a condition once, but you can specify multiple values for the condition.</span></span> <span data-ttu-id="d8706-165">Più valori della stessa condizione di utilizzo o logica (ad esempio, _ \<recipient1\> _ o _ \<recipient2\>_).</span><span class="sxs-lookup"><span data-stu-id="d8706-165">Multiple values of the same condition use OR logic (for example, _\<recipient1\>_ or _\<recipient2\>_).</span></span> <span data-ttu-id="d8706-166">Condizioni di utilizzo e logica diverse (ad esempio _ \<,\> recipient1_ e _ \<membro del gruppo\>1_).</span><span class="sxs-lookup"><span data-stu-id="d8706-166">Different conditions use AND logic (for example, _\<recipient1\>_ and _\<member of group 1\>_).</span></span> <span data-ttu-id="d8706-167">Per aggiungere ulteriori condizioni, selezionare **Aggiungi condizione** ed effettuare la selezione tra le opzioni rimanenti.</span><span class="sxs-lookup"><span data-stu-id="d8706-167">To add more conditions, click **Add condition** and select from the remaining options.</span></span>

     - <span data-ttu-id="d8706-168">**Eccetto se**: per aggiungere eccezioni per la regola, fare clic su **Aggiungi eccezione**, fare clic sul menu a discesa **Seleziona un** verso il basso e configurare le eccezioni.</span><span class="sxs-lookup"><span data-stu-id="d8706-168">**Except if**: To add exceptions for the rule, click **Add exception**, click on the **Select one** drop down, and configure the exceptions.</span></span> <span data-ttu-id="d8706-169">Le impostazioni e il comportamento sono esattamente come le condizioni.</span><span class="sxs-lookup"><span data-stu-id="d8706-169">The settings and behavior are exactly like the conditions.</span></span>

3. <span data-ttu-id="d8706-170">Al termine, scegliere **Salva**.</span><span class="sxs-lookup"><span data-stu-id="d8706-170">When you're finished, click **Save**.</span></span>

## <a name="use-the-security--compliance-center-to-view-anti-malware-policies"></a><span data-ttu-id="d8706-171">Utilizzare il Centro sicurezza & conformità per visualizzare i criteri anti-malware</span><span class="sxs-lookup"><span data-stu-id="d8706-171">Use the Security & Compliance Center to view anti-malware policies</span></span>

1. <span data-ttu-id="d8706-172">Nel centro sicurezza & conformità, accedere a **criteri** \> di **gestione** \> delle minacce **anti-malware**.</span><span class="sxs-lookup"><span data-stu-id="d8706-172">In the Security & Compliance Center, go to **Threat management** \> **Policy** \> **Anti-Malware**.</span></span>

2. <span data-ttu-id="d8706-173">Quando si seleziona un filtro, informazioni sul filtro vengono visualizzate nel riquadro dettagli.</span><span class="sxs-lookup"><span data-stu-id="d8706-173">When you select a policy, information about the policy is displayed in the details pane.</span></span> <span data-ttu-id="d8706-174">Per ulteriori informazioni sul criterio, fare clic su **modifica** ![icona](../media/ITPro-EAC-EditIcon.png)modifica.</span><span class="sxs-lookup"><span data-stu-id="d8706-174">To see more information about the policy, click **Edit** ![Edit icon](../media/ITPro-EAC-EditIcon.png).</span></span>

   - <span data-ttu-id="d8706-175">Il valore della proprietà **Enabled**, il valore della proprietà **Priority** e le impostazioni della scheda **Applicato a** sono presenti nella regola di filtro antimalware.</span><span class="sxs-lookup"><span data-stu-id="d8706-175">The **Enabled** property value, the **Priority** property value, and the settings on the **Applied to** tab are in the malware filter rule.</span></span>

   - <span data-ttu-id="d8706-176">Le impostazioni sulle schede **Generale** e **Impostazioni** sono presenti nel criterio di filtro antimalware.</span><span class="sxs-lookup"><span data-stu-id="d8706-176">The settings on the **General** and **Settings** tabs are in the malware filter policy.</span></span>

## <a name="use-the-security--compliance-center-to-modify-anti-malware-policies"></a><span data-ttu-id="d8706-177">Utilizzare il Centro sicurezza & conformità per modificare i criteri anti-malware</span><span class="sxs-lookup"><span data-stu-id="d8706-177">Use the Security & Compliance Center to modify anti-malware policies</span></span>

1. <span data-ttu-id="d8706-178">Nel centro sicurezza & conformità, accedere a **criteri** \> di **gestione** \> delle minacce **anti-malware**.</span><span class="sxs-lookup"><span data-stu-id="d8706-178">In the Security & Compliance Center, go to **Threat management** \> **Policy** \> **Anti-Malware**.</span></span>

2. <span data-ttu-id="d8706-179">Selezionare il criterio, quindi fare clic su **modifica** ![icona](../media/ITPro-EAC-EditIcon.png)modifica.</span><span class="sxs-lookup"><span data-stu-id="d8706-179">Select the policy, and then click **Edit** ![Edit icon](../media/ITPro-EAC-EditIcon.png).</span></span> <span data-ttu-id="d8706-180">Per informazioni sulle impostazioni, vedere la sezione [use the Security & Compliance Center to create anti-malware Policies](#use-the-security--compliance-center-to-create-anti-malware-policies) in this topic.</span><span class="sxs-lookup"><span data-stu-id="d8706-180">For information about the settings, see the [Use the Security & Compliance Center to create anti-malware policies](#use-the-security--compliance-center-to-create-anti-malware-policies) section in this topic.</span></span>

   <span data-ttu-id="d8706-181">**Note**:</span><span class="sxs-lookup"><span data-stu-id="d8706-181">**Notes**:</span></span>

   - <span data-ttu-id="d8706-182">Le impostazioni non sono tutte presenti sulla stessa pagina, ma sono suddivise tra le schede **Generale**, **Impostazioni** e **Applicato a**.</span><span class="sxs-lookup"><span data-stu-id="d8706-182">Instead of everything on one page, the settings are divided among the **General**, **Settings**, and **Applied to** tabs.</span></span> <span data-ttu-id="d8706-183">La scheda **applicato a** non è disponibile nel criterio predefinito denominato default (che viene applicato automaticamente a tutti gli utenti).</span><span class="sxs-lookup"><span data-stu-id="d8706-183">The **Applied to** tab isn't available in the default policy named Default (which is automatically applied to everyone).</span></span>

   - <span data-ttu-id="d8706-184">Non è possibile rinominare il criterio predefinito.</span><span class="sxs-lookup"><span data-stu-id="d8706-184">You can't rename the default policy.</span></span>

## <a name="use-the-security--compliance-center-to-enable-or-disable-anti-malware-policies"></a><span data-ttu-id="d8706-185">Utilizzare il Centro sicurezza & conformità per abilitare o disabilitare i criteri anti-malware</span><span class="sxs-lookup"><span data-stu-id="d8706-185">Use the Security & Compliance Center to enable or disable anti-malware policies</span></span>

1. <span data-ttu-id="d8706-186">Nel centro sicurezza & conformità, accedere a **criteri** \> di **gestione** \> delle minacce **anti-malware**.</span><span class="sxs-lookup"><span data-stu-id="d8706-186">In the Security & Compliance Center, go to **Threat management** \> **Policy** \> **Anti-Malware**.</span></span>

2. <span data-ttu-id="d8706-187">Selezionare il criterio dall'elenco e quindi configurare una delle opzioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="d8706-187">Select the policy from the list, and then configure one of the following settings:</span></span>

   - <span data-ttu-id="d8706-188">**Disabilitare il criterio**: deselezionare la casella di controllo nella colonna **Enabled** .</span><span class="sxs-lookup"><span data-stu-id="d8706-188">**Disable the policy**: Clear the check box in the **Enabled** column.</span></span> <span data-ttu-id="d8706-189">Per impostazione predefinita, i criteri anti-malware sono abilitati quando vengono creati nel centro sicurezza & conformità.</span><span class="sxs-lookup"><span data-stu-id="d8706-189">By default, anti-malware policies are enabled when you create them in the Security & Compliance Center.</span></span>

   - <span data-ttu-id="d8706-190">**Attiva il criterio**: selezionare la casella di controllo nella colonna **Enabled** .</span><span class="sxs-lookup"><span data-stu-id="d8706-190">**Enable the policy**: Select the check box in the **Enabled** column.</span></span>

## <a name="use-the-security--compliance-center-to-set-the-priority-of-custom-anti-malware-policies"></a><span data-ttu-id="d8706-191">Utilizzare il Centro sicurezza & conformità per impostare la priorità dei criteri anti-malware personalizzati</span><span class="sxs-lookup"><span data-stu-id="d8706-191">Use the Security & Compliance Center to set the priority of custom anti-malware policies</span></span>

<span data-ttu-id="d8706-192">Per impostazione predefinita, ai criteri antimalware viene assegnata una priorità che si basa sull'ordine in cui sono stati creati (le nuove polizie sono più basse rispetto ai criteri precedenti).</span><span class="sxs-lookup"><span data-stu-id="d8706-192">By default, anti-malware policies are given a priority that's based on the order they were created in (newer polices are lower priority than older policies).</span></span> <span data-ttu-id="d8706-193">Un valore di priorità inferiore indica una priorità più alta per il criterio e i criteri vengono elaborati nell'ordine di priorità (i criteri con priorità più elevata vengono elaborati prima di quelli con priorità più bassa).</span><span class="sxs-lookup"><span data-stu-id="d8706-193">A lower priority number indicates a higher priority for the policy, and policies are processed in priority order (higher priority policies are processed before lower priority policies).</span></span> <span data-ttu-id="d8706-194">Due criteri non possono avere priorità uguale.</span><span class="sxs-lookup"><span data-stu-id="d8706-194">No two policies can have the same priority.</span></span>

 <span data-ttu-id="d8706-195">**Note**:</span><span class="sxs-lookup"><span data-stu-id="d8706-195">**Notes**:</span></span>

- <span data-ttu-id="d8706-196">Nel centro sicurezza & conformità è possibile modificare solo la priorità del criterio antimalware dopo averlo creato.</span><span class="sxs-lookup"><span data-stu-id="d8706-196">In the Security & Compliance Center, you can only change the priority of the anti-malware policy after you create it.</span></span> <span data-ttu-id="d8706-197">In PowerShell, è possibile ignorare la priorità predefinita quando si crea la regola di filtro antimalware (che può influire sulla priorità delle regole esistenti).</span><span class="sxs-lookup"><span data-stu-id="d8706-197">In PowerShell, you can override the default priority when you create the malware filter rule (which can affect the priority of existing rules).</span></span>

- <span data-ttu-id="d8706-198">Nel centro sicurezza & conformità, i criteri anti-malware vengono elaborati nell'ordine in cui vengono visualizzati (il primo criterio ha il valore di **priorità** 0).</span><span class="sxs-lookup"><span data-stu-id="d8706-198">In the Security & Compliance Center, anti-malware policies are processed in the order that they're displayed (the first policy has the **Priority** value 0).</span></span> <span data-ttu-id="d8706-199">Il criterio antimalware predefinito denominato default ha il valore di priorità **più basso**e non è possibile modificarlo.</span><span class="sxs-lookup"><span data-stu-id="d8706-199">The default anti-malware policy named Default has the priority value **Lowest**, and you can't change it.</span></span>

<span data-ttu-id="d8706-200">Per modificare la priorità di un criterio, spostare il criterio verso l'alto o verso il basso nell'elenco (non è possibile modificare direttamente il numero di **priorità** nel centro sicurezza & conformità).</span><span class="sxs-lookup"><span data-stu-id="d8706-200">To change the priority of a policy, move the policy up or down in the list (you can't directly modify the **Priority** number in the Security & Compliance Center).</span></span>

1. <span data-ttu-id="d8706-201">Nel centro sicurezza & conformità, accedere a **criteri** \> di **gestione** \> delle minacce **anti-malware**.</span><span class="sxs-lookup"><span data-stu-id="d8706-201">In the Security & Compliance Center, go to **Threat management** \> **Policy** \> **Anti-Malware**.</span></span>

2. <span data-ttu-id="d8706-202">Selezionare un criterio, quindi fare clic su **Sposta su** ![verso l'](../media/ITPro-EAC-UpArrowIcon.png) alto **o su** ![freccia verso il](../media/ITPro-EAC-DownArrowIcon.png) basso per spostare la regola verso l'alto o verso il basso nell'elenco.</span><span class="sxs-lookup"><span data-stu-id="d8706-202">Select a policy, and then click **Move up** ![Up Arrow icon](../media/ITPro-EAC-UpArrowIcon.png) or **Move down** ![Down Arrow icon](../media/ITPro-EAC-DownArrowIcon.png) to move the rule up or down in the list.</span></span>

## <a name="use-the-security--compliance-center-to-remove-anti-malware-policies"></a><span data-ttu-id="d8706-203">Utilizzare il Centro sicurezza & conformità per rimuovere i criteri anti-malware</span><span class="sxs-lookup"><span data-stu-id="d8706-203">Use the Security & Compliance Center to remove anti-malware policies</span></span>

<span data-ttu-id="d8706-204">Quando si utilizza il Centro sicurezza & conformità per rimuovere un criterio antimalware, la regola di filtro antimalware e i criteri di filtro antimalware corrispondenti vengono entrambi eliminati.</span><span class="sxs-lookup"><span data-stu-id="d8706-204">When you use the Security & Compliance Center to remove an anti-malware policy, the malware filter rule and the corresponding malware filter policy are both deleted.</span></span>

1. <span data-ttu-id="d8706-205">Nel centro sicurezza & conformità, accedere a **criteri** \> di **gestione** \> delle minacce **anti-malware**.</span><span class="sxs-lookup"><span data-stu-id="d8706-205">In the Security & Compliance Center, go to **Threat management** \> **Policy** \> **Anti-Malware**.</span></span>

2. <span data-ttu-id="d8706-206">Selezionare il criterio antimalware che si desidera rimuovere dall'elenco, quindi fare clic su **Elimina** ![icona](../media/ITPro-EAC-DeleteIcon.png)di eliminazione.</span><span class="sxs-lookup"><span data-stu-id="d8706-206">Select the anti-malware policy you want to remove from the list, and then click **Delete** ![Delete icon](../media/ITPro-EAC-DeleteIcon.png).</span></span>

## <a name="use-exchange-online-powershell-or-exchange-online-protection-powershell-to-configure-anti-malware-policies"></a><span data-ttu-id="d8706-207">Utilizzare Exchange Online PowerShell o Exchange Online Protection PowerShell per configurare i criteri anti-malware</span><span class="sxs-lookup"><span data-stu-id="d8706-207">Use Exchange Online PowerShell or Exchange Online Protection PowerShell to configure anti-malware policies</span></span>

### <a name="use-powershell-to-create-anti-malware-policies"></a><span data-ttu-id="d8706-208">Utilizzo di PowerShell per creare criteri anti-malware</span><span class="sxs-lookup"><span data-stu-id="d8706-208">Use PowerShell to create anti-malware policies</span></span>

<span data-ttu-id="d8706-209">La creazione di un criterio antimalware in PowerShell è un processo in due passaggi:</span><span class="sxs-lookup"><span data-stu-id="d8706-209">Creating an anti-malware policy in PowerShell is a two-step process:</span></span>

1. <span data-ttu-id="d8706-210">Creare il criterio del filtro antimalware.</span><span class="sxs-lookup"><span data-stu-id="d8706-210">Create the malware filter policy.</span></span>

2. <span data-ttu-id="d8706-211">Creare la regola del filtro antimalware che identifica il criterio del filtro antimalware cui viene applicata la regola.</span><span class="sxs-lookup"><span data-stu-id="d8706-211">Create the malware filter rule that specifies the malware filter policy that the rule applies to.</span></span>

 <span data-ttu-id="d8706-212">**Note**:</span><span class="sxs-lookup"><span data-stu-id="d8706-212">**Notes**:</span></span>

- <span data-ttu-id="d8706-213">È possibile creare una nuova regola di filtro antimalware e assegnare un criterio di filtro antimalware esistente e non associato.</span><span class="sxs-lookup"><span data-stu-id="d8706-213">You can create a new malware filter rule and assign an existing, unassociated malware filter policy to it.</span></span> <span data-ttu-id="d8706-214">Non è possibile associare una regola di filtro antimalware a più di un criterio di filtro antimalware.</span><span class="sxs-lookup"><span data-stu-id="d8706-214">A malware filter rule can't be associated with more than one malware filter policy.</span></span>

- <span data-ttu-id="d8706-215">Sono disponibili due impostazioni che è possibile configurare sui nuovi criteri antimalware in PowerShell che non sono presenti nel centro sicurezza & conformità fino a dopo la creazione del criterio:</span><span class="sxs-lookup"><span data-stu-id="d8706-215">There are two settings that you can configure on new anti-malware policies in PowerShell that aren't available in the Security & Compliance Center until after you create the policy:</span></span>

  - <span data-ttu-id="d8706-216">Creare il nuovo criterio come disabilitato (_attivato_ `$false` nel cmdlet **New-MalwareFilterPolicy** ).</span><span class="sxs-lookup"><span data-stu-id="d8706-216">Create the new policy as disabled (_Enabled_ `$false` on the **New-MalwareFilterPolicy** cmdlet).</span></span>

  - <span data-ttu-id="d8706-217">Impostare la priorità dei criteri durante la creazione (__ _ \<numero\>_ di priorità) nel cmdlet **New-MalwareFilterRule** ).</span><span class="sxs-lookup"><span data-stu-id="d8706-217">Set the priority of the policy during creation (_Priority_ _\<Number\>_) on the **New-MalwareFilterRule** cmdlet).</span></span>

- <span data-ttu-id="d8706-218">I risultati non sono visibili nel centro sicurezza & conformità fino a quando non si assegna il criterio di filtro antimalware a una regola di filtro antimalware.</span><span class="sxs-lookup"><span data-stu-id="d8706-218">The results aren't visible in the Security & Compliance Center until you assign the malware filter policy to a malware filter rule.</span></span>

#### <a name="step-1-use-powershell-to-create-a-malware-filter-policy"></a><span data-ttu-id="d8706-219">Passaggio 1: utilizzare PowerShell per creare un criterio di filtro antimalware</span><span class="sxs-lookup"><span data-stu-id="d8706-219">Step 1: Use PowerShell to create a malware filter policy</span></span>

<span data-ttu-id="d8706-220">**Nota**: i valori dei parametri di _azione_ _DeleteMessage_, _DeleteAttachmentAndUseDefaultAlert_e _DeleteAttachmentAndUseCustomAlert_ non eliminano i messaggi nel servizio basato su cloud.</span><span class="sxs-lookup"><span data-stu-id="d8706-220">**Note**: The _Action_ parameter values _DeleteMessage_, _DeleteAttachmentAndUseDefaultAlert_, and _DeleteAttachmentAndUseCustomAlert_ don't delete messages in the cloud-based service.</span></span> <span data-ttu-id="d8706-221">I messaggi vengono invece messi in quarantena.</span><span class="sxs-lookup"><span data-stu-id="d8706-221">Instead, the messages are quarantined.</span></span> <span data-ttu-id="d8706-222">Per ulteriori informazioni sul recupero dei messaggi in quarantena, vedere [trovare e rilasciare i messaggi in quarantena come amministratore](find-and-release-quarantined-messages-as-an-administrator.md).</span><span class="sxs-lookup"><span data-stu-id="d8706-222">For more information about retrieving quarantined messages, see [Find and release quarantined messages as an administrator](find-and-release-quarantined-messages-as-an-administrator.md).</span></span>

<span data-ttu-id="d8706-223">Per creare un criterio di filtro di antimalware, utilizzare questa sintassi:</span><span class="sxs-lookup"><span data-stu-id="d8706-223">To create a malware filter policy, use this syntax:</span></span>

```PowerShell
New-MalwareFilterPolicy -Name "<PolicyName>" [-Action <DeleteMessage | DeleteAttachmentAndUseDefaultAlert | DeleteAttachmentAndUseCustomAlert>] [-AdminDisplayName "<OptionalComments>"] [-CustomNotifications <$true | $false>] [<Inbound notification options>] [<Outbound notification options>]
```

<span data-ttu-id="d8706-224">Con questo esempio viene creato un nuovo criterio per il filtro antimalware denominato Contoso Malware Filter Policy con queste impostazioni:</span><span class="sxs-lookup"><span data-stu-id="d8706-224">This example creates a new malware filter policy named Contoso Malware Filter Policy with these settings:</span></span>

- <span data-ttu-id="d8706-225">Mettere in quarantena i messaggi che contengono malware senza inviare notifiche ai destinatari (non si utilizza il parametro _Action_ e il valore `DeleteMessage`predefinito è).</span><span class="sxs-lookup"><span data-stu-id="d8706-225">Quarantine messages that contain malware without notifying the recipients (we aren't using the _Action_ parameter, and the default value is `DeleteMessage`).</span></span>

- <span data-ttu-id="d8706-226">Non notificare al mittente il messaggio quando viene rilevato malware nel messaggio (non si utilizzano i parametri _EnableExternalSenderNotifications_ o _EnableInternalSenderNotifications_ e il valore predefinito per entrambi è `$false`).</span><span class="sxs-lookup"><span data-stu-id="d8706-226">Don't notify the message sender when malware is detected in the message (we aren't using the _EnableExternalSenderNotifications_ or _EnableInternalSenderNotifications_ parameters, and the default value for both is `$false`).</span></span>

- <span data-ttu-id="d8706-227">Notifica all'amministratore admin@contoso.com quando viene rilevato malware in un messaggio proveniente da un mittente interno.</span><span class="sxs-lookup"><span data-stu-id="d8706-227">Notify the administrator admin@contoso.com when malware is detected in a message from an internal sender.</span></span>

```PowerShell
New-MalwareFilterPolicy -Name "Contoso Malware Filter Policy" -EnableInternalSenderAdminNotifications $true -InternalSenderAdminAddress admin@contoso.com
```

<span data-ttu-id="d8706-228">Per informazioni dettagliate sulla sintassi e sui parametri, vedere [New-MalwareFilterPolicy](https://docs.microsoft.com/powershell/module/exchange/antispam-antimalware/new-malwarefilterpolicy).</span><span class="sxs-lookup"><span data-stu-id="d8706-228">For detailed syntax and parameter information, see [New-MalwareFilterPolicy](https://docs.microsoft.com/powershell/module/exchange/antispam-antimalware/new-malwarefilterpolicy).</span></span>

#### <a name="step-2-use-powershell-to-create-a-malware-filter-rule"></a><span data-ttu-id="d8706-229">Passaggio 2: utilizzare PowerShell per creare una regola di filtro antimalware</span><span class="sxs-lookup"><span data-stu-id="d8706-229">Step 2: Use PowerShell to create a malware filter rule</span></span>

<span data-ttu-id="d8706-230">Per creare una regola di filtro di antimalware, utilizzare questa sintassi:</span><span class="sxs-lookup"><span data-stu-id="d8706-230">To create a malware filter rule, use this syntax:</span></span>

```PowerShell
New-MalwareFilterRule -Name "<RuleName>" -MalwareFilterPolicy "<PolicyName>" <Recipient filters> [<Recipient filter exceptions>] [-Comments "<OptionalComments>"]
```

<span data-ttu-id="d8706-231">Questo esempio crea una nuova regola di filtro malware denominata Contoso Recipients con queste impostazioni:</span><span class="sxs-lookup"><span data-stu-id="d8706-231">This example creates a new malware filter rule named Contoso Recipients with these settings:</span></span>

- <span data-ttu-id="d8706-232">Il criterio di filtro antimalware denominato Contoso Malware Filter Policy viene associato alla regola.</span><span class="sxs-lookup"><span data-stu-id="d8706-232">The malware filter policy named Contoso Malware Filter Policy is associated with the rule.</span></span>

- <span data-ttu-id="d8706-233">La regola si applica ai destinatari nel dominio contoso.com.</span><span class="sxs-lookup"><span data-stu-id="d8706-233">The rule applies to recipients in the contoso.com domain.</span></span>

```PowerShell
New-MalwareFilterRule -Name "Contoso Recipients" -MalwareFilterPolicy "Contoso Malware Filter Policy" -RecipientDomainIs contoso.com
```

<span data-ttu-id="d8706-234">Per informazioni dettagliate sulla sintassi e sui parametri, vedere [New-MalwareFilterRule](https://docs.microsoft.com/powershell/module/exchange/antispam-antimalware/new-malwarefilterrule).</span><span class="sxs-lookup"><span data-stu-id="d8706-234">For detailed syntax and parameter information, see [New-MalwareFilterRule](https://docs.microsoft.com/powershell/module/exchange/antispam-antimalware/new-malwarefilterrule).</span></span>

### <a name="use-powershell-to-view-malware-filter-policies"></a><span data-ttu-id="d8706-235">Utilizzo di PowerShell per visualizzare i criteri di filtro antimalware</span><span class="sxs-lookup"><span data-stu-id="d8706-235">Use PowerShell to view malware filter policies</span></span>

<span data-ttu-id="d8706-236">Per visualizzare un elenco riepilogativo di tutti i criteri di filtro antimalware, eseguire questo comando:</span><span class="sxs-lookup"><span data-stu-id="d8706-236">To return a summary list of all malware filter policies, run this command:</span></span>

```PowerShell
Get-MalwareFilterPolicy
```

<span data-ttu-id="d8706-237">Per visualizzare informazioni dettagliate su un criterio di filtro antimalware specifico, utilizzare questa sintassi:</span><span class="sxs-lookup"><span data-stu-id="d8706-237">To return detailed information about a specific malware filter policy, use the this syntax:</span></span>

```PowerShell
Get-MalwareFilterPolicy -Identity "<PolicyName>" | Format-List [<Specific properties to view>]
```

<span data-ttu-id="d8706-238">In questo esempio vengono visualizzati tutti i valori delle proprietà per il criterio di filtro antimalware denominato Executives.</span><span class="sxs-lookup"><span data-stu-id="d8706-238">This example returns all the property values for the malware filter policy named Executives.</span></span>

```PowerShell
Get-MalwareFilterPolicy -Identity "Executives" | Format-List
```

<span data-ttu-id="d8706-239">In questo esempio vengono visualizzate solo le proprietà specificate per lo stesso criterio.</span><span class="sxs-lookup"><span data-stu-id="d8706-239">This example returns only the specified properties for the same policy.</span></span>

```PowerShell
Get-MalwareFilterPolicy -Identity "Executives" | Format-List Action,AdminDisplayName,CustomNotifications,Enable*Notifications
```

<span data-ttu-id="d8706-240">Per informazioni dettagliate sulla sintassi e sui parametri, vedere [Get-MalwareFilterPolicy](https://docs.microsoft.com/powershell/module/exchange/antispam-antimalware/get-malwarefilterpolicy).</span><span class="sxs-lookup"><span data-stu-id="d8706-240">For detailed syntax and parameter information, see [Get-MalwareFilterPolicy](https://docs.microsoft.com/powershell/module/exchange/antispam-antimalware/get-malwarefilterpolicy).</span></span>

### <a name="use-powershell-to-view-malware-filter-rules"></a><span data-ttu-id="d8706-241">Utilizzo di PowerShell per visualizzare le regole di filtro antimalware</span><span class="sxs-lookup"><span data-stu-id="d8706-241">Use PowerShell to view malware filter rules</span></span>

<span data-ttu-id="d8706-242">Per visualizzare un elenco riepilogativo di tutte le regole di filtro antimalware, eseguire questo comando:</span><span class="sxs-lookup"><span data-stu-id="d8706-242">To return a summary list of all malware filter rules, run this command:</span></span>

```PowerShell
Get-MalwareFilterRule
```

<span data-ttu-id="d8706-243">Per visualizzare informazioni dettagliate su una regola di filtro antimalware specifica, utilizzare questa sintassi:</span><span class="sxs-lookup"><span data-stu-id="d8706-243">To return detailed information about a specific malware filter rule, use this syntax:</span></span>

```PowerShell
Get-MalwareFilterRule -Identity "<RuleName>" | Format-List [<Specific properties to view>]
```

<span data-ttu-id="d8706-244">In questo esempio vengono visualizzati tutti i valori delle proprietà per la regola di filtro antimalware denominata Executives.</span><span class="sxs-lookup"><span data-stu-id="d8706-244">This example returns all the property values for the malware filter rule named Executives.</span></span>

```PowerShell
Get-MalwareFilterRule -Identity "Executives" | Format-List
```

<span data-ttu-id="d8706-245">In questo esempio vengono visualizzate solo le proprietà specificate per la stessa regola.</span><span class="sxs-lookup"><span data-stu-id="d8706-245">This example returns only the specified properties for the same rule.</span></span>

```PowerShell
Get-MalwareFilterRule -Identity "Executives" | Format-List Name,Priority,State,MalwareFilterPolicy,*Is,*SentTo,*MemberOf
```

<span data-ttu-id="d8706-246">Per informazioni dettagliate sulla sintassi e sui parametri, vedere [Get-MalwareFilterRule](https://docs.microsoft.com/powershell/module/exchange/antispam-antimalware/get-malwarefilterrule).</span><span class="sxs-lookup"><span data-stu-id="d8706-246">For detailed syntax and parameter information, see [Get-MalwareFilterRule](https://docs.microsoft.com/powershell/module/exchange/antispam-antimalware/get-malwarefilterrule).</span></span>

### <a name="use-powershell-to-modify-malware-filter-policies"></a><span data-ttu-id="d8706-247">Utilizzo di PowerShell per modificare i criteri di filtro antimalware</span><span class="sxs-lookup"><span data-stu-id="d8706-247">Use PowerShell to modify malware filter policies</span></span>

<span data-ttu-id="d8706-248">L'unica impostazione aggiuntiva disponibile quando si modifica un criterio di filtro antimalware in PowerShell è l'opzione _MakeDefault_ che trasforma il criterio nel criterio predefinito (applicato a tutti, priorità **più bassa** e non è possibile eliminarlo).</span><span class="sxs-lookup"><span data-stu-id="d8706-248">The only additional setting that's available when you modify a malware filter policy in PowerShell is the _MakeDefault_ switch that turns the policy into the default policy (applied to everyone, **Lowest** priority, and you can't delete it).</span></span>

<span data-ttu-id="d8706-249">In caso contrario, non sono disponibili altre impostazioni quando si modifica un criterio di filtro antimalware in PowerShell.</span><span class="sxs-lookup"><span data-stu-id="d8706-249">Otherwise, no additional settings are available when you modify a malware filter policy in PowerShell.</span></span> <span data-ttu-id="d8706-250">Le stesse impostazioni sono disponibili quando si crea un criterio come descritto nel [passaggio 1: utilizzare PowerShell per creare una sezione dei criteri di filtro antimalware](#step-1-use-powershell-to-create-a-malware-filter-policy) più indietro in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="d8706-250">The same settings are available when you create a policy as described in the [Step 1: Use PowerShell to create a malware filter policy](#step-1-use-powershell-to-create-a-malware-filter-policy) section earlier in this topic.</span></span> <span data-ttu-id="d8706-251">Si noti che non è possibile rinominare il criterio predefinito denominato default.</span><span class="sxs-lookup"><span data-stu-id="d8706-251">Note that you can't rename the default policy named Default.</span></span>

<span data-ttu-id="d8706-252">Per modificare un criterio di filtro di antimalware, utilizzare questa sintassi:</span><span class="sxs-lookup"><span data-stu-id="d8706-252">To modify a malware filter policy, use this syntax:</span></span>

```PowerShell
Set-MalwareFilterPolicy -Identity "<PolicyName>" <Settings>
```

<span data-ttu-id="d8706-253">Per informazioni dettagliate sulla sintassi e sui parametri, vedere [Set-MalwareFilterPolicy](https://docs.microsoft.com/powershell/module/exchange/antispam-antimalware/set-malwarefilterpolicy).</span><span class="sxs-lookup"><span data-stu-id="d8706-253">For detailed syntax and parameter information, see [Set-MalwareFilterPolicy](https://docs.microsoft.com/powershell/module/exchange/antispam-antimalware/set-malwarefilterpolicy).</span></span>

### <a name="use-powershell-to-modify-malware-filter-rules"></a><span data-ttu-id="d8706-254">Utilizzo di PowerShell per modificare le regole di filtro antimalware</span><span class="sxs-lookup"><span data-stu-id="d8706-254">Use PowerShell to modify malware filter rules</span></span>

<span data-ttu-id="d8706-255">L'unica impostazione che non è disponibile quando si modifica una regola di filtro antimalware in PowerShell è il parametro _Enabled_ che consente di creare una regola disattivata.</span><span class="sxs-lookup"><span data-stu-id="d8706-255">The only setting that isn't available when you modify a malware filter rule in PowerShell is the _Enabled_ parameter that allows you to create a disabled rule.</span></span> <span data-ttu-id="d8706-256">Per abilitare o disabilitare le regole di filtro antimalware esistenti, vedere la sezione successiva.</span><span class="sxs-lookup"><span data-stu-id="d8706-256">To enable or disable existing malware filter rules, see the next section.</span></span>

<span data-ttu-id="d8706-257">In caso contrario, non sono disponibili altre impostazioni quando si modifica una regola di filtro antimalware in PowerShell.</span><span class="sxs-lookup"><span data-stu-id="d8706-257">Otherwise, no additional settings are available when you modify a malware filter rule in PowerShell.</span></span> <span data-ttu-id="d8706-258">Le stesse impostazioni sono disponibili quando si crea una regola come descritto nel [passaggio 2: utilizzare PowerShell per creare una regola di filtro antimalware](#step-2-use-powershell-to-create-a-malware-filter-rule) descritta in precedenza in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="d8706-258">The same settings are available when you create a rule as described in the [Step 2: Use PowerShell to create a malware filter rule](#step-2-use-powershell-to-create-a-malware-filter-rule) section earlier in this topic.</span></span>

<span data-ttu-id="d8706-259">Per modificare una regola di filtro di antimalware, utilizzare questa sintassi:</span><span class="sxs-lookup"><span data-stu-id="d8706-259">To modify a malware filter rule, use this syntax:</span></span>

```PowerShell
Set-MalwareFilterRule -Identity "<RuleName>" <Settings>
```

<span data-ttu-id="d8706-260">Per informazioni dettagliate sulla sintassi e sui parametri, vedere [Set-MalwareFilterRule](https://docs.microsoft.com/powershell/module/exchange/antispam-antimalware/set-malwarefilterrule).</span><span class="sxs-lookup"><span data-stu-id="d8706-260">For detailed syntax and parameter information, see [Set-MalwareFilterRule](https://docs.microsoft.com/powershell/module/exchange/antispam-antimalware/set-malwarefilterrule).</span></span>

### <a name="use-powershell-to-enable-or-disable-malware-filter-rules"></a><span data-ttu-id="d8706-261">Utilizzo di PowerShell per abilitare o disabilitare le regole di filtro antimalware</span><span class="sxs-lookup"><span data-stu-id="d8706-261">Use PowerShell to enable or disable malware filter rules</span></span>

<span data-ttu-id="d8706-262">L'abilitazione o disabilitazione di una regola di filtro antimalware in PowerShell attiva o disattiva l'applicazione di tutto il criterio antimalware (il criterio di filtro antimalware e la regola di filtro antimalware corrispondente).</span><span class="sxs-lookup"><span data-stu-id="d8706-262">Enabling or disabling a malware filter rule in PowerShell enables or disables the application of the whole anti-malware policy (the malware filter policy and the corresponding malware filter rule).</span></span>

<span data-ttu-id="d8706-263">Per abilitare o disabilitare una regola di filtro antimalware in PowerShell, utilizzare la sintassi seguente:</span><span class="sxs-lookup"><span data-stu-id="d8706-263">To enable or disable a malware filter rule in PowerShell, use this syntax:</span></span>

```PowerShell
<Enable-MalwareFilterRule | Disable-MalwareFilterRule> -Identity "<RuleName>"
```

<span data-ttu-id="d8706-264">In questo esempio viene disabilitata la regola di filtro antimalware denominata Marketing Department.</span><span class="sxs-lookup"><span data-stu-id="d8706-264">This example disables the malware filter rule named Marketing Department.</span></span>

```PowerShell
Disable-MalwareFilterRule -Identity "Marketing Department"
```

<span data-ttu-id="d8706-265">In questo esempio viene abilitata la stessa regola.</span><span class="sxs-lookup"><span data-stu-id="d8706-265">This example enables same rule.</span></span>

```PowerShell
Enable-MalwareFilterRule -Identity "Marketing"
```

<span data-ttu-id="d8706-266">Per informazioni dettagliate sulla sintassi e sui parametri, vedere [Enable-MalwareFilterRule](https://docs.microsoft.com/powershell/module/exchange/antispam-antimalware/enable-malwarefilterrule) e [Disable-MalwareFilterRule](https://docs.microsoft.com/powershell/module/exchange/antispam-antimalware/disable-malwarefilterrule).</span><span class="sxs-lookup"><span data-stu-id="d8706-266">For detailed syntax and parameter information, see [Enable-MalwareFilterRule](https://docs.microsoft.com/powershell/module/exchange/antispam-antimalware/enable-malwarefilterrule) and [Disable-MalwareFilterRule](https://docs.microsoft.com/powershell/module/exchange/antispam-antimalware/disable-malwarefilterrule).</span></span>

### <a name="use-powershell-to-set-the-priority-of-malware-filter-rules"></a><span data-ttu-id="d8706-267">Utilizzo di PowerShell per impostare la priorità delle regole di filtro antimalware</span><span class="sxs-lookup"><span data-stu-id="d8706-267">Use PowerShell to set the priority of malware filter rules</span></span>

<span data-ttu-id="d8706-268">Il valore di priorità più alto che è possibile impostare in una regola è 0.</span><span class="sxs-lookup"><span data-stu-id="d8706-268">The highest priority value you can set on a rule is 0.</span></span> <span data-ttu-id="d8706-269">Il valore più basso che è possibile impostare dipende dal numero di regole.</span><span class="sxs-lookup"><span data-stu-id="d8706-269">The lowest value you can set depends on the number of rules.</span></span> <span data-ttu-id="d8706-270">Se si dispone di cinque regole, ad esempio, è possibile utilizzare i valori di priorità da 0 a 4.</span><span class="sxs-lookup"><span data-stu-id="d8706-270">For example, if you have five rules, you can use the priority values 0 through 4.</span></span> <span data-ttu-id="d8706-271">Modificare la priorità di una regola esistente può avere un effetto a catena su altre regole.</span><span class="sxs-lookup"><span data-stu-id="d8706-271">Changing the priority of an existing rule can have a cascading effect on other rules.</span></span> <span data-ttu-id="d8706-272">Ad esempio, se si dispone di cinque regole personalizzate (priorità da 0 a 4) e si modifica la priorità di una regola in 2, la regola esistente con la priorità 2 viene modificata in priorità 3 e la regola con priorità 3 viene modificata in priorità 4.</span><span class="sxs-lookup"><span data-stu-id="d8706-272">For example, if you have five custom rules (priorities 0 through 4), and you change the priority of a rule to 2, the existing rule with priority 2 is changed to priority 3, and the rule with priority 3 is changed to priority 4.</span></span>

<span data-ttu-id="d8706-273">Per impostare la priorità di una regola di filtro antimalware in PowerShell, utilizzare la sintassi seguente:</span><span class="sxs-lookup"><span data-stu-id="d8706-273">To set the priority of a malware filter rule in PowerShell, use the following syntax:</span></span>

```PowerShell
Set-MalwareFilterRule -Identity "<RuleName>" -Priority <Number>
```

<span data-ttu-id="d8706-p128">Nell'esempio seguente la priorità della regola denominata Marketing Department viene impostata su 2. Tutte le regole esistenti che hanno una priorità minore o uguale a 2 vengono abbassate di 1 valore (i numeri di priorità vengono aumentati di 1).</span><span class="sxs-lookup"><span data-stu-id="d8706-p128">This example sets the priority of the rule named Marketing Department to 2. All existing rules that have a priority less than or equal to 2 are decreased by 1 (their priority numbers are increased by 1).</span></span>

```PowerShell
Set-MalwareFilterRule -Identity "Marketing Department" -Priority 2
```

<span data-ttu-id="d8706-276">**Note**:</span><span class="sxs-lookup"><span data-stu-id="d8706-276">**Notes**:</span></span>

- <span data-ttu-id="d8706-277">Per impostare la priorità di una nuova regola al momento della creazione, utilizzare il parametro _Priority_ nel cmdlet **New-MalwareFilterRule** .</span><span class="sxs-lookup"><span data-stu-id="d8706-277">To set the priority of a new rule when you create it, use the _Priority_ parameter on the **New-MalwareFilterRule** cmdlet instead.</span></span>

- <span data-ttu-id="d8706-278">Il criterio antimalware predefinito denominato default è un criterio di filtro antimalware privo di una regola di filtro antimalware corrispondente e ha il valore di priorità immodificabile **più basso**.</span><span class="sxs-lookup"><span data-stu-id="d8706-278">The default anti-malware policy named Default is a malware filter policy without a corresponding malware filter rule, and it has the unmodifiable priority value **Lowest**.</span></span>

### <a name="use-powershell-to-remove-malware-filter-policies"></a><span data-ttu-id="d8706-279">Utilizzo di PowerShell per rimuovere i criteri di filtro antimalware</span><span class="sxs-lookup"><span data-stu-id="d8706-279">Use PowerShell to remove malware filter policies</span></span>

<span data-ttu-id="d8706-280">Quando si utilizza PowerShell per rimuovere un criterio di filtro antimalware, la regola di filtro antimalware corrispondente non viene rimossa.</span><span class="sxs-lookup"><span data-stu-id="d8706-280">When you use PowerShell to remove a malware filter policy, the corresponding malware filter rule isn't removed.</span></span>

<span data-ttu-id="d8706-281">Per rimuovere un criterio di filtro antimalware in PowerShell, utilizzare la sintassi seguente:</span><span class="sxs-lookup"><span data-stu-id="d8706-281">To remove a malware filter policy in PowerShell, use this syntax:</span></span>

```PowerShell
Remove-MalwareFilterPolicy -Identity "<PolicyName>"
```

<span data-ttu-id="d8706-282">In questo esempio viene rimosso il criterio di filtro antimalware denominato Marketing Department.</span><span class="sxs-lookup"><span data-stu-id="d8706-282">This example removes the malware filter policy named Marketing Department.</span></span>

```PowerShell
Remove-MalwareFilterPolicy -Identity "Marketing Department"
```

<span data-ttu-id="d8706-283">Per informazioni dettagliate sulla sintassi e sui parametri, vedere [Remove-MalwareFilterPolicy](https://docs.microsoft.com/powershell/module/exchange/antispam-antimalware/remove-malwarefilterpolicy).</span><span class="sxs-lookup"><span data-stu-id="d8706-283">For detailed syntax and parameter information, see [Remove-MalwareFilterPolicy](https://docs.microsoft.com/powershell/module/exchange/antispam-antimalware/remove-malwarefilterpolicy).</span></span>

### <a name="use-powershell-to-remove-malware-filter-rules"></a><span data-ttu-id="d8706-284">Utilizzo di PowerShell per rimuovere le regole di filtro antimalware</span><span class="sxs-lookup"><span data-stu-id="d8706-284">Use PowerShell to remove malware filter rules</span></span>

<span data-ttu-id="d8706-285">Quando si utilizza PowerShell per rimuovere una regola di filtro antimalware, il criterio di filtro antimalware corrispondente non viene rimosso.</span><span class="sxs-lookup"><span data-stu-id="d8706-285">When you use PowerShell to remove a malware filter rule, the corresponding malware filter policy isn't removed.</span></span>

<span data-ttu-id="d8706-286">Per rimuovere una regola di filtro antimalware in PowerShell, utilizzare la sintassi seguente:</span><span class="sxs-lookup"><span data-stu-id="d8706-286">To remove a malware filter rule in PowerShell, use this syntax:</span></span>

```PowerShell
Remove-MalwareFilterRule -Identity "<PolicyName>"
```

<span data-ttu-id="d8706-287">In questo esempio viene rimossa la regola di filtro antimalware denominata Marketing Department.</span><span class="sxs-lookup"><span data-stu-id="d8706-287">This example removes the malware filter rule named Marketing Department.</span></span>

```PowerShell
Remove-MalwareFilterRule -Identity "Marketing Department"
```

<span data-ttu-id="d8706-288">Per informazioni dettagliate sulla sintassi e sui parametri, vedere [Remove-MalwareFilterRule](https://docs.microsoft.com/powershell/module/exchange/antispam-antimalware/remove-malwarefilterrule).</span><span class="sxs-lookup"><span data-stu-id="d8706-288">For detailed syntax and parameter information, see [Remove-MalwareFilterRule](https://docs.microsoft.com/powershell/module/exchange/antispam-antimalware/remove-malwarefilterrule).</span></span>

## <a name="how-do-you-know-these-procedures-worked"></a><span data-ttu-id="d8706-289">Come è possibile sapere se queste procedure hanno avuto esito positivo?</span><span class="sxs-lookup"><span data-stu-id="d8706-289">How do you know these procedures worked?</span></span>

### <a name="use-the-eicartxt-file-to-verify-your-anti-malware-policy-settings"></a><span data-ttu-id="d8706-290">Utilizzare EICAR. File TXT per verificare le impostazioni dei criteri anti-malware</span><span class="sxs-lookup"><span data-stu-id="d8706-290">Use the EICAR.TXT file to verify your anti-malware policy settings</span></span>

> [!IMPORTANT]
> <span data-ttu-id="d8706-291">Il file EICAR.TXT non è un virus.</span><span class="sxs-lookup"><span data-stu-id="d8706-291">The EICAR.TXT file is not a virus.</span></span> <span data-ttu-id="d8706-292">L'European Institute for computer Antivirus Research (EICAR) ha sviluppato questo file per testare in modo sicuro le installazioni e le impostazioni di anti-virus.</span><span class="sxs-lookup"><span data-stu-id="d8706-292">The European Institute for Computer Antivirus Research (EICAR) developed this file to safely test anti-virus installations and settings.</span></span>

1. <span data-ttu-id="d8706-293">Aprire il blocco note e incollare il testo seguente in un file vuoto:</span><span class="sxs-lookup"><span data-stu-id="d8706-293">Open Notepad and paste the following text into an empty file:</span></span>

   ```Text
   X5O!P%@AP[4\PZX54(P^)7CC)7}$EICAR-STANDARD-ANTIVIRUS-TEST-FILE!$H+H*
   ```

   <span data-ttu-id="d8706-294">Assicurarsi che questi siano gli unici caratteri di testo nel file.</span><span class="sxs-lookup"><span data-stu-id="d8706-294">Be sure that these are the only text characters in the file.</span></span> <span data-ttu-id="d8706-295">Le dimensioni del file devono essere 68 byte.</span><span class="sxs-lookup"><span data-stu-id="d8706-295">The file size should be 68 bytes.</span></span>

2. <span data-ttu-id="d8706-296">Salvare il file come EICAR. TXT</span><span class="sxs-lookup"><span data-stu-id="d8706-296">Save the file as EICAR.TXT</span></span>

   <span data-ttu-id="d8706-297">Nel programma antivirus desktop, assicurarsi di escludere il EICAR. TXT dall'analisi (in caso contrario, il file verrà messo in quarantena).</span><span class="sxs-lookup"><span data-stu-id="d8706-297">In your desktop anti-virus program, be sure to exclude the EICAR.TXT from scanning (otherwise, the file will be quarantined).</span></span>

3. <span data-ttu-id="d8706-298">Inviare un messaggio di posta elettronica contenente il EICAR. File TXT come allegato, utilizzando un client di posta elettronica che non bloccherà automaticamente il file.</span><span class="sxs-lookup"><span data-stu-id="d8706-298">Send an email message that contains the EICAR.TXT file as an attachment, using an email client that won't automatically block the file.</span></span> <span data-ttu-id="d8706-299">Utilizzare le impostazioni dei criteri anti-malware per determinare gli scenari seguenti da testare:</span><span class="sxs-lookup"><span data-stu-id="d8706-299">Use your anti-malware policy settings to determine the following scenarios to test:</span></span>

   - <span data-ttu-id="d8706-300">Posta elettronica da una cassetta postale interna a un destinatario interno.</span><span class="sxs-lookup"><span data-stu-id="d8706-300">Email from an internal mailbox to an internal recipient.</span></span>

   - <span data-ttu-id="d8706-301">Messaggi di posta elettronica da una cassetta postale interna a un destinatario esterno.</span><span class="sxs-lookup"><span data-stu-id="d8706-301">Email from an internal mailbox to an external recipient.</span></span>

   - <span data-ttu-id="d8706-302">Messaggi di posta elettronica da una cassetta postale esterna a un destinatario interno.</span><span class="sxs-lookup"><span data-stu-id="d8706-302">Email from an external mailbox to an internal recipient.</span></span>

4. <span data-ttu-id="d8706-303">Verificare che il messaggio sia stato messo in quarantena e verificare i risultati della notifica del destinatario e del mittente in base alle impostazioni dei criteri antimalware.</span><span class="sxs-lookup"><span data-stu-id="d8706-303">Verify that the message was quarantined, and verify the recipient and sender notification results based on your anti-malware policy settings.</span></span> <span data-ttu-id="d8706-304">Ad esempio:</span><span class="sxs-lookup"><span data-stu-id="d8706-304">For example:</span></span>

   - <span data-ttu-id="d8706-305">I destinatari non sono informati o i destinatari ricevono il messaggio originale con EICAR. Allegato TXT sostituito da **Malware Alert text. txt** che contiene il testo predefinito o personalizzato.</span><span class="sxs-lookup"><span data-stu-id="d8706-305">Recipients aren't notified, or recipients receive the original message with the EICAR.TXT attachment replaced by **Malware Alert Text.txt** that contains the default or customized text.</span></span>

   - <span data-ttu-id="d8706-306">I mittenti interni o esterni ricevono una notifica con i messaggi di notifica predefiniti o personalizzati.</span><span class="sxs-lookup"><span data-stu-id="d8706-306">Internal or external senders are notified with the default or customized notification messages.</span></span>

   - <span data-ttu-id="d8706-307">L'indirizzo di posta elettronica di amministrazione specificato viene informato per i mittenti interni o esterni dei messaggi, con i messaggi di notifica predefiniti o personalizzati.</span><span class="sxs-lookup"><span data-stu-id="d8706-307">The admin email address that you specified is notified for internal or external message senders, with the default or customized notification messages.</span></span>

5. <span data-ttu-id="d8706-308">Eliminare il EICAR. File TXT dopo il test è stato completato (in modo che gli altri utenti non siano inutilmente allarmati da esso).</span><span class="sxs-lookup"><span data-stu-id="d8706-308">Delete the EICAR.TXT file after your testing is complete (so other users aren't unnecessarily alarmed by it).</span></span>
