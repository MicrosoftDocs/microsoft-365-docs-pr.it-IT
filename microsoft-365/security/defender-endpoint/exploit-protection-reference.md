---
title: Informazioni di riferimento sulla protezione degli exploit
keywords: mitigazioni, vulnerabilità, vulnerabilità, mitigazione, exploit, exploit, emet
description: Dettagli sul funzionamento della funzionalità di protezione degli exploit in Windows 10
search.product: eADQiWindows 10XVcnh
ms.pagetype: security
ms.prod: m365-security
ms.mktglfcycl: manage
ms.sitesec: library
localization_priority: Normal
audience: ITPro
author: denisebmsft
ms.author: deniseb
ms.date: 01/06/2021
ms.reviewer: cjacks
manager: dansimp
ms.custom: asr
ms.technology: mde
ms.openlocfilehash: b224b32e26435e2612ec00c8c4544b4c3cff4344
ms.sourcegitcommit: 956176ed7c8b8427fdc655abcd1709d86da9447e
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/23/2021
ms.locfileid: "51064189"
---
# <a name="exploit-protection-reference"></a><span data-ttu-id="68dea-104">Informazioni di riferimento sulla protezione degli exploit</span><span class="sxs-lookup"><span data-stu-id="68dea-104">Exploit Protection Reference</span></span>

[!INCLUDE [Microsoft 365 Defender rebranding](../../includes/microsoft-defender.md)]


<span data-ttu-id="68dea-105">**Si applica a:**</span><span class="sxs-lookup"><span data-stu-id="68dea-105">**Applies to:**</span></span>
- [<span data-ttu-id="68dea-106">Microsoft Defender ATP</span><span class="sxs-lookup"><span data-stu-id="68dea-106">Microsoft Defender for Endpoint</span></span>](https://go.microsoft.com/fwlink/?linkid=2154037)
- [<span data-ttu-id="68dea-107">Microsoft 365 Defender</span><span class="sxs-lookup"><span data-stu-id="68dea-107">Microsoft 365 Defender</span></span>](https://go.microsoft.com/fwlink/?linkid=2118804)

><span data-ttu-id="68dea-108">Vuoi provare Microsoft Defender per Endpoint?</span><span class="sxs-lookup"><span data-stu-id="68dea-108">Want to experience Microsoft Defender for Endpoint?</span></span> [<span data-ttu-id="68dea-109">Iscriversi per una versione di valutazione gratuita.</span><span class="sxs-lookup"><span data-stu-id="68dea-109">Sign up for a free trial.</span></span>](https://www.microsoft.com/microsoft-365/windows/microsoft-defender-atp?ocid=docs-wdatp-enablesiem-abovefoldlink)

<span data-ttu-id="68dea-110">Protezione da exploit offre protezioni avanzate per le applicazioni che il professionista IT può applicare dopo che lo sviluppatore ha compilato e distribuito il software.</span><span class="sxs-lookup"><span data-stu-id="68dea-110">Exploit protection provides advanced protections for applications that the IT Pro can apply after the developer has compiled and distributed the software.</span></span>

<span data-ttu-id="68dea-111">Questo articolo ti aiuta a comprendere il funzionamento della protezione degli exploit, sia a livello di criteri che a livello di mitigazione individuale, per aiutarti a creare e applicare correttamente i criteri di protezione da exploit.</span><span class="sxs-lookup"><span data-stu-id="68dea-111">This article helps you understand how exploit protection works, both at the policy level and at the individual mitigation level, to help you successfully build and apply Exploit Protection policies.</span></span>

## <a name="how-mitigations-are-applied"></a><span data-ttu-id="68dea-112">Modalità di applicazione delle mitigazioni</span><span class="sxs-lookup"><span data-stu-id="68dea-112">How mitigations are applied</span></span>

<span data-ttu-id="68dea-113">Le mitigazioni di Protezione da exploit vengono applicate per ogni applicazione.</span><span class="sxs-lookup"><span data-stu-id="68dea-113">Exploit Protection mitigations are applied per application.</span></span>

<span data-ttu-id="68dea-114">Le mitigazioni vengono configurate tramite una voce del Registro di sistema per ogni programma per cui si configurano le protezioni.</span><span class="sxs-lookup"><span data-stu-id="68dea-114">Mitigations are configured via a registry entry for each program that you configure protections for.</span></span> <span data-ttu-id="68dea-115">Queste impostazioni vengono archiviate nella voce del Registro di sistema **MitigationOptions** per ogni programma (**HKEY_LOCAL_MACHINE \ SOFTWARE \ Microsoft \ Windows NT \ CurrentVersion \ Image File Execution Options \ *ImageFileName* \ MitigationOptions**).</span><span class="sxs-lookup"><span data-stu-id="68dea-115">These settings are stored in the **MitigationOptions** registry entry for each program (**HKEY_LOCAL_MACHINE \ SOFTWARE \ Microsoft \ Windows NT \ CurrentVersion \ Image File Execution Options \ *ImageFileName* \ MitigationOptions**).</span></span> <span data-ttu-id="68dea-116">Vengono applicate quando si riavvia il programma e rimangono effettive fino a quando non vengono modificate e riavviate di nuovo.</span><span class="sxs-lookup"><span data-stu-id="68dea-116">They take effect when you restart the program and remain effective until you change them and restart the program again.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="68dea-117">Opzioni di esecuzione dei file di immagine consente solo di specificare un nome file o un percorso e non un numero di versione, un'architettura o qualsiasi altro elemento di differenziazione.</span><span class="sxs-lookup"><span data-stu-id="68dea-117">Image File Execution Options only allows you to specify a file name or path, and not a version number, architecture, or any other differentiator.</span></span> <span data-ttu-id="68dea-118">Prestare attenzione alle mitigazioni per le app con nomi o percorsi univoci, applicandoli solo ai dispositivi in cui è stata testata la versione e l'architettura dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="68dea-118">Be careful to target mitigations to apps which have unique names or paths, applying them only on devices where you have tested that version and that architecture of the application.</span></span>

<span data-ttu-id="68dea-119">Se si configurano le mitigazioni di protezione da exploit utilizzando un file di configurazione XML, tramite PowerShell, Criteri di gruppo o MDM, durante l'elaborazione di questo file di configurazione XML, verranno configurate automaticamente singole impostazioni del Registro di sistema.</span><span class="sxs-lookup"><span data-stu-id="68dea-119">If you configure exploit protection mitigations using an XML configuration file, either via PowerShell, Group Policy, or MDM, when processing this XML configuration file, individual registry settings will be configured for you.</span></span>

<span data-ttu-id="68dea-120">Quando il criterio che distribuisce il file XML non viene più applicato, le impostazioni distribuite da questo file di configurazione XML non verranno rimosse automaticamente.</span><span class="sxs-lookup"><span data-stu-id="68dea-120">When the policy distributing the XML file is no longer enforced, settings deployed by this XML configuration file will not be automatically removed.</span></span> <span data-ttu-id="68dea-121">Per rimuovere le impostazioni di Protezione dagli exploit, esporta la configurazione XML da un dispositivo Windows 10 pulito e distribuisci questo nuovo file XML.</span><span class="sxs-lookup"><span data-stu-id="68dea-121">To remove Exploit Protection settings, export the XML configuration from a clean Windows 10 device, and deploy this new XML file.</span></span> <span data-ttu-id="68dea-122">In alternativa, Microsoft fornisce un file XML come parte delle linee di base della sicurezza di Windows per la reimpostazione delle impostazioni di Protezione degli exploit.</span><span class="sxs-lookup"><span data-stu-id="68dea-122">Alternately, Microsoft provides an XML file as part of the Windows Security Baselines for resetting Exploit Protection settings.</span></span>

<span data-ttu-id="68dea-123">Per reimpostare le impostazioni di protezione da exploit tramite PowerShell, è possibile utilizzare il comando seguente:</span><span class="sxs-lookup"><span data-stu-id="68dea-123">To reset exploit protection settings using PowerShell, you could use the following command:</span></span>

```powershell
Set-ProcessMitigation -PolicyFilePath EP-reset.xml
```
<span data-ttu-id="68dea-124">Di seguito è riportata la EP-reset.xml distribuita con le linee di base della sicurezza di Windows:</span><span class="sxs-lookup"><span data-stu-id="68dea-124">Following is the EP-reset.xml distributed with the Windows Security Baselines:</span></span>
```xml
<?xml version="1.0" encoding="UTF-8"?>
<MitigationPolicy>
  <AppConfig Executable="ONEDRIVE.EXE">
    <DEP OverrideDEP="false" />
    <ASLR OverrideRelocateImages="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
    <ImageLoad OverrideBlockRemoteImages="false" />
  </AppConfig>
  <AppConfig Executable="firefox.exe">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
  </AppConfig>
  <AppConfig Executable="fltldr.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
    <ImageLoad OverrideBlockRemoteImages="false" />
    <ChildProcess OverrideChildProcess="false" />
  </AppConfig>
  <AppConfig Executable="GROOVE.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
    <ImageLoad OverrideBlockRemoteImages="false" />
    <ChildProcess OverrideChildProcess="false" />
  </AppConfig>
  <AppConfig Executable="Acrobat.exe">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="AcroRd32.exe">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="chrome.exe">
    <DEP OverrideDEP="false" />
  </AppConfig>
  <AppConfig Executable="EXCEL.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="iexplore.exe">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="INFOPATH.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="java.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="javaw.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="javaws.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="LYNC.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="MSACCESS.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="MSPUB.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="OIS.EXE">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="OUTLOOK.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="plugin-container.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="POWERPNT.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="PPTVIEW.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="VISIO.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="VPREVIEW.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="WINWORD.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="wmplayer.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="wordpad.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
</MitigationPolicy>
```

## <a name="mitigation-reference"></a><span data-ttu-id="68dea-125">Informazioni di riferimento sulla mitigazione</span><span class="sxs-lookup"><span data-stu-id="68dea-125">Mitigation Reference</span></span>

<span data-ttu-id="68dea-126">Nelle sezioni seguenti vengono descritte in dettaglio le protezioni fornite da ogni mitigazione della protezione dagli exploit, le considerazioni sulla compatibilità per la mitigazione e le opzioni di configurazione disponibili.</span><span class="sxs-lookup"><span data-stu-id="68dea-126">The following sections detail the protections provided by each exploit protection mitigation, the compatibility considerations for the mitigation, and the configuration options available.</span></span>

## <a name="arbitrary-code-guard"></a><span data-ttu-id="68dea-127">Protezione del codice arbitrario</span><span class="sxs-lookup"><span data-stu-id="68dea-127">Arbitrary code guard</span></span>

### <a name="description"></a><span data-ttu-id="68dea-128">Descrizione</span><span class="sxs-lookup"><span data-stu-id="68dea-128">Description</span></span>

<span data-ttu-id="68dea-129">La protezione del codice arbitrario consente di proteggersi da un utente malintenzionato che carica il codice scelto in memoria tramite una vulnerabilità di sicurezza della memoria ed è in grado di eseguire tale codice.</span><span class="sxs-lookup"><span data-stu-id="68dea-129">Arbitrary code guard helps protect against a malicious attacker loading the code of their choice into memory through a memory safety vulnerability and being able to execute that code.</span></span>

<span data-ttu-id="68dea-130">La protezione del codice arbitrario protegge un'applicazione dall'esecuzione di codice generato dinamicamente (codice non caricato, ad esempio, dall'exe stesso o da una dll).</span><span class="sxs-lookup"><span data-stu-id="68dea-130">Arbitrary code guard protects an application from executing dynamically generated code (code that is not loaded, for example, from the exe itself or a dll).</span></span> <span data-ttu-id="68dea-131">La protezione del codice arbitrario funziona impedendo che la memoria venga contrassegnata come eseguibile.</span><span class="sxs-lookup"><span data-stu-id="68dea-131">Arbitrary code guard works by preventing memory from being marked as executable.</span></span> <span data-ttu-id="68dea-132">Quando un'applicazione tenta di [allocare memoria,](https://docs.microsoft.com/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc)controlliamo i flag di protezione.</span><span class="sxs-lookup"><span data-stu-id="68dea-132">When an application attempts to [allocate memory](https://docs.microsoft.com/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc), we check the protection flags.</span></span> <span data-ttu-id="68dea-133">La memoria può essere allocata con flag di protezione di lettura, scrittura e/o esecuzione. Se l'allocazione tenta di includere il flag [*di*](https://docs.microsoft.com/windows/win32/memory/memory-protection-constants) protezione dell'esecuzione, l'allocazione di memoria ha esito negativo e restituisce un codice di errore (STATUS_DYNAMIC_CODE_BLOCKED).</span><span class="sxs-lookup"><span data-stu-id="68dea-133">(Memory can be allocated with read, write, and/or execute protection flags.) If the allocation attempts to include the [*execute*](https://docs.microsoft.com/windows/win32/memory/memory-protection-constants) protection flag, then the memory allocation fails and returns an error code (STATUS_DYNAMIC_CODE_BLOCKED).</span></span> <span data-ttu-id="68dea-134">Analogamente, se un'applicazione [](https://docs.microsoft.com/windows/win32/api/memoryapi/nf-memoryapi-virtualprotect) tenta di modificare i flag di protezione [](https://docs.microsoft.com/windows/win32/memory/memory-protection-constants) della memoria già allocati e include il flag di protezione esecuzione, la modifica delle autorizzazioni ha esito negativo e restituisce un codice di errore (STATUS_DYNAMIC_CODE_BLOCKED).</span><span class="sxs-lookup"><span data-stu-id="68dea-134">Similarly, if an application attempts to [change the protection flags of memory](https://docs.microsoft.com/windows/win32/api/memoryapi/nf-memoryapi-virtualprotect) that has already been allocated and includes the [*execute*](https://docs.microsoft.com/windows/win32/memory/memory-protection-constants) protection flag, then the permission change fails and returns an error code (STATUS_DYNAMIC_CODE_BLOCKED).</span></span>

<span data-ttu-id="68dea-135">Impedendo l'impostazione del flag *di* esecuzione, la funzionalità di prevenzione dell'esecuzione dei dati di Windows 10 può quindi proteggersi dal puntatore all'istruzione impostato su tale memoria ed eseguire tale codice.</span><span class="sxs-lookup"><span data-stu-id="68dea-135">By preventing the *execute* flag from being set, the data execution prevention feature of Windows 10 can then protect against the instruction pointer being set to that memory and running that code.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="68dea-136">Considerazioni sulla compatibilità</span><span class="sxs-lookup"><span data-stu-id="68dea-136">Compatibility considerations</span></span>

<span data-ttu-id="68dea-137">La protezione del codice arbitrario impedisce l'allocazione di memoria come eseguibile, che presenta un problema di compatibilità con approcci come i compilatori JIT (Just-in-Time).</span><span class="sxs-lookup"><span data-stu-id="68dea-137">Arbitrary code guard prevents allocating any memory as executable, which presents a compatibility issue with approaches such as Just-in-Time (JIT) compilers.</span></span> <span data-ttu-id="68dea-138">La maggior parte dei browser moderni, ad esempio, compilerà JavaScript in codice nativo per ottimizzare le prestazioni.</span><span class="sxs-lookup"><span data-stu-id="68dea-138">Most modern browsers, for example, will compile JavaScript into native code in order to optimize performance.</span></span> <span data-ttu-id="68dea-139">Per supportare questa mitigazione, è necessario riarchiviare tali elementi per spostare la compilazione JIT all'esterno del processo protetto.</span><span class="sxs-lookup"><span data-stu-id="68dea-139">In order to support this mitigation, they will need to be rearchitected to move the JIT compilation outside of the protected process.</span></span> <span data-ttu-id="68dea-140">Altre applicazioni la cui progettazione genera dinamicamente codice da script o da altri linguaggi intermedi saranno incompatibili con questa mitigazione.</span><span class="sxs-lookup"><span data-stu-id="68dea-140">Other applications whose design dynamically generates code from scripts or other intermediate languages will be similarly incompatible with this mitigation.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="68dea-141">Opzioni di configurazione</span><span class="sxs-lookup"><span data-stu-id="68dea-141">Configuration options</span></span>

<span data-ttu-id="68dea-142">**Consenti rifiuto esplicito thread** - È possibile configurare la mitigazione per consentire a un singolo thread di rifiutare esplicitamente questa protezione.</span><span class="sxs-lookup"><span data-stu-id="68dea-142">**Allow thread opt-out** - You can configure the mitigation to allow an individual thread to opt-out of this protection.</span></span> <span data-ttu-id="68dea-143">Lo sviluppatore deve aver scritto l'applicazione con consapevolezza di questa mitigazione e aver chiamato l'API [**SetThreadInformation**](https://docs.microsoft.com/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadinformation) con il *parametro ThreadInformation* impostato su **ThreadDynamicCodePolicy** per poter eseguire codice dinamico su questo thread.</span><span class="sxs-lookup"><span data-stu-id="68dea-143">The developer must have written the application with awareness of this mitigation, and have called the [**SetThreadInformation**](https://docs.microsoft.com/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadinformation) API with the *ThreadInformation* parameter set to **ThreadDynamicCodePolicy** in order to be allowed to execute dynamic code on this thread.</span></span>

<span data-ttu-id="68dea-144">**Solo controllo:** è possibile abilitare questa mitigazione in modalità di controllo per misurare il potenziale impatto sulla compatibilità di un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="68dea-144">**Audit only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="68dea-145">Gli eventi di controllo possono quindi essere visualizzati nel visualizzatore eventi o usando Advanced Hunting in [Defender for Endpoint.](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="68dea-145">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Defender for Endpoint](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="block-low-integrity-images"></a><span data-ttu-id="68dea-146">Bloccare le immagini con integrità bassa</span><span class="sxs-lookup"><span data-stu-id="68dea-146">Block low integrity images</span></span>

### <a name="description"></a><span data-ttu-id="68dea-147">Descrizione</span><span class="sxs-lookup"><span data-stu-id="68dea-147">Description</span></span>

<span data-ttu-id="68dea-148">Blocca immagini con integrità bassa impedisce all'applicazione di caricare file non attendibili, in genere perché sono stati scaricati da Internet da un browser in modalità sandbox.</span><span class="sxs-lookup"><span data-stu-id="68dea-148">Block low integrity images prevents the application from loading files that are untrusted, typically because they have been downloaded from the internet from a sandboxed browser.</span></span>

<span data-ttu-id="68dea-149">Questa mitigazione blocca il caricamento dell'immagine se l'immagine dispone di una voce di controllo di accesso (ACE, Access Control Entry) che concede l'accesso ai processi Low IL e che non dispone di un'etichetta di attendibilità ACE.</span><span class="sxs-lookup"><span data-stu-id="68dea-149">This mitigation will block image loads if the image has an Access Control Entry (ACE) which grants access to Low IL processes and which does not have a trust label ACE.</span></span> <span data-ttu-id="68dea-150">Viene implementato dal gestore della memoria, che blocca il mapping del file in memoria.</span><span class="sxs-lookup"><span data-stu-id="68dea-150">It is implemented by the memory manager, which blocks the file from being mapped into memory.</span></span> <span data-ttu-id="68dea-151">Se un'applicazione tenta di mappare un'immagine con integrità bassa, verrà generato un STATUS_ACCESS_DENIED errore.</span><span class="sxs-lookup"><span data-stu-id="68dea-151">If an application attempts to map a low integrity image, it will trigger a STATUS_ACCESS_DENIED error.</span></span> <span data-ttu-id="68dea-152">Per informazioni dettagliate sul funzionamento dei livelli di integrità, vedere [Mandatory Integrity Control.](https://docs.microsoft.com/windows/win32/secauthz/mandatory-integrity-control)</span><span class="sxs-lookup"><span data-stu-id="68dea-152">For details on how integrity levels work, see [Mandatory Integrity Control](https://docs.microsoft.com/windows/win32/secauthz/mandatory-integrity-control).</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="68dea-153">Considerazioni sulla compatibilità</span><span class="sxs-lookup"><span data-stu-id="68dea-153">Compatibility considerations</span></span>

<span data-ttu-id="68dea-154">Blocca immagini con integrità bassa impedirà all'applicazione di caricare file scaricati da Internet.</span><span class="sxs-lookup"><span data-stu-id="68dea-154">Block low integrity images will prevent the application from loading files that were downloaded from the internet.</span></span> <span data-ttu-id="68dea-155">Se il flusso di lavoro dell'applicazione richiede il caricamento di immagini scaricate, è necessario assicurarsi che siano scaricate da un processo con attendibilità superiore o che siano state esplicitamente rietichettate per applicare questa mitigazione.</span><span class="sxs-lookup"><span data-stu-id="68dea-155">If your application workflow requires loading images that are downloaded, you will want to ensure that they are downloaded from a higher-trust process, or are explicitly relabeled in order to apply this mitigation.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="68dea-156">Opzioni di configurazione</span><span class="sxs-lookup"><span data-stu-id="68dea-156">Configuration options</span></span>

<span data-ttu-id="68dea-157">**Solo controllo:** è possibile abilitare questa mitigazione in modalità di controllo per misurare il potenziale impatto sulla compatibilità di un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="68dea-157">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="68dea-158">Gli eventi di controllo possono quindi essere visualizzati nel visualizzatore eventi o usando Ricerca avanzata in [Microsoft Defender per Endpoint.](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="68dea-158">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="block-remote-images"></a><span data-ttu-id="68dea-159">Bloccare le immagini remote</span><span class="sxs-lookup"><span data-stu-id="68dea-159">Block remote images</span></span>

### <a name="description"></a><span data-ttu-id="68dea-160">Descrizione</span><span class="sxs-lookup"><span data-stu-id="68dea-160">Description</span></span>

<span data-ttu-id="68dea-161">Il blocco delle immagini remote consente di impedire all'applicazione di caricare file ospitati in un dispositivo remoto, ad esempio una condivisione UNC.</span><span class="sxs-lookup"><span data-stu-id="68dea-161">Blocking remote images helps to prevent the application from loading files that are hosted on a remote device, such as a UNC share.</span></span> <span data-ttu-id="68dea-162">Il blocco delle immagini remote consente di proteggere dal caricamento di file binari in memoria presenti in un dispositivo esterno controllato dall'autore dell'attacco.</span><span class="sxs-lookup"><span data-stu-id="68dea-162">Blocking remote images helps protect against loading binaries into memory that are on an external device controlled by the attacker.</span></span>

<span data-ttu-id="68dea-163">Questa mitigazione bloccherà il caricamento dell'immagine se l'immagine viene determinata in un dispositivo remoto.</span><span class="sxs-lookup"><span data-stu-id="68dea-163">This mitigation will block image loads if the image is determined to be on a remote device.</span></span> <span data-ttu-id="68dea-164">Viene implementato dal gestore della memoria, che blocca il mapping del file in memoria.</span><span class="sxs-lookup"><span data-stu-id="68dea-164">It is implemented by the memory manager, which blocks the file from being mapped into memory.</span></span> <span data-ttu-id="68dea-165">Se un'applicazione tenta di eseguire il mapping di un file remoto, verrà generato un STATUS_ACCESS_DENIED errore.</span><span class="sxs-lookup"><span data-stu-id="68dea-165">If an application attempts to map a remote file, it will trigger a STATUS_ACCESS_DENIED error.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="68dea-166">Considerazioni sulla compatibilità</span><span class="sxs-lookup"><span data-stu-id="68dea-166">Compatibility considerations</span></span>

<span data-ttu-id="68dea-167">Blocca immagini remote impedirà all'applicazione di caricare immagini da dispositivi remoti.</span><span class="sxs-lookup"><span data-stu-id="68dea-167">Block remote images will prevent the application from loading images from remote devices.</span></span> <span data-ttu-id="68dea-168">Se l'applicazione carica file o plug-in da dispositivi remoti, non sarà compatibile con questa mitigazione.</span><span class="sxs-lookup"><span data-stu-id="68dea-168">If your application loads files or plug-ins from remote devices, then it will not be compatible with this mitigation.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="68dea-169">Opzioni di configurazione</span><span class="sxs-lookup"><span data-stu-id="68dea-169">Configuration options</span></span>

<span data-ttu-id="68dea-170">**Solo controllo:** è possibile abilitare questa mitigazione in modalità di controllo per misurare il potenziale impatto sulla compatibilità di un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="68dea-170">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="68dea-171">Gli eventi di controllo possono quindi essere visualizzati nel visualizzatore eventi o usando Ricerca avanzata in [Microsoft Defender per Endpoint.](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="68dea-171">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="block-untrusted-fonts"></a><span data-ttu-id="68dea-172">Blocca tipi di carattere non attendibili</span><span class="sxs-lookup"><span data-stu-id="68dea-172">Block untrusted fonts</span></span>

### <a name="description"></a><span data-ttu-id="68dea-173">Descrizione</span><span class="sxs-lookup"><span data-stu-id="68dea-173">Description</span></span>

<span data-ttu-id="68dea-174">Blocca tipi di carattere non attendibili riduce il rischio di un difetto nell'analisi dei tipi di carattere che porta l'utente malintenzionato a eseguire codice nel dispositivo.</span><span class="sxs-lookup"><span data-stu-id="68dea-174">Block untrusted fonts mitigates the risk of a flaw in font parsing leading to the attacker being able to run code on the device.</span></span> <span data-ttu-id="68dea-175">Solo i tipi di carattere installati nella directory windows\fonts verranno caricati per l'elaborazione da GDI.</span><span class="sxs-lookup"><span data-stu-id="68dea-175">Only fonts that are installed into the windows\fonts directory will be loaded for processing by GDI.</span></span>

<span data-ttu-id="68dea-176">Questa mitigazione viene implementata in GDI, che convalida il percorso del file.</span><span class="sxs-lookup"><span data-stu-id="68dea-176">This mitigation is implemented within GDI, which validates the location of the file.</span></span> <span data-ttu-id="68dea-177">Se il file non si trova nella directory dei tipi di carattere di sistema, il tipo di carattere non verrà caricato per l'analisi e la chiamata avrà esito negativo.</span><span class="sxs-lookup"><span data-stu-id="68dea-177">If the file is not in the system fonts directory, the font will not be loaded for parsing and that call will fail.</span></span>

<span data-ttu-id="68dea-178">Questa mitigazione si aggiunge alla mitigazione predefinita fornita in Windows 10 1607 e versioni successive, che sposta l'analisi dei tipi di carattere fuori dal kernel e in un contenitore di app in modalità utente.</span><span class="sxs-lookup"><span data-stu-id="68dea-178">This mitigation is in addition to the built-in mitigation provided in Windows 10 1607 and later, which moves font parsing out of the kernel and into a user-mode app container.</span></span> <span data-ttu-id="68dea-179">Qualsiasi exploit basato sull'analisi dei tipi di carattere, di conseguenza, si verifica in un contesto in modalità sandbox e isolato, riducendo in modo significativo il rischio.</span><span class="sxs-lookup"><span data-stu-id="68dea-179">Any exploit based on font parsing, as a result, happens in a sandboxed and isolated context, which reduces the risk significantly.</span></span> <span data-ttu-id="68dea-180">Per informazioni dettagliate su questa mitigazione, vedi il blog [Hardening Windows 10 with zero-day exploit mitigations](https://www.microsoft.com/security/blog/2017/01/13/hardening-windows-10-with-zero-day-exploit-mitigations/).</span><span class="sxs-lookup"><span data-stu-id="68dea-180">For details on this mitigation, see the blog [Hardening Windows 10 with zero-day exploit mitigations](https://www.microsoft.com/security/blog/2017/01/13/hardening-windows-10-with-zero-day-exploit-mitigations/).</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="68dea-181">Considerazioni sulla compatibilità</span><span class="sxs-lookup"><span data-stu-id="68dea-181">Compatibility considerations</span></span>

<span data-ttu-id="68dea-182">L'utilizzo più comune dei tipi di carattere al di fuori della directory dei tipi di carattere di sistema è con [i tipi di carattere Web.](https://docs.microsoft.com/typography/fonts/font-faq#web)</span><span class="sxs-lookup"><span data-stu-id="68dea-182">The most common use of fonts outside of the system fonts directory is with [web fonts](https://docs.microsoft.com/typography/fonts/font-faq#web).</span></span> <span data-ttu-id="68dea-183">I browser moderni, come Microsoft Edge, usano DirectWrite anziché GDI e non sono influenzati.</span><span class="sxs-lookup"><span data-stu-id="68dea-183">Modern browsers, such as Microsoft Edge, use DirectWrite instead of GDI, and are not impacted.</span></span> <span data-ttu-id="68dea-184">Tuttavia, i browser legacy, ad esempio Internet Explorer 11 (e la modalità IE nel nuovo Microsoft Edge) possono essere influenzati, in particolare con applicazioni come Office 365, che usano glifi dei tipi di carattere per visualizzare l'interfaccia utente.</span><span class="sxs-lookup"><span data-stu-id="68dea-184">However, legacy browsers, such as Internet Explorer 11 (and IE mode in the new Microsoft Edge) can be impacted, particularly with applications such as Office 365, which use font glyphs to display UI.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="68dea-185">Opzioni di configurazione</span><span class="sxs-lookup"><span data-stu-id="68dea-185">Configuration options</span></span>

<span data-ttu-id="68dea-186">**Solo controllo:** è possibile abilitare questa mitigazione in modalità di controllo per misurare il potenziale impatto sulla compatibilità di un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="68dea-186">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="68dea-187">Gli eventi di controllo possono quindi essere visualizzati nel visualizzatore eventi o usando Ricerca avanzata in [Microsoft Defender per Endpoint.](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="68dea-187">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="code-integrity-guard"></a><span data-ttu-id="68dea-188">Protezione dell'integrità del codice</span><span class="sxs-lookup"><span data-stu-id="68dea-188">Code integrity guard</span></span>

### <a name="description"></a><span data-ttu-id="68dea-189">Descrizione</span><span class="sxs-lookup"><span data-stu-id="68dea-189">Description</span></span>

<span data-ttu-id="68dea-190">Protezione dell'integrità del codice garantisce che tutti i file binari caricati in un processo siano firmati digitalmente da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="68dea-190">Code integrity guard ensures that all binaries loaded into a process are digitally signed by Microsoft.</span></span> <span data-ttu-id="68dea-191">Code Integrity Guard include firme [WHQL](https://docs.microsoft.com/windows-hardware/drivers/install/whql-release-signature) (Windows Hardware Quality Labs), che consentiranno l'esecuzione di driver approvati da WHQL all'interno del processo.</span><span class="sxs-lookup"><span data-stu-id="68dea-191">Code integrity guard includes [WHQL](https://docs.microsoft.com/windows-hardware/drivers/install/whql-release-signature) (Windows Hardware Quality Labs) signatures, which will allow WHQL-approved drivers to run within the process.</span></span>

<span data-ttu-id="68dea-192">Questa mitigazione viene implementata all'interno del gestore della memoria, che blocca il mapping del binario in memoria.</span><span class="sxs-lookup"><span data-stu-id="68dea-192">This mitigation is implemented within the memory manager, which blocks the binary from being mapped into memory.</span></span> <span data-ttu-id="68dea-193">Se si tenta di caricare un file binario non firmato da Microsoft, la gestione della memoria restituirà l'errore STATUS_INVALID_IMAGE_HASH.</span><span class="sxs-lookup"><span data-stu-id="68dea-193">If you attempt to load a binary that is not signed by Microsoft, the memory manger will return the error STATUS_INVALID_IMAGE_HASH.</span></span> <span data-ttu-id="68dea-194">Bloccando a livello di gestione della memoria, si evita che entrambi i file binari caricati dal processo e i file binari inseriti nel processo.</span><span class="sxs-lookup"><span data-stu-id="68dea-194">By blocking at the memory manager level, this prevents both binaries loaded by the process and binaries injected into the process.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="68dea-195">Considerazioni sulla compatibilità</span><span class="sxs-lookup"><span data-stu-id="68dea-195">Compatibility considerations</span></span>

<span data-ttu-id="68dea-196">Questa mitigazione blocca in modo specifico qualsiasi file binario non firmato da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="68dea-196">This mitigation specifically blocks any binary that is not signed by Microsoft.</span></span> <span data-ttu-id="68dea-197">Di conseguenza, sarà incompatibile con la maggior parte del software di terze parti, a meno che tale software non sia distribuito da Microsoft Store (e firmato digitalmente) e non sia selezionata l'opzione per consentire il caricamento di immagini firmate da Microsoft Store.</span><span class="sxs-lookup"><span data-stu-id="68dea-197">As such, it will be incompatible with most third-party software, unless that software is distributed by (and digitally signed by) the Microsoft Store, and the option to allow loading of images signed by the Microsoft Store is selected.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="68dea-198">Opzioni di configurazione</span><span class="sxs-lookup"><span data-stu-id="68dea-198">Configuration options</span></span>

<span data-ttu-id="68dea-199">Consenti anche il caricamento di immagini firmate da **Microsoft Store:** le applicazioni distribuite da Microsoft Store saranno firmate digitalmente da Microsoft Store e l'aggiunta di questa configurazione consentirà ai file binari che hanno eseguito il processo di certificazione dello Store di essere caricati dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="68dea-199">**Also allow loading of images signed by Microsoft Store** - Applications that are distributed by the Microsoft Store will be digitally signed by the Microsoft Store, and adding this configuration will allow binaries that have gone through the store certification process to be loaded by the application.</span></span>

<span data-ttu-id="68dea-200">**Solo controllo:** è possibile abilitare questa mitigazione in modalità di controllo per misurare il potenziale impatto sulla compatibilità di un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="68dea-200">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="68dea-201">Gli eventi di controllo possono quindi essere visualizzati nel visualizzatore eventi o usando Ricerca avanzata in [Microsoft Defender per Endpoint.](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="68dea-201">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="control-flow-guard-cfg"></a><span data-ttu-id="68dea-202">Control flow guard (CFG)</span><span class="sxs-lookup"><span data-stu-id="68dea-202">Control flow guard (CFG)</span></span>

### <a name="description"></a><span data-ttu-id="68dea-203">Descrizione</span><span class="sxs-lookup"><span data-stu-id="68dea-203">Description</span></span>

<span data-ttu-id="68dea-204">Control flow guard (CFG) riduce il rischio che gli utenti malintenzionati utilizzino vulnerabilità di danneggiamento della memoria proteggendo le chiamate di funzione indirette.</span><span class="sxs-lookup"><span data-stu-id="68dea-204">Control flow guard (CFG) mitigates the risk of attackers using memory corruption vulnerabilities by protecting indirect function calls.</span></span> <span data-ttu-id="68dea-205">Ad esempio, un utente malintenzionato potrebbe utilizzare una vulnerabilità di overflow del buffer per sovrascrivere la memoria contenente un puntatore a funzione e sostituire tale puntatore a funzione con un puntatore al codice eseguibile di propria scelta (che potrebbe essere stato inserito anche nel programma).</span><span class="sxs-lookup"><span data-stu-id="68dea-205">For example, an attacker may user a buffer overflow vulnerability to overwrite memory containing a function pointer, and replace that function pointer with a pointer to executable code of their choice (which may also have been injected into the program).</span></span>

<span data-ttu-id="68dea-206">Questa mitigazione viene fornita mediante l'inserimento di un altro controllo in fase di compilazione.</span><span class="sxs-lookup"><span data-stu-id="68dea-206">This mitigation is provided by injecting another check at compile time.</span></span> <span data-ttu-id="68dea-207">Prima di ogni chiamata di funzione indiretta, vengono aggiunte altre istruzioni che verificano che la destinazione sia una destinazione di chiamata valida prima della chiamata.</span><span class="sxs-lookup"><span data-stu-id="68dea-207">Before each indirect function call, another instructions are added which verify that the target is a valid call target before it is called.</span></span> <span data-ttu-id="68dea-208">Se la destinazione non è una destinazione di chiamata valida, l'applicazione viene terminata.</span><span class="sxs-lookup"><span data-stu-id="68dea-208">If the target is not a valid call target, then the application is terminated.</span></span> <span data-ttu-id="68dea-209">Di conseguenza, solo le applicazioni compilate con il supporto CFG possono trarre vantaggio da questa mitigazione.</span><span class="sxs-lookup"><span data-stu-id="68dea-209">As such, only applications that are compiled with CFG support can benefit from this mitigation.</span></span>

<span data-ttu-id="68dea-210">Il controllo di una destinazione valida viene fornito dal kernel di Windows.</span><span class="sxs-lookup"><span data-stu-id="68dea-210">The check for a valid target is provided by the Windows kernel.</span></span> <span data-ttu-id="68dea-211">Quando i file eseguibili vengono caricati, i metadati per le destinazioni di chiamata indirette vengono estratti in fase di caricamento e contrassegnati come destinazioni di chiamata valide.</span><span class="sxs-lookup"><span data-stu-id="68dea-211">When executable files are loaded, the metadata for indirect call targets is extracted at load time and marked as valid call targets.</span></span> <span data-ttu-id="68dea-212">Inoltre, quando la memoria viene allocata e contrassegnata come eseguibile (ad esempio per il codice generato), queste posizioni di memoria vengono contrassegnate anche come destinazioni di chiamata valide, per supportare meccanismi come la compilazione JIT.</span><span class="sxs-lookup"><span data-stu-id="68dea-212">Additionally, when memory is allocated and marked as executable (such as for generated code), these memory locations are also marked as valid call targets, to support mechanisms such as JIT compilation.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="68dea-213">Considerazioni sulla compatibilità</span><span class="sxs-lookup"><span data-stu-id="68dea-213">Compatibility considerations</span></span>

<span data-ttu-id="68dea-214">Poiché le applicazioni devono essere compilate per supportare CFG, dichiarano implicitamente la compatibilità con essa.</span><span class="sxs-lookup"><span data-stu-id="68dea-214">Since applications must be compiled to support CFG, they implicitly declare their compatibility with it.</span></span> <span data-ttu-id="68dea-215">La maggior parte delle applicazioni, pertanto, dovrebbe funzionare con questa mitigazione abilitata.</span><span class="sxs-lookup"><span data-stu-id="68dea-215">Most applications, therefore, should work with this mitigation enabled.</span></span> <span data-ttu-id="68dea-216">Poiché questi controlli vengono compilati nel file binario, la configurazione che puoi applicare è semplicemente per disabilitare i controlli nel kernel di Windows.</span><span class="sxs-lookup"><span data-stu-id="68dea-216">Because these checks are compiled into the binary, the configuration you can apply is merely to disable checks within the Windows kernel.</span></span> <span data-ttu-id="68dea-217">In altre parole, la mitigazione è impostata per impostazione predefinita, ma è possibile configurare il kernel di Windows in modo che restituirà sempre "sì" se in seguito si determina che esiste un problema di compatibilità che lo sviluppatore dell'applicazione non ha scoperto nei test, cosa che dovrebbe essere rara.</span><span class="sxs-lookup"><span data-stu-id="68dea-217">In other words, the mitigation is on by default, but you can configure the Windows kernel to always return "yes" if you later determine that there is a compatibility issue that the application developer did not discover in their testing, which should be rare.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="68dea-218">Opzioni di configurazione</span><span class="sxs-lookup"><span data-stu-id="68dea-218">Configuration options</span></span>

<span data-ttu-id="68dea-219">**Usa CFG** strict - In modalità strict, tutti i file binari caricati nel processo devono essere compilati per Control Flow Guard (o non contengono codice eseguibile, ad esempio dll di risorse) per poter essere caricati.</span><span class="sxs-lookup"><span data-stu-id="68dea-219">**Use strict CFG** - In strict mode, all binaries loaded into the process must be compiled for Control Flow Guard (or have no executable code in them - such as resource dlls) in order to be loaded.</span></span>

> [!Note]
> <span data-ttu-id="68dea-220">**Control flow guard** has no audit mode.</span><span class="sxs-lookup"><span data-stu-id="68dea-220">**Control flow guard** has no audit mode.</span></span> <span data-ttu-id="68dea-221">I file binari vengono compilati con questa mitigazione abilitata.</span><span class="sxs-lookup"><span data-stu-id="68dea-221">Binaries are compiled with this mitigation enabled.</span></span>

## <a name="data-execution-prevention-dep"></a><span data-ttu-id="68dea-222">Protezione esecuzione programmi</span><span class="sxs-lookup"><span data-stu-id="68dea-222">Data Execution Prevention (DEP)</span></span>

### <a name="description"></a><span data-ttu-id="68dea-223">Descrizione</span><span class="sxs-lookup"><span data-stu-id="68dea-223">Description</span></span>

<span data-ttu-id="68dea-224">Protezione esecuzione programmi impedisce l'esecuzione della memoria non allocata in modo esplicito come eseguibile.</span><span class="sxs-lookup"><span data-stu-id="68dea-224">Data execution prevention (DEP) prevents memory that was not explicitly allocated as executable from being executed.</span></span> <span data-ttu-id="68dea-225">Protezione esecuzione programmi consente di proteggersi da un utente malintenzionato che inserisce codice dannoso nel processo, ad esempio tramite un sovraccarico del buffer e quindi eseguendo tale codice.</span><span class="sxs-lookup"><span data-stu-id="68dea-225">DEP helps protect against an attacker injecting malicious code into the process, such as through a buffer overflow, and then executing that code.</span></span>

<span data-ttu-id="68dea-226">Se tenti di impostare il puntatore all'istruzione su un indirizzo di memoria non contrassegnato come eseguibile, il processore genererà un'eccezione (violazione di protezione generale), causando l'arresto anomalo dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="68dea-226">If you attempt to set the instruction pointer to a memory address not marked as executable, the processor will throw an exception (general-protection violation), causing the application to crash.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="68dea-227">Considerazioni sulla compatibilità</span><span class="sxs-lookup"><span data-stu-id="68dea-227">Compatibility considerations</span></span>

<span data-ttu-id="68dea-228">Tutti i file eseguibili x64, ARM e ARM-64 hanno protezione esecuzione programmi abilitata per impostazione predefinita e non possono essere disabilitati.</span><span class="sxs-lookup"><span data-stu-id="68dea-228">All x64, ARM, and ARM-64 executables have DEP enabled by default, and it cannot be disabled.</span></span> <span data-ttu-id="68dea-229">Poiché un'applicazione non sarà mai stata eseguita senza Protezione esecuzione programmi, si presuppone la compatibilità.</span><span class="sxs-lookup"><span data-stu-id="68dea-229">Since an application will have never been executed without DEP, compatibility is assumed.</span></span>

<span data-ttu-id="68dea-230">Per tutti i file binari x86 (32 bit) la funzionalità Protezione esecuzione programmi è abilitata per impostazione predefinita, ma la funzionalità Protezione esecuzione programmi può essere disabilitata per processo.</span><span class="sxs-lookup"><span data-stu-id="68dea-230">All x86 (32-bit) binaries have DEP enabled by default, but DEP can be disabled per process.</span></span> <span data-ttu-id="68dea-231">Alcune applicazioni legacy precedenti, in genere le applicazioni sviluppate prima di Windows XP SP2, potrebbero non essere compatibili con Protezione esecuzione programmi.</span><span class="sxs-lookup"><span data-stu-id="68dea-231">Some old legacy applications, typically applications developed prior to Windows XP SP2, might not be compatible with DEP.</span></span> <span data-ttu-id="68dea-232">Tali applicazioni in genere generano codice in modo dinamico (ad esempio, compilazione JIT) o collegamenti a librerie precedenti (ad esempio versioni precedenti di ATL) che generano codice in modo dinamico.</span><span class="sxs-lookup"><span data-stu-id="68dea-232">Such applications typically generate code dynamically (for example, JIT compiling) or link to older libraries (such as older versions of ATL) which dynamically generate code.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="68dea-233">Opzioni di configurazione</span><span class="sxs-lookup"><span data-stu-id="68dea-233">Configuration options</span></span>

<span data-ttu-id="68dea-234">**Abilita emulazione Thunk ATL** - Questa opzione di configurazione disabilita l'emulazione Thunk ATL.</span><span class="sxs-lookup"><span data-stu-id="68dea-234">**Enable ATL Thunk emulation** - This configuration option disables ATL Thunk emulation.</span></span> <span data-ttu-id="68dea-235">ATL, la ActiveX template library, è progettata per essere il più piccola e veloce possibile.</span><span class="sxs-lookup"><span data-stu-id="68dea-235">ATL, the ActiveX Template Library, is designed to be as small and fast as possible.</span></span> <span data-ttu-id="68dea-236">Per ridurre le dimensioni binarie, viene utilizzata una tecnica denominata *thunking.*</span><span class="sxs-lookup"><span data-stu-id="68dea-236">In order to reduce binary size, it would use a technique called *thunking*.</span></span> <span data-ttu-id="68dea-237">Il thunking viene in genere pensato per interagire tra applicazioni a 32 bit e a 16 bit, ma qui non esistono componenti a 16 bit per ATL.</span><span class="sxs-lookup"><span data-stu-id="68dea-237">Thunking is typically thought of for interacting between 32-bit and 16-bit applications, but there are no 16-bit components to ATL here.</span></span> <span data-ttu-id="68dea-238">Al contrario, per ottimizzare le dimensioni binarie, ATL archivierà il codice macchina in memoria che non è allineato alle parole (creando un binario più piccolo) e quindi richiama direttamente il codice.</span><span class="sxs-lookup"><span data-stu-id="68dea-238">Rather, in order to optimize for binary size, ATL will store machine code in memory that is not word-aligned (creating a smaller binary), and then invoke that code directly.</span></span> <span data-ttu-id="68dea-239">I componenti ATL compilati con Visual Studio 7.1 o versioni precedenti (Visual Studio 2003) non allocano questa memoria come eseguibile: l'emulazione thunk risolve il problema di compatibilità.</span><span class="sxs-lookup"><span data-stu-id="68dea-239">ATL components compiled with Visual Studio 7.1 or earlier (Visual Studio 2003) do not allocate this memory as executable - thunk emulation resolves that compatibility issue.</span></span> <span data-ttu-id="68dea-240">Le applicazioni con un modello di estensione binario (ad esempio Internet Explorer 11) spesso dovranno avere l'emulazione Thunk ATL abilitata.</span><span class="sxs-lookup"><span data-stu-id="68dea-240">Applications that have a binary extension model (such as Internet Explorer 11) will often need to have ATL Thunk emulation enabled.</span></span>

## <a name="disable-extension-points"></a><span data-ttu-id="68dea-241">Disabilitare i punti di estensione</span><span class="sxs-lookup"><span data-stu-id="68dea-241">Disable extension points</span></span>

### <a name="description"></a><span data-ttu-id="68dea-242">Descrizione</span><span class="sxs-lookup"><span data-stu-id="68dea-242">Description</span></span>

<span data-ttu-id="68dea-243">Questa mitigazione disabilita diversi punti di estensione per un'applicazione, che potrebbero essere usati per stabilire la persistenza o elevare i privilegi di contenuto dannoso.</span><span class="sxs-lookup"><span data-stu-id="68dea-243">This mitigation disables various extension points for an application, which might be used to establish persistence or elevate privileges of malicious content.</span></span>

<span data-ttu-id="68dea-244">Ciò include:</span><span class="sxs-lookup"><span data-stu-id="68dea-244">This includes:</span></span>

- <span data-ttu-id="68dea-245">**DLL AppInit:** ogni volta che viene avviato un processo, il sistema carica la DLL specificata nel contesto del processo appena avviato prima di chiamare la relativa funzione del punto di ingresso.</span><span class="sxs-lookup"><span data-stu-id="68dea-245">**AppInit DLLs** - Whenever a process starts, the system will load the specified DLL into to context of the newly started process before calling its entry point function.</span></span> <span data-ttu-id="68dea-246">[I dettagli sulle DLL AppInit sono disponibili qui.](https://docs.microsoft.com/windows/win32/winmsg/about-window-classes#application-global-classes)</span><span class="sxs-lookup"><span data-stu-id="68dea-246">[Details on AppInit DLLs can be found here](https://docs.microsoft.com/windows/win32/winmsg/about-window-classes#application-global-classes).</span></span> <span data-ttu-id="68dea-247">Con questa mitigazione applicata, le DLL AppInit non vengono caricate.</span><span class="sxs-lookup"><span data-stu-id="68dea-247">With this mitigation applied, AppInit DLLs are not loaded.</span></span> <span data-ttu-id="68dea-248">A partire da Windows 7, le DLL AppInit devono essere firmate digitalmente, [come descritto qui.](https://docs.microsoft.com/windows/win32/win7appqual/appinit-dlls-in-windows-7-and-windows-server-2008-r2)</span><span class="sxs-lookup"><span data-stu-id="68dea-248">Beginning with Windows 7, AppInit DLLs need to be digitally signed, [as described here](https://docs.microsoft.com/windows/win32/win7appqual/appinit-dlls-in-windows-7-and-windows-server-2008-r2).</span></span> <span data-ttu-id="68dea-249">Inoltre, a partire da Windows 8, le DLL AppInit non verranno caricate se SecureBoot è abilitato, [come descritto qui.](https://docs.microsoft.com/windows/win32/dlls/secure-boot-and-appinit-dlls)</span><span class="sxs-lookup"><span data-stu-id="68dea-249">Additionally, beginning with Windows 8, AppInit DLLs will not be loaded if SecureBoot is enabled, [as described here](https://docs.microsoft.com/windows/win32/dlls/secure-boot-and-appinit-dlls).</span></span>
- <span data-ttu-id="68dea-250">**IME legacy** - Un IME (Input Method Editor) consente all'utente di digitare testo in una lingua con più caratteri di quelli che possono essere rappresentati su una tastiera.</span><span class="sxs-lookup"><span data-stu-id="68dea-250">**Legacy IMEs** - An Input Method Editor (IME) allows a user to type text in a language that has more characters than can be represented on a keyboard.</span></span> <span data-ttu-id="68dea-251">Terze parti sono in grado di creare IME.</span><span class="sxs-lookup"><span data-stu-id="68dea-251">Third parties are able to create IMEs.</span></span> <span data-ttu-id="68dea-252">Un IME dannoso potrebbe ottenere credenziali o altre informazioni riservate da questa acquisizione di input.</span><span class="sxs-lookup"><span data-stu-id="68dea-252">A malicious IME might obtain credentials or other sensitive information from this input capture.</span></span> <span data-ttu-id="68dea-253">Alcuni IME, denominati IME legacy, funzionano solo sulle app desktop di Windows e non sulle app UWP.</span><span class="sxs-lookup"><span data-stu-id="68dea-253">Some IMEs, referred to as Legacy IMEs, will only work on Windows Desktop apps, and not UWP apps.</span></span> <span data-ttu-id="68dea-254">Questa mitigazione impedirà anche il caricamento di questo IME legacy nell'app desktop di Windows specificata.</span><span class="sxs-lookup"><span data-stu-id="68dea-254">This mitigation will also prevent this legacy IME from loading into the specified Windows Desktop app.</span></span>
- <span data-ttu-id="68dea-255">**Hook di eventi di Windows** - Un'applicazione può chiamare l'API [SetWinEventHook](https://docs.microsoft.com/windows/win32/api/winuser/nf-winuser-setwineventhook) per registrare l'interesse per un evento in corso.</span><span class="sxs-lookup"><span data-stu-id="68dea-255">**Windows Event Hooks** - An application can call the [SetWinEventHook API](https://docs.microsoft.com/windows/win32/api/winuser/nf-winuser-setwineventhook) to register interest in an event taking place.</span></span> <span data-ttu-id="68dea-256">Viene specificata una DLL e può essere inserita nel processo.</span><span class="sxs-lookup"><span data-stu-id="68dea-256">A DLL is specified and can be injected into the process.</span></span> <span data-ttu-id="68dea-257">Questa mitigazione forza l'inserimento dell'hook nel processo di registrazione anziché l'esecuzione in-process tramite una DLL inserita.</span><span class="sxs-lookup"><span data-stu-id="68dea-257">This mitigation forces the hook to be posted to the registering process rather than running in-process through an injected DLL.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="68dea-258">Considerazioni sulla compatibilità</span><span class="sxs-lookup"><span data-stu-id="68dea-258">Compatibility considerations</span></span>

<span data-ttu-id="68dea-259">La maggior parte di questi punti di estensione viene utilizzata relativamente raramente, quindi l'impatto sulla compatibilità è in genere ridotto, in particolare a livello di singola applicazione.</span><span class="sxs-lookup"><span data-stu-id="68dea-259">Most of these extension points are relatively infrequently used, so compatibility impact is typically small, particularly at an individual application level.</span></span> <span data-ttu-id="68dea-260">L'unica considerazione è se gli utenti utilizzano IME legacy di terze parti che non funzionano con l'applicazione protetta.</span><span class="sxs-lookup"><span data-stu-id="68dea-260">The one consideration is if users are using third-party Legacy IMEs that will not work with the protected application.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="68dea-261">Opzioni di configurazione</span><span class="sxs-lookup"><span data-stu-id="68dea-261">Configuration options</span></span>

<span data-ttu-id="68dea-262">Non sono disponibili opzioni di configurazione per questa mitigazione.</span><span class="sxs-lookup"><span data-stu-id="68dea-262">There are no configuration options for this mitigation.</span></span>

> [!Note]
> <span data-ttu-id="68dea-263">**Disabilitare i punti di estensione** non ha alcuna modalità di controllo.</span><span class="sxs-lookup"><span data-stu-id="68dea-263">**Disable extension points** has no audit mode.</span></span>

## <a name="disable-win32k-system-calls"></a><span data-ttu-id="68dea-264">Disabilitare le chiamate di sistema Win32k</span><span class="sxs-lookup"><span data-stu-id="68dea-264">Disable Win32k system calls</span></span>

### <a name="description"></a><span data-ttu-id="68dea-265">Descrizione</span><span class="sxs-lookup"><span data-stu-id="68dea-265">Description</span></span>

<span data-ttu-id="68dea-266">Win32k.sys fornisce un'ampia superficie di attacco per un utente malintenzionato.</span><span class="sxs-lookup"><span data-stu-id="68dea-266">Win32k.sys provides a broad attack surface for an attacker.</span></span> <span data-ttu-id="68dea-267">Come componente in modalità kernel, è spesso destinato come vettore di escape per le applicazioni in modalità sandbox.</span><span class="sxs-lookup"><span data-stu-id="68dea-267">As a kernel-mode component, it is frequently targeted as an escape vector for applications that are sandboxed.</span></span> <span data-ttu-id="68dea-268">Questa mitigazione impedisce alle chiamate in win32k.sys bloccando un thread di convertirsi in un thread GUI, a cui viene quindi assegnato l'accesso per richiamare le funzioni Win32k.</span><span class="sxs-lookup"><span data-stu-id="68dea-268">This mitigation prevents calls into win32k.sys by blocking a thread from converting itself into a GUI thread, which is then given access to invoke Win32k functions.</span></span> <span data-ttu-id="68dea-269">Un thread non è gui al momento della creazione, ma viene convertito alla prima chiamata a win32k.sys o tramite una chiamata API a [IsGuiThread](https://docs.microsoft.com/windows/win32/api/winuser/nf-winuser-isguithread).</span><span class="sxs-lookup"><span data-stu-id="68dea-269">A thread is non-GUI when created, but converted on first call to win32k.sys, or through an API call to [IsGuiThread](https://docs.microsoft.com/windows/win32/api/winuser/nf-winuser-isguithread).</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="68dea-270">Considerazioni sulla compatibilità</span><span class="sxs-lookup"><span data-stu-id="68dea-270">Compatibility considerations</span></span>

<span data-ttu-id="68dea-271">Questa mitigazione è progettata per i processi dedicati non dell'interfaccia utente.</span><span class="sxs-lookup"><span data-stu-id="68dea-271">This mitigation is designed for processes that are dedicated non-UI processes.</span></span> <span data-ttu-id="68dea-272">Ad esempio, molti browser moderni useranno l'isolamento dei processi e incorporano processi non dell'interfaccia utente.</span><span class="sxs-lookup"><span data-stu-id="68dea-272">For example, many modern browsers will use process isolation and incorporate non-UI processes.</span></span> <span data-ttu-id="68dea-273">Tutte le applicazioni che visualizzano un'interfaccia utente grafica con un singolo processo saranno influenzate da questa mitigazione.</span><span class="sxs-lookup"><span data-stu-id="68dea-273">Any application that displays a GUI using a single process will be impacted by this mitigation.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="68dea-274">Opzioni di configurazione</span><span class="sxs-lookup"><span data-stu-id="68dea-274">Configuration options</span></span>

<span data-ttu-id="68dea-275">**Solo controllo:** è possibile abilitare questa mitigazione in modalità di controllo per misurare il potenziale impatto sulla compatibilità di un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="68dea-275">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="68dea-276">Gli eventi di controllo possono quindi essere visualizzati nel visualizzatore eventi o usando Ricerca avanzata in [Microsoft Defender per Endpoint.](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="68dea-276">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="do-not-allow-child-processes"></a><span data-ttu-id="68dea-277">Non consentire processi figlio</span><span class="sxs-lookup"><span data-stu-id="68dea-277">Do not allow child processes</span></span>

### <a name="description"></a><span data-ttu-id="68dea-278">Descrizione</span><span class="sxs-lookup"><span data-stu-id="68dea-278">Description</span></span>

<span data-ttu-id="68dea-279">Questa mitigazione impedisce a un'applicazione di creare nuove applicazioni figlio.</span><span class="sxs-lookup"><span data-stu-id="68dea-279">This mitigation prevents an application from creating new child applications.</span></span> <span data-ttu-id="68dea-280">Una tecnica comune usata dagli avversari consiste nell'avviare un processo attendibile sul dispositivo con input dannoso (un attacco di tipo "living off the land"), che spesso richiede l'avvio di un'altra applicazione nel dispositivo.</span><span class="sxs-lookup"><span data-stu-id="68dea-280">A common technique used by adversaries is to initiate a trusted process on the device with malicious input (a "living off the land" attack), which often requires launching another application on the device.</span></span> <span data-ttu-id="68dea-281">Se non esistono motivi legittimi per cui un'applicazione avvii un processo figlio, questa mitigazione riduce il potenziale vettore di attacco.</span><span class="sxs-lookup"><span data-stu-id="68dea-281">If there are no legitimate reasons why an application would launch a child process, this mitigation mitigates that potential attack vector.</span></span> <span data-ttu-id="68dea-282">La mitigazione viene applicata impostando una proprietà sul token del processo, che blocca la creazione di un token per il processo figlio con il messaggio di errore STATUS_CHILD_PROCESS_BLOCKED.</span><span class="sxs-lookup"><span data-stu-id="68dea-282">The mitigation is applied by setting a property on the process token, which blocks creating a token for the child process with the error message STATUS_CHILD_PROCESS_BLOCKED.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="68dea-283">Considerazioni sulla compatibilità</span><span class="sxs-lookup"><span data-stu-id="68dea-283">Compatibility considerations</span></span>

<span data-ttu-id="68dea-284">Se l'applicazione avvia applicazioni figlio per qualsiasi motivo, ad esempio supportando collegamenti ipertestuali che avviano un browser o un browser esterno o che avviano altre utilità nel computer, questa funzionalità verrà interrotta con questa mitigazione applicata.</span><span class="sxs-lookup"><span data-stu-id="68dea-284">If your application launches child applications for any reason, such as supporting hyperlinks that launch a browser or an external browser, or which launch other utilities on the computer, this functionality will be broken with this mitigation applied.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="68dea-285">Opzioni di configurazione</span><span class="sxs-lookup"><span data-stu-id="68dea-285">Configuration options</span></span>

<span data-ttu-id="68dea-286">**Solo controllo:** è possibile abilitare questa mitigazione in modalità di controllo per misurare il potenziale impatto sulla compatibilità di un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="68dea-286">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="68dea-287">Gli eventi di controllo possono quindi essere visualizzati nel visualizzatore eventi o usando Ricerca avanzata in [Microsoft Defender per Endpoint.](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="68dea-287">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="export-address-filtering"></a><span data-ttu-id="68dea-288">Esportare il filtro indirizzi</span><span class="sxs-lookup"><span data-stu-id="68dea-288">Export address filtering</span></span>

### <a name="description"></a><span data-ttu-id="68dea-289">Descrizione</span><span class="sxs-lookup"><span data-stu-id="68dea-289">Description</span></span>

<span data-ttu-id="68dea-290">Il filtro degli indirizzi di esportazione (EAF) riduce il rischio di codice dannoso esaminando la tabella degli indirizzi di esportazione di tutti i moduli caricati per trovare i moduli che contengono API utili per l'attacco.</span><span class="sxs-lookup"><span data-stu-id="68dea-290">Export address filtering (EAF) mitigates the risk of malicious code looking at the export address table of all loaded modules to find modules that contain useful APIs for their attack.</span></span> <span data-ttu-id="68dea-291">Si tratta di una tattica comune usata da shellcode.</span><span class="sxs-lookup"><span data-stu-id="68dea-291">This is a common tactic used by shellcode.</span></span> <span data-ttu-id="68dea-292">Per ridurre il rischio di un attacco di questo tipo, questa mitigazione protegge tre moduli comunemente attaccati:</span><span class="sxs-lookup"><span data-stu-id="68dea-292">In order to mitigate the risk of such an attack, this mitigation protects three commonly attacked modules:</span></span>

- <span data-ttu-id="68dea-293">ntdll.dll</span><span class="sxs-lookup"><span data-stu-id="68dea-293">ntdll.dll</span></span>
- <span data-ttu-id="68dea-294">kernelbase.dll</span><span class="sxs-lookup"><span data-stu-id="68dea-294">kernelbase.dll</span></span>
- <span data-ttu-id="68dea-295">kernel32.dll</span><span class="sxs-lookup"><span data-stu-id="68dea-295">kernel32.dll</span></span>

<span data-ttu-id="68dea-296">La mitigazione protegge la pagina di memoria nella [directory di esportazione che punta alla tabella [degli indirizzi di esportazione.](https://docs.microsoft.com/windows/win32/debug/pe-format#export-address-table)</span><span class="sxs-lookup"><span data-stu-id="68dea-296">The mitigation protects the memory page in the [export directory that points to the [export address table](https://docs.microsoft.com/windows/win32/debug/pe-format#export-address-table).</span></span> <span data-ttu-id="68dea-297">A questa pagina di memoria [verrà applicata PAGE_GUARD](https://docs.microsoft.com/windows/win32/memory/creating-guard-pages) protezione.</span><span class="sxs-lookup"><span data-stu-id="68dea-297">This memory page will have the [PAGE_GUARD](https://docs.microsoft.com/windows/win32/memory/creating-guard-pages) protection applied to it.</span></span> <span data-ttu-id="68dea-298">Quando qualcuno tenta di accedere a questa memoria, genererà un STATUS_GUARD_PAGE_VIOLATION.</span><span class="sxs-lookup"><span data-stu-id="68dea-298">When someone tries to access this memory, it will generate a STATUS_GUARD_PAGE_VIOLATION.</span></span> <span data-ttu-id="68dea-299">La mitigazione gestisce questa eccezione e se l'istruzione di accesso non supera la convalida, il processo verrà terminato.</span><span class="sxs-lookup"><span data-stu-id="68dea-299">The mitigation handles this exception, and if the accessing instruction doesn't pass validation, the process will be terminated.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="68dea-300">Considerazioni sulla compatibilità</span><span class="sxs-lookup"><span data-stu-id="68dea-300">Compatibility considerations</span></span>

<span data-ttu-id="68dea-301">Questa mitigazione è principalmente un problema per applicazioni quali debugger, applicazioni in modalità sandbox, applicazioni che utilizzano DRM o applicazioni che implementano la tecnologia anti-debug.</span><span class="sxs-lookup"><span data-stu-id="68dea-301">This mitigation is primarily an issue for applications such as debuggers, sandboxed applications, applications using DRM, or applications that implement anti-debugging technology.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="68dea-302">Opzioni di configurazione</span><span class="sxs-lookup"><span data-stu-id="68dea-302">Configuration options</span></span>

<span data-ttu-id="68dea-303">**Convalidare l'accesso** per i moduli comunemente utilizzati dagli exploit: questa opzione, nota anche come EAF+, aggiunge protezioni per altri moduli comunemente attaccati:</span><span class="sxs-lookup"><span data-stu-id="68dea-303">**Validate access for modules that are commonly abused by exploits** - This option, also known as EAF+, adds protections for other commonly attacked modules:</span></span>

- `mshtml.dll`
- `flash*.ocx`
- `jscript*.ocx`
- `vbscript.dll`
- `vgx.dll`
- `mozjs.dll`
- `xul.dll`
- `acrord32.dll`
- `acrofx32.dll`
- `acroform.api`

<span data-ttu-id="68dea-304">Inoltre, abilitando EAF+, questa mitigazione aggiunge la protezione PAGE_GUARD alla pagina contenente l'intestazione "MZ", i primi due byte dell'intestazione DOS in un [file PE,](https://docs.microsoft.com/windows/win32/debug/pe-format#ms-dos-stub-image-only)che è un altro aspetto del contenuto di memoria noto che shellcode può cercare per identificare i moduli potenzialmente di interesse per la memoria.</span><span class="sxs-lookup"><span data-stu-id="68dea-304">Additionally, by enabling EAF+, this mitigation adds the PAGE_GUARD protection to the page containing the "MZ" header, the first two bytes of the [DOS header in a PE file](https://docs.microsoft.com/windows/win32/debug/pe-format#ms-dos-stub-image-only), which is another aspect of known memory content which shellcode can look for to identify modules potentially of interest in memory.</span></span>

<span data-ttu-id="68dea-305">**Solo controllo:** è possibile abilitare questa mitigazione in modalità di controllo per misurare il potenziale impatto sulla compatibilità di un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="68dea-305">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="68dea-306">Gli eventi di controllo possono quindi essere visualizzati nel visualizzatore eventi o usando Ricerca avanzata in [Microsoft Defender per Endpoint.](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="68dea-306">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="force-randomization-for-images-mandatory-aslr"></a><span data-ttu-id="68dea-307">Forza la casualizzazione per le immagini (ASLR obbligatorio)</span><span class="sxs-lookup"><span data-stu-id="68dea-307">Force randomization for images (Mandatory ASLR)</span></span>

### <a name="description"></a><span data-ttu-id="68dea-308">Descrizione</span><span class="sxs-lookup"><span data-stu-id="68dea-308">Description</span></span>

<span data-ttu-id="68dea-309">Address Space Layout Randomization (ASLR) riduce il rischio che un utente malintenzionato utilizzi la conoscenza del layout di memoria del sistema per eseguire codice già presente nella memoria del processo e già contrassegnato come eseguibile.</span><span class="sxs-lookup"><span data-stu-id="68dea-309">Address Space Layout Randomization (ASLR) mitigates the risk of an attacker using their knowledge of the memory layout of the system in order to execute code that is already present in process memory and already marked as executable.</span></span> <span data-ttu-id="68dea-310">In questo modo è possibile ridurre il rischio che un utente malintenzionato utilizzi tecniche come gli attacchi da ritorno a libc, in cui l'avversario imposta il contesto e quindi modifica l'indirizzo del mittente per eseguire il codice esistente con un contesto adatto allo scopo dell'avversario.</span><span class="sxs-lookup"><span data-stu-id="68dea-310">This can mitigate the risk of an attacker using techniques such as return-to-libc attacks, where the adversary sets the context and then modifies the return address to execute existing code with context that suits the adversary's purpose.</span></span>

<span data-ttu-id="68dea-311">L'ASLR obbligatorio forza un rebase di tutte le DLL all'interno del processo.</span><span class="sxs-lookup"><span data-stu-id="68dea-311">Mandatory ASLR forces a rebase of all DLLs within the process.</span></span> <span data-ttu-id="68dea-312">Uno sviluppatore può abilitare ASLR usando l'opzione del linker [/DYNAMICBASE](https://docs.microsoft.com/cpp/build/reference/dynamicbase-use-address-space-layout-randomization?view=vs-2019&preserve-view=true) e questa mitigazione ha lo stesso effetto.</span><span class="sxs-lookup"><span data-stu-id="68dea-312">A developer can enable ASLR using the [/DYNAMICBASE](https://docs.microsoft.com/cpp/build/reference/dynamicbase-use-address-space-layout-randomization?view=vs-2019&preserve-view=true) linker option, and this mitigation has the same effect.</span></span>

<span data-ttu-id="68dea-313">Quando il gestore della memoria esegue il mapping dell'immagine nel processo, l'ASLR obbligatorio esegue il rebase forzato delle DLL e degli EXE che non hanno acconsentito esplicitamente ad ASLR.</span><span class="sxs-lookup"><span data-stu-id="68dea-313">When the memory manager is mapping in the image into the process, Mandatory ASLR will forcibly rebase DLLs and EXEs that have not opted in to ASLR.</span></span> <span data-ttu-id="68dea-314">Si noti, tuttavia, che questo sconto non ha entropia e pertanto può essere posizionato in una posizione prevedibile in memoria.</span><span class="sxs-lookup"><span data-stu-id="68dea-314">Note, however, that this rebasing has no entropy, and can therefore be placed at a predictable location in memory.</span></span> <span data-ttu-id="68dea-315">Per la posizione basata su base e casuale dei file binari, questa mitigazione deve essere associata alle allocazioni di memoria [randomizzate (ASLR bottom-up).](#randomize-memory-allocations-bottom-up-aslr)</span><span class="sxs-lookup"><span data-stu-id="68dea-315">For rebased and randomized location of binaries, this mitigation should be paired with [Randomize memory allocations (Bottom-up ASLR)](#randomize-memory-allocations-bottom-up-aslr).</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="68dea-316">Considerazioni sulla compatibilità</span><span class="sxs-lookup"><span data-stu-id="68dea-316">Compatibility considerations</span></span>

<span data-ttu-id="68dea-317">Questo impatto sulla compatibilità di ASLR è in genere limitato alle applicazioni meno recenti create utilizzando compilatori che presupponevano l'indirizzo di base di un file binario o che hanno privato le informazioni di rilocazione di base.</span><span class="sxs-lookup"><span data-stu-id="68dea-317">This compatibility impact of ASLR is typically constrained to older applications that were built using compilers that made assumptions about the base address of a binary file or have stripped out base relocation information.</span></span> <span data-ttu-id="68dea-318">Ciò può causare errori imprevisti quando il flusso di esecuzione tenta di passare alla posizione prevista anziché alla posizione effettiva in memoria.</span><span class="sxs-lookup"><span data-stu-id="68dea-318">This can lead to unpredictable errors as the execution flow attempts to jump to the expected, rather than the actual, location in memory.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="68dea-319">Opzioni di configurazione</span><span class="sxs-lookup"><span data-stu-id="68dea-319">Configuration options</span></span>

<span data-ttu-id="68dea-320">**Non consentire immagini stripped-** Questa opzione blocca il caricamento delle immagini per le cui informazioni di rilocazione sono state tortuite.</span><span class="sxs-lookup"><span data-stu-id="68dea-320">**Do not allow stripped images** - This option blocks the loading of images that have had relocation information stripped.</span></span> <span data-ttu-id="68dea-321">Il formato di file Windows PE contiene indirizzi assoluti e il compilatore genera anche una [tabella di rilocazione di base che il caricatore può utilizzare per trovare tutti i riferimenti di memoria relativi e il relativo offset, in modo che possano essere aggiornati se il file binario non viene caricato nell'indirizzo di base preferito.</span><span class="sxs-lookup"><span data-stu-id="68dea-321">The Windows PE file format contains absolute addresses, and the compiler also generates a [base relocation table that the loader can use to find all relative memory references and their offset, so they can be updated if the binary does not load at its preferred base address.</span></span> <span data-ttu-id="68dea-322">Alcune applicazioni precedenti es rimuovere queste informazioni nelle build di produzione e pertanto questi file binari non possono essere ribaseti.</span><span class="sxs-lookup"><span data-stu-id="68dea-322">Some older applications strip out this information in production builds, and therefore these binaries cannot be rebased.</span></span> <span data-ttu-id="68dea-323">Questa mitigazione blocca il caricamento di file binari di questo tipo anziché consentire il caricamento all'indirizzo di base preferito.</span><span class="sxs-lookup"><span data-stu-id="68dea-323">This mitigation blocks such binaries from being loaded (instead of allowing them to load at their preferred base address).</span></span>

> [!Note]
> <span data-ttu-id="68dea-324">**Forzare la casualizzazione per le immagini (ASLR obbligatorio)** non ha modalità di controllo.</span><span class="sxs-lookup"><span data-stu-id="68dea-324">**Force randomization for images (Mandatory ASLR)** has no audit mode.</span></span>

## <a name="import-address-filtering-iaf"></a><span data-ttu-id="68dea-325">Filtro indirizzi di importazione (IAF)</span><span class="sxs-lookup"><span data-stu-id="68dea-325">Import address filtering (IAF)</span></span>

### <a name="description"></a><span data-ttu-id="68dea-326">Descrizione</span><span class="sxs-lookup"><span data-stu-id="68dea-326">Description</span></span>

<span data-ttu-id="68dea-327">La mitigazione del filtro degli indirizzi di importazione (IAF) consente di ridurre il rischio che un avversario cambi il flusso di controllo di un'applicazione modificando la tabella degli indirizzi di importazione (IAT, Import Address Table) per reindirizzare al codice arbitrario scelto dall'autore dell'attacco quando viene chiamata tale funzione.</span><span class="sxs-lookup"><span data-stu-id="68dea-327">The import address filtering (IAF) mitigation helps mitigate the risk of an adversary changing the control flow of an application by modifying the import address table (IAT) to redirect to arbitrary code of the attacker's choice when that function is called.</span></span> <span data-ttu-id="68dea-328">Un utente malintenzionato potrebbe usare questo approccio per dirottare il controllo o intercettare, ispezionare e bloccare potenzialmente le chiamate alle API sensibili.</span><span class="sxs-lookup"><span data-stu-id="68dea-328">An attacker could use this approach to hijack control, or to intercept, inspect, and potentially block calls to sensitive APIs.</span></span>

<span data-ttu-id="68dea-329">Alle pagine di memoria per tutte le API protette verrà applicata [PAGE_GUARD](https://docs.microsoft.com/windows/win32/memory/creating-guard-pages) protezione.</span><span class="sxs-lookup"><span data-stu-id="68dea-329">The memory pages for all protected APIs will have the [PAGE_GUARD](https://docs.microsoft.com/windows/win32/memory/creating-guard-pages) protection applied to them.</span></span> <span data-ttu-id="68dea-330">Quando qualcuno tenta di accedere a questa memoria, genererà un STATUS_GUARD_PAGE_VIOLATION.</span><span class="sxs-lookup"><span data-stu-id="68dea-330">When someone tries to access this memory, it will generate a STATUS_GUARD_PAGE_VIOLATION.</span></span> <span data-ttu-id="68dea-331">La mitigazione gestisce questa eccezione e se l'istruzione di accesso non supera la convalida, il processo verrà terminato.</span><span class="sxs-lookup"><span data-stu-id="68dea-331">The mitigation handles this exception, and if the accessing instruction doesn't pass validation, the process will be terminated.</span></span>

<span data-ttu-id="68dea-332">Questa mitigazione protegge le API di Windows seguenti:</span><span class="sxs-lookup"><span data-stu-id="68dea-332">This mitigation protects the following Windows APIs:</span></span>

- `GetProcAddress`
- `GetProcAddressForCaller`
- `LoadLibraryA`
- `LoadLibraryExA`
- `LoadLibraryW`
- `LoadLibraryExW`
- `LdrGetProcedureAddress`
- `LdrGetProcedureAddressEx`
- `LdrGetProcedureAddressForCaller`
- `LdrLoadDll`
- `VirtualProtect`
- `VirtualProtectEx`
- `VirtualAlloc`
- `VirtualAllocEx`
- `NtAllocateVirtualMemory`
- `NtProtectVirtualMemory`
- `CreateProcessA`
- `CreateProcessW`
- `WinExec`
- `CreateProcessAsUserA`
- `CreateProcessAsUserW`
- `GetModuleHandleA`
- `GetModuleHandleW`
- `RtlDecodePointer`
- `DecodePointer`

### <a name="compatibility-considerations"></a><span data-ttu-id="68dea-333">Considerazioni sulla compatibilità</span><span class="sxs-lookup"><span data-stu-id="68dea-333">Compatibility considerations</span></span>

<span data-ttu-id="68dea-334">Le applicazioni legittime che eseguono l'intercettazione api possono essere rilevate da questa mitigazione e causare l'arresto anomalo di alcune applicazioni.</span><span class="sxs-lookup"><span data-stu-id="68dea-334">Legitimate applications that perform API interception may be detected by this mitigation and cause some applications to crash.</span></span> <span data-ttu-id="68dea-335">Tra gli esempi sono inclusi gli serre di compatibilità di applicazioni e software di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="68dea-335">Examples include security software and application compatibility shims.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="68dea-336">Opzioni di configurazione</span><span class="sxs-lookup"><span data-stu-id="68dea-336">Configuration options</span></span>

<span data-ttu-id="68dea-337">**Solo controllo:** è possibile abilitare questa mitigazione in modalità di controllo per misurare il potenziale impatto sulla compatibilità di un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="68dea-337">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="68dea-338">Gli eventi di controllo possono quindi essere visualizzati nel visualizzatore eventi o usando Ricerca avanzata in [Microsoft Defender per Endpoint.](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="68dea-338">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="randomize-memory-allocations-bottom-up-aslr"></a><span data-ttu-id="68dea-339">Allocazioni di memoria casuali (ASLR dal basso verso l'alto)</span><span class="sxs-lookup"><span data-stu-id="68dea-339">Randomize memory allocations (Bottom-up ASLR)</span></span>

### <a name="description"></a><span data-ttu-id="68dea-340">Descrizione</span><span class="sxs-lookup"><span data-stu-id="68dea-340">Description</span></span>

<span data-ttu-id="68dea-341">Le allocazioni di memoria casuali (ASLR bottom-up) aggiungono entropia alle rilocazioni, quindi la loro posizione è casuale e quindi meno prevedibile.</span><span class="sxs-lookup"><span data-stu-id="68dea-341">Randomize memory allocations (Bottom-up ASLR) adds entropy to relocations, so their location is randomized and therefore less predictable.</span></span> <span data-ttu-id="68dea-342">Questa mitigazione richiede l'applicazione dell'aslR obbligatorio.</span><span class="sxs-lookup"><span data-stu-id="68dea-342">This mitigation requires Mandatory ASLR to take effect.</span></span>

<span data-ttu-id="68dea-343">La dimensione dello spazio degli indirizzi a 32 bit pone vincoli pratici sull'entropia che è possibile aggiungere e pertanto le applicazioni a 64 bit rendono più difficile per un utente malintenzionato indovinare una posizione in memoria.</span><span class="sxs-lookup"><span data-stu-id="68dea-343">The size of the 32-bit address space places practical constraints on the entropy that can be added, and therefore 64-bit applications make it more difficult for an attacker to guess a location in memory.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="68dea-344">Considerazioni sulla compatibilità</span><span class="sxs-lookup"><span data-stu-id="68dea-344">Compatibility considerations</span></span>

<span data-ttu-id="68dea-345">La maggior parte delle applicazioni compatibili con l'ASLR obbligatorio (rebasing) è compatibile anche con l'altra entropia di ASLR bottom-up.</span><span class="sxs-lookup"><span data-stu-id="68dea-345">Most applications that are compatible with Mandatory ASLR (rebasing) are also compatible with the other entropy of Bottom-up ASLR.</span></span> <span data-ttu-id="68dea-346">Alcune applicazioni potrebbero avere problemi di troncamento del puntatore se salvano puntatori locali in variabili a 32 bit (prevedendo un indirizzo di base inferiore a 4 GB) e pertanto non saranno compatibili con l'opzione di entropia elevata (che può essere disabilitata).</span><span class="sxs-lookup"><span data-stu-id="68dea-346">Some applications may have pointer-truncation issues if they are saving local pointers in 32-bit variables (expecting a base address below 4 GB), and thus will be incompatible with the high entropy option (which can be disabled).</span></span>

### <a name="configuration-options"></a><span data-ttu-id="68dea-347">Opzioni di configurazione</span><span class="sxs-lookup"><span data-stu-id="68dea-347">Configuration options</span></span>

<span data-ttu-id="68dea-348">Non usare **l'entropia** elevata: questa opzione disabilita l'uso di ASLR ad alta entropia, che aggiunge 24 bit di entropia (1 TB di varianza) nell'allocazione dal basso verso l'alto per le applicazioni a 64 bit.</span><span class="sxs-lookup"><span data-stu-id="68dea-348">**Don't use high entropy** - this option disables the use of high-entropy ASLR, which adds 24 bits of entropy (1 TB of variance) into the bottom-up allocation for 64-bit applications.</span></span>

> [!Note]
> <span data-ttu-id="68dea-349">**Le allocazioni di memoria casuali (ASLR dal basso verso l'alto)** non hanno modalità di controllo.</span><span class="sxs-lookup"><span data-stu-id="68dea-349">**Randomize memory allocations (Bottom-up ASLR)** has no audit mode.</span></span>

## <a name="simulate-execution-simexec"></a><span data-ttu-id="68dea-350">Simulazione dell'esecuzione (SimExec)</span><span class="sxs-lookup"><span data-stu-id="68dea-350">Simulate execution (SimExec)</span></span>

### <a name="description"></a><span data-ttu-id="68dea-351">Descrizione</span><span class="sxs-lookup"><span data-stu-id="68dea-351">Description</span></span>

<span data-ttu-id="68dea-352">L'esecuzione simulata (SimExec) è una mitigazione solo per le applicazioni a 32 bit.</span><span class="sxs-lookup"><span data-stu-id="68dea-352">Simulate execution (SimExec) is a mitigation for 32-bit applications only.</span></span> <span data-ttu-id="68dea-353">Ciò consente di verificare che le chiamate alle API riservate restituiranno le funzioni chiamante legittime.</span><span class="sxs-lookup"><span data-stu-id="68dea-353">This helps validate that calls to sensitive APIs will return to legitimate caller functions.</span></span> <span data-ttu-id="68dea-354">A tale scopo, intercetta le chiamate in API sensibili e quindi simula l'esecuzione di tali API esaminando le istruzioni del linguaggio assembly codificato alla ricerca dell'istruzione RET, che dovrebbe tornare al chiamante.</span><span class="sxs-lookup"><span data-stu-id="68dea-354">It does this by intercepting calls into sensitive APIs, and then simulating the execution of those APIs by walking through the encoded assembly language instructions looking for the RET instruction, which should return to the caller.</span></span> <span data-ttu-id="68dea-355">Esamina quindi la funzione e torna indietro nella memoria per trovare l'istruzione CALL precedente per determinare se la funzione e l'istruzione CALL corrispondono e che l'istruzione RET non è stata intercettata.</span><span class="sxs-lookup"><span data-stu-id="68dea-355">It then inspects that function and walks backwards in memory to find the preceding CALL instruction to determine whether the function and CALL instruction match, and that the RET hasn't been intercepted.</span></span>

<span data-ttu-id="68dea-356">Le API intercettate da questa mitigazione sono:</span><span class="sxs-lookup"><span data-stu-id="68dea-356">The APIs intercepted by this mitigation are:</span></span>

- `LoadLibraryA`
- `LoadLibraryW`
- `LoadLibraryExA`
- `LoadLibraryExW`
- `LdrLoadDll`
- `VirtualAlloc`
- `VirtualAllocEx`
- `NtAllocateVirtualMemory`
- `VirtualProtect`
- `VirtualProtectEx`
- `NtProtectVirtualMemory`
- `HeapCreate`
- `RtlCreateHeap`
- `CreateProcessA`
- `CreateProcessW`
- `CreateProcessInternalA`
- `CreateProcessInternalW`
- `NtCreateUserProcess`
- `NtCreateProcess`
- `NtCreateProcessEx`
- `CreateRemoteThread`
- `CreateRemoteThreadEx`
- `NtCreateThreadEx`
- `WriteProcessMemory`
- `NtWriteVirtualMemory`
- `WinExec`
- `CreateFileMappingA`
- `CreateFileMappingW`
- `CreateFileMappingNumaW`
- `NtCreateSection`
- `MapViewOfFile`
- `MapViewOfFileEx`
- `MapViewOfFileFromApp`
- `LdrGetProcedureAddressForCaller`

<span data-ttu-id="68dea-357">Se viene rilevato un gadget ROP, il processo viene terminato.</span><span class="sxs-lookup"><span data-stu-id="68dea-357">If a ROP gadget is detected, the process is terminated.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="68dea-358">Considerazioni sulla compatibilità</span><span class="sxs-lookup"><span data-stu-id="68dea-358">Compatibility considerations</span></span>

<span data-ttu-id="68dea-359">Le applicazioni che eseguono l'intercettazione delle API, in particolare il software di sicurezza, possono causare problemi di compatibilità con questa mitigazione.</span><span class="sxs-lookup"><span data-stu-id="68dea-359">Applications that perform API interception, particularly security software, can cause compatibility problems with this mitigation.</span></span>

<span data-ttu-id="68dea-360">Questa mitigazione non è compatibile con la mitigazione arbitraria di Code Guard.</span><span class="sxs-lookup"><span data-stu-id="68dea-360">This mitigation is incompatible with the Arbitrary Code Guard mitigation.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="68dea-361">Opzioni di configurazione</span><span class="sxs-lookup"><span data-stu-id="68dea-361">Configuration options</span></span>

<span data-ttu-id="68dea-362">**Solo controllo:** è possibile abilitare questa mitigazione in modalità di controllo per misurare il potenziale impatto sulla compatibilità di un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="68dea-362">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="68dea-363">Gli eventi di controllo possono quindi essere visualizzati nel visualizzatore eventi o usando Ricerca avanzata in [Microsoft Defender per Endpoint.](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="68dea-363">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="validate-api-invocation-callercheck"></a><span data-ttu-id="68dea-364">Convalida chiamata API (CallerCheck)</span><span class="sxs-lookup"><span data-stu-id="68dea-364">Validate API invocation (CallerCheck)</span></span>

### <a name="description"></a><span data-ttu-id="68dea-365">Descrizione</span><span class="sxs-lookup"><span data-stu-id="68dea-365">Description</span></span>

<span data-ttu-id="68dea-366">Validate API invocation (CallerCheck) è una mitigazione per le tecniche ROP (Return-Oriented Programming) che convalidano che le API sensibili sono state chiamate da un chiamante valido.</span><span class="sxs-lookup"><span data-stu-id="68dea-366">Validate API invocation (CallerCheck) is a mitigation for return-oriented programming (ROP) techniques that validates that sensitive APIs were called from a valid caller.</span></span> <span data-ttu-id="68dea-367">Questa mitigazione esamina l'indirizzo del mittente passato e quindi disassembla euristicamente all'indietro per trovare una chiamata sopra l'indirizzo del mittente per determinare se la destinazione della chiamata corrisponde al parametro passato alla funzione.</span><span class="sxs-lookup"><span data-stu-id="68dea-367">This mitigation inspects the passed return address, and then heuristically disassembles backwards to find a call above the return address to determine if the call target matches the parameter passed into the function.</span></span>

<span data-ttu-id="68dea-368">Le API intercettate da questa mitigazione sono:</span><span class="sxs-lookup"><span data-stu-id="68dea-368">The APIs intercepted by this mitigation are:</span></span>

- `LoadLibraryA`
- `LoadLibraryW`
- `LoadLibraryExA`
- `LoadLibraryExW`
- `LdrLoadDll`
- `VirtualAlloc`
- `VirtualAllocEx`
- `NtAllocateVirtualMemory`
- `VirtualProtect`
- `VirtualProtectEx`
- `NtProtectVirtualMemory`
- `HeapCreate`
- `RtlCreateHeap`
- `CreateProcessA`
- `CreateProcessW`
- `CreateProcessInternalA`
- `CreateProcessInternalW`
- `NtCreateUserProcess`
- `NtCreateProcess`
- `NtCreateProcessEx`
- `CreateRemoteThread`
- `CreateRemoteThreadEx`
- `NtCreateThreadEx`
- `WriteProcessMemory`
- `NtWriteVirtualMemory`
- `WinExec`
- `CreateFileMappingA`
- `CreateFileMappingW`
- `CreateFileMappingNumaW`
- `NtCreateSection`
- `MapViewOfFile`
- `MapViewOfFileEx`
- `MapViewOfFileFromApp`
- `LdrGetProcedureAddressForCaller`

<span data-ttu-id="68dea-369">Se viene rilevato un gadget ROP, il processo viene terminato.</span><span class="sxs-lookup"><span data-stu-id="68dea-369">If a ROP gadget is detected, the process is terminated.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="68dea-370">Considerazioni sulla compatibilità</span><span class="sxs-lookup"><span data-stu-id="68dea-370">Compatibility considerations</span></span>

<span data-ttu-id="68dea-371">Le applicazioni che eseguono l'intercettazione delle API, in particolare il software di sicurezza, possono causare problemi di compatibilità con questa mitigazione.</span><span class="sxs-lookup"><span data-stu-id="68dea-371">Applications that perform API interception, particularly security software, can cause compatibility problems with this mitigation.</span></span>

<span data-ttu-id="68dea-372">Questa mitigazione non è compatibile con la mitigazione arbitraria di Code Guard.</span><span class="sxs-lookup"><span data-stu-id="68dea-372">This mitigation is incompatible with the Arbitrary Code Guard mitigation.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="68dea-373">Opzioni di configurazione</span><span class="sxs-lookup"><span data-stu-id="68dea-373">Configuration options</span></span>

<span data-ttu-id="68dea-374">**Solo controllo:** è possibile abilitare questa mitigazione in modalità di controllo per misurare il potenziale impatto sulla compatibilità di un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="68dea-374">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="68dea-375">Gli eventi di controllo possono quindi essere visualizzati nel visualizzatore eventi o usando Ricerca avanzata in [Microsoft Defender per Endpoint.](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="68dea-375">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="validate-exception-chains-sehop"></a><span data-ttu-id="68dea-376">Convalida catene di eccezioni (SEHOP)</span><span class="sxs-lookup"><span data-stu-id="68dea-376">Validate exception chains (SEHOP)</span></span>

### <a name="description"></a><span data-ttu-id="68dea-377">Descrizione</span><span class="sxs-lookup"><span data-stu-id="68dea-377">Description</span></span>

<span data-ttu-id="68dea-378">Validate exception chains (SEHOP) è una mitigazione rispetto alla tecnica di sfruttamento della sovrascrittura del gestore di eccezioni strutturato *(SEH).*</span><span class="sxs-lookup"><span data-stu-id="68dea-378">Validate exception chains (SEHOP) is a mitigation against the *Structured Exception Handler (SEH) overwrite* exploitation technique.</span></span> <span data-ttu-id="68dea-379">[La gestione delle eccezioni](https://docs.microsoft.com/windows/win32/debug/structured-exception-handling) strutturata è il processo tramite il quale un'applicazione può chiedere di gestire una determinata eccezione.</span><span class="sxs-lookup"><span data-stu-id="68dea-379">[Structured exception handling](https://docs.microsoft.com/windows/win32/debug/structured-exception-handling) is the process by which an application can ask to handle a particular exception.</span></span> <span data-ttu-id="68dea-380">I gestori delle eccezioni sono concatenati, in modo che se un gestore di eccezioni sceglie di non gestire una determinata eccezione, può essere passato al gestore di eccezioni successivo nella catena finché non si decide di gestirla.</span><span class="sxs-lookup"><span data-stu-id="68dea-380">Exception handlers are chained together, so that if one exception handler chooses not to handle a particular exception, it can be passed on to the next exception handler in the chain until one decides to handle it.</span></span> <span data-ttu-id="68dea-381">Poiché l'elenco del gestore è dinamico, viene archiviato nello stack.</span><span class="sxs-lookup"><span data-stu-id="68dea-381">Because the list of handler is dynamic, it is stored on the stack.</span></span> <span data-ttu-id="68dea-382">Un utente malintenzionato può utilizzare una vulnerabilità di overflow dello stack per sovrascrivere il gestore delle eccezioni con un puntatore al codice scelto dall'utente malintenzionato.</span><span class="sxs-lookup"><span data-stu-id="68dea-382">An attacker can use a stack overflow vulnerability to then overwrite the exception handler with a pointer to the code of the attacker's choice.</span></span>

<span data-ttu-id="68dea-383">Questa mitigazione si basa sulla progettazione di SEH, in cui ogni voce SEH contiene sia un puntatore al gestore delle eccezioni, sia un puntatore al gestore successivo nella catena di eccezioni.</span><span class="sxs-lookup"><span data-stu-id="68dea-383">This mitigation relies on the design of SEH, where each SEH entry contains both a pointer to the exception handler, as well as a pointer to the next handler in the exception chain.</span></span> <span data-ttu-id="68dea-384">Questa mitigazione viene chiamata dal dispatcher delle eccezioni, che convalida la catena SEH quando viene richiamata un'eccezione.</span><span class="sxs-lookup"><span data-stu-id="68dea-384">This mitigation is called by the exception dispatcher, which validates the SEH chain when an exception is invoked.</span></span> <span data-ttu-id="68dea-385">Verifica che:</span><span class="sxs-lookup"><span data-stu-id="68dea-385">It verifies that:</span></span>

- <span data-ttu-id="68dea-386">Tutti i record della catena di eccezioni sono all'interno dei limiti dello stack</span><span class="sxs-lookup"><span data-stu-id="68dea-386">All exception chain records are within the stack boundaries</span></span>
- <span data-ttu-id="68dea-387">Tutti i record delle eccezioni sono allineati</span><span class="sxs-lookup"><span data-stu-id="68dea-387">All exception records are aligned</span></span>
- <span data-ttu-id="68dea-388">Nessun puntatore del gestore di eccezioni punta a uno stack</span><span class="sxs-lookup"><span data-stu-id="68dea-388">No exception handler pointers are pointing to the stack</span></span>
- <span data-ttu-id="68dea-389">Non sono presenti puntatori all'indietro</span><span class="sxs-lookup"><span data-stu-id="68dea-389">There are no backward pointers</span></span>
- <span data-ttu-id="68dea-390">La catena di eccezioni termina in corrispondenza di un gestore eccezioni finale noto</span><span class="sxs-lookup"><span data-stu-id="68dea-390">The exception chain ends at a known final exception handler</span></span>

<span data-ttu-id="68dea-391">Se queste convalide hanno esito negativo, la gestione delle eccezioni viene interrotta e l'eccezione non verrà gestita.</span><span class="sxs-lookup"><span data-stu-id="68dea-391">If these validations fail, then exception handling is aborted, and the exception will not be handled.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="68dea-392">Considerazioni sulla compatibilità</span><span class="sxs-lookup"><span data-stu-id="68dea-392">Compatibility considerations</span></span>

<span data-ttu-id="68dea-393">I problemi di compatibilità con SEHOP sono relativamente rari.</span><span class="sxs-lookup"><span data-stu-id="68dea-393">Compatibility issues with SEHOP are relatively rare.</span></span> <span data-ttu-id="68dea-394">È raro che un'applicazione prenda una dipendenza dal danneggiamento della catena di eccezioni.</span><span class="sxs-lookup"><span data-stu-id="68dea-394">It's uncommon for an application to take a dependency on corrupting the exception chain.</span></span> <span data-ttu-id="68dea-395">Tuttavia, alcune applicazioni sono influenzate dalle lievi modifiche della tempistica, che possono manifestarsi come una race condition che rivela un bug latente del multithreading nell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="68dea-395">However, some applications are impacted by the subtle changes in timing, which may manifest as a race condition that reveals a latent multi-threading bug in the application.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="68dea-396">Opzioni di configurazione</span><span class="sxs-lookup"><span data-stu-id="68dea-396">Configuration options</span></span>

> [!Note]
> <span data-ttu-id="68dea-397">**Validate exception chains (SEHOP)** has no audit mode.</span><span class="sxs-lookup"><span data-stu-id="68dea-397">**Validate exception chains (SEHOP)** has no audit mode.</span></span>

## <a name="validate-handle-usage"></a><span data-ttu-id="68dea-398">Convalidare l'utilizzo dell'handle</span><span class="sxs-lookup"><span data-stu-id="68dea-398">Validate handle usage</span></span>

### <a name="description"></a><span data-ttu-id="68dea-399">Descrizione</span><span class="sxs-lookup"><span data-stu-id="68dea-399">Description</span></span>

<span data-ttu-id="68dea-400">*La convalida dell'utilizzo* degli handle è una mitigazione che consente di proteggere un utente malintenzionato utilizzando un handle esistente per accedere a un oggetto protetto.</span><span class="sxs-lookup"><span data-stu-id="68dea-400">*Validate handle usage* is a mitigation that helps protect against an attacker using an existing handle to access a protected object.</span></span> <span data-ttu-id="68dea-401">Un [handle](https://docs.microsoft.com/windows/win32/sysinfo/handles-and-objects) è un riferimento a un oggetto protetto.</span><span class="sxs-lookup"><span data-stu-id="68dea-401">A [handle](https://docs.microsoft.com/windows/win32/sysinfo/handles-and-objects) is a reference to a protected object.</span></span> <span data-ttu-id="68dea-402">Se il codice dell'applicazione fa riferimento a un handle non valido, potrebbe indicare che un avversario sta tentando di utilizzare un handle registrato in precedenza (ma di quale conteggio dei riferimenti dell'applicazione non sarebbe a conoscenza).</span><span class="sxs-lookup"><span data-stu-id="68dea-402">If application code is referencing an invalid handle, that could indicate that an adversary is attempting to use a handle it has previously recorded (but which application reference counting wouldn't be aware of).</span></span> <span data-ttu-id="68dea-403">Se l'applicazione tenta di utilizzare un oggetto non valido, invece di restituire semplicemente null, l'applicazione genererà un'eccezione (STATUS_INVALID_HANDLE).</span><span class="sxs-lookup"><span data-stu-id="68dea-403">If the application attempts to use an invalid object, instead of simply returning null, the application will raise an exception (STATUS_INVALID_HANDLE).</span></span>

<span data-ttu-id="68dea-404">Questa mitigazione viene applicata automaticamente alle applicazioni di Windows Store.</span><span class="sxs-lookup"><span data-stu-id="68dea-404">This mitigation is automatically applied to Windows Store applications.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="68dea-405">Considerazioni sulla compatibilità</span><span class="sxs-lookup"><span data-stu-id="68dea-405">Compatibility considerations</span></span>

<span data-ttu-id="68dea-406">Le applicazioni che non rilevavano in modo accurato i riferimenti agli handle e che non eseguevano il wrapping di queste operazioni nei gestori di eccezioni potrebbero essere influenzate da questa mitigazione.</span><span class="sxs-lookup"><span data-stu-id="68dea-406">Applications that were not accurately tracking handle references, and which were not wrapping these operations in exception handlers, will potentially be impacted by this mitigation.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="68dea-407">Opzioni di configurazione</span><span class="sxs-lookup"><span data-stu-id="68dea-407">Configuration options</span></span>

> [!Note]
> <span data-ttu-id="68dea-408">**La convalida dell'utilizzo dell'handle** non ha modalità di controllo.</span><span class="sxs-lookup"><span data-stu-id="68dea-408">**Validate handle usage** has no audit mode.</span></span>

## <a name="validate-heap-integrity"></a><span data-ttu-id="68dea-409">Convalidare l'integrità dell'heap</span><span class="sxs-lookup"><span data-stu-id="68dea-409">Validate heap integrity</span></span>

### <a name="description"></a><span data-ttu-id="68dea-410">Descrizione</span><span class="sxs-lookup"><span data-stu-id="68dea-410">Description</span></span>

<span data-ttu-id="68dea-411">La *mitigazione* dell'integrità dell'heap di convalida aumenta il livello di protezione delle mitigazioni dell'heap in Windows, causando la chiusura dell'applicazione se viene rilevato un danneggiamento dell'heap.</span><span class="sxs-lookup"><span data-stu-id="68dea-411">The *validate heap integrity* mitigation increases the protection level of heap mitigations in Windows, by causing the application to terminate if a heap corruption is detected.</span></span> <span data-ttu-id="68dea-412">Le mitigazioni includono:</span><span class="sxs-lookup"><span data-stu-id="68dea-412">The mitigations include:</span></span>

- <span data-ttu-id="68dea-413">Impedire il libero di un handle HEAP</span><span class="sxs-lookup"><span data-stu-id="68dea-413">Preventing a HEAP handle from being freed</span></span>
- <span data-ttu-id="68dea-414">Esecuzione di un'altra convalida sulle intestazioni di blocco estese per le allocazioni heap</span><span class="sxs-lookup"><span data-stu-id="68dea-414">Performing another validation on extended block headers for heap allocations</span></span>
- <span data-ttu-id="68dea-415">Verifica che le allocazioni heap non siano già contrassegnate come in uso</span><span class="sxs-lookup"><span data-stu-id="68dea-415">Verifying that heap allocations are not already flagged as in-use</span></span>
- <span data-ttu-id="68dea-416">Aggiunta di pagine di protezione a allocazioni, segmenti heap e sottosegmenti di grandi dimensioni superiori a una dimensione minima</span><span class="sxs-lookup"><span data-stu-id="68dea-416">Adding guard pages to large allocations, heap segments, and subsegments above a minimum size</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="68dea-417">Considerazioni sulla compatibilità</span><span class="sxs-lookup"><span data-stu-id="68dea-417">Compatibility considerations</span></span>

<span data-ttu-id="68dea-418">Questa mitigazione è già applicata per impostazione predefinita per le applicazioni a 64 bit e per le applicazioni a 32 bit che hanno come destinazione Windows Vista o versioni successive.</span><span class="sxs-lookup"><span data-stu-id="68dea-418">This mitigation is already applied by default for 64-bit applications and for 32-bit applications targeting Windows Vista or later.</span></span> <span data-ttu-id="68dea-419">Le applicazioni legacy di Windows XP o versioni precedenti sono più a rischio, anche se i problemi di compatibilità sono rari.</span><span class="sxs-lookup"><span data-stu-id="68dea-419">Legacy applications from Windows XP or earlier are most at-risk, though compatibility issues are rare.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="68dea-420">Opzioni di configurazione</span><span class="sxs-lookup"><span data-stu-id="68dea-420">Configuration options</span></span>

> [!Note]
> <span data-ttu-id="68dea-421">**La convalida dell'integrità dell'heap** non ha alcuna modalità di controllo.</span><span class="sxs-lookup"><span data-stu-id="68dea-421">**Validate heap integrity** has no audit mode.</span></span>

## <a name="validate-image-dependency-integrity"></a><span data-ttu-id="68dea-422">Convalidare l'integrità delle dipendenze delle immagini</span><span class="sxs-lookup"><span data-stu-id="68dea-422">Validate image dependency integrity</span></span>

### <a name="description"></a><span data-ttu-id="68dea-423">Descrizione</span><span class="sxs-lookup"><span data-stu-id="68dea-423">Description</span></span>

<span data-ttu-id="68dea-424">La *mitigazione della dipendenza* dell'immagine di convalida consente di proteggere dagli attacchi che tentano di sostituire il codice per le DLL collegate in modo statico dai file binari di Windows.</span><span class="sxs-lookup"><span data-stu-id="68dea-424">The *validate image dependency* mitigation helps protect against attacks that attempt to substitute code for dlls that are statically linked by Windows binaries.</span></span> <span data-ttu-id="68dea-425">La tecnica della distribuzione delle DLL abusa del meccanismo di ricerca del caricatore per inserire codice dannoso, che può essere usato per ottenere l'esecuzione di codice dannoso in un contesto con privilegi elevati.</span><span class="sxs-lookup"><span data-stu-id="68dea-425">The technique of DLL planting abuses the loader's search mechanism to inject malicious code, which can be used to get malicious code running in an elevated context.</span></span> <span data-ttu-id="68dea-426">Quando il caricatore sta caricando un file binario firmato di Windows e quindi carica tutte le DLL da cui dipende il file binario, questi file binari verranno verificati per assicurarsi che siano firmati anche digitalmente come file binario di Windows.</span><span class="sxs-lookup"><span data-stu-id="68dea-426">When the loader is loading a Windows signed binary, and then loads up any dlls that the binary depends on, these binaries will be verified to ensure that they are also digitally signed as a Windows binary.</span></span> <span data-ttu-id="68dea-427">In caso di esito negativo del controllo della firma, la dll non verrà caricata e genererà un'eccezione, che restituirà lo stato STATUS_INVALID_IMAGE_HASH.</span><span class="sxs-lookup"><span data-stu-id="68dea-427">If they fail the signature check, the dll will not be loaded, and will throw an exception, returning a status of STATUS_INVALID_IMAGE_HASH.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="68dea-428">Considerazioni sulla compatibilità</span><span class="sxs-lookup"><span data-stu-id="68dea-428">Compatibility considerations</span></span>

<span data-ttu-id="68dea-429">I problemi di compatibilità non sono comuni.</span><span class="sxs-lookup"><span data-stu-id="68dea-429">Compatibility issues are uncommon.</span></span> <span data-ttu-id="68dea-430">Le applicazioni che dipendono dalla sostituzione di file binari di Windows con versioni private locali saranno interessate e vi è anche un piccolo rischio di rivelare bug di temporizzazione sottili nelle applicazioni multi-thread.</span><span class="sxs-lookup"><span data-stu-id="68dea-430">Applications that depend on replacing Windows binaries with local private versions will be impacted, and there is also a small risk of revealing subtle timing bugs in multi-threaded applications.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="68dea-431">Opzioni di configurazione</span><span class="sxs-lookup"><span data-stu-id="68dea-431">Configuration options</span></span>

<span data-ttu-id="68dea-432">**Solo controllo:** è possibile abilitare questa mitigazione in modalità di controllo per misurare il potenziale impatto sulla compatibilità di un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="68dea-432">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="68dea-433">Gli eventi di controllo possono quindi essere visualizzati nel visualizzatore eventi o usando Ricerca avanzata in [Microsoft Defender per Endpoint.](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="68dea-433">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="validate-stack-integrity-stackpivot"></a><span data-ttu-id="68dea-434">Convalidare l'integrità dello stack (StackPivot)</span><span class="sxs-lookup"><span data-stu-id="68dea-434">Validate stack integrity (StackPivot)</span></span>

### <a name="description"></a><span data-ttu-id="68dea-435">Descrizione</span><span class="sxs-lookup"><span data-stu-id="68dea-435">Description</span></span>

<span data-ttu-id="68dea-436">La mitigazione dell'integrità dello stack di convalida *(StackPivot)* consente di proteggere dall'attacco Stack Pivot, un attacco ROP in cui un utente malintenzionato crea uno stack fittizio nella memoria heap e quindi inganna l'applicazione per tornare allo stack falso che controlla il flusso di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="68dea-436">The *validate stack integrity (StackPivot)* mitigation helps protect against the Stack Pivot attack, a ROP attack where an attacker creates a fake stack in heap memory, and then tricks the application into returning into the fake stack that controls the flow of execution.</span></span>

<span data-ttu-id="68dea-437">Questa mitigazione intercetta molte API di Windows ed esamina il valore del puntatore dello stack.</span><span class="sxs-lookup"><span data-stu-id="68dea-437">This mitigation intercepts many Windows APIs, and inspects the value of the stack pointer.</span></span> <span data-ttu-id="68dea-438">Se l'indirizzo del puntatore dello stack non si trova tra la parte inferiore e la parte superiore dello stack, viene registrato un evento e, se non è in modalità di controllo, il processo verrà terminato.</span><span class="sxs-lookup"><span data-stu-id="68dea-438">If the address of the stack pointer does not fall between the bottom and the top of the stack, then an event is recorded and, if not in audit mode, the process will be terminated.</span></span>

<span data-ttu-id="68dea-439">Le API intercettate da questa mitigazione sono:</span><span class="sxs-lookup"><span data-stu-id="68dea-439">The APIs intercepted by this mitigation are:</span></span>

- `LoadLibraryA`
- `LoadLibraryW`
- `LoadLibraryExA`
- `LoadLibraryExW`
- `LdrLoadDll`
- `VirtualAlloc`
- `VirtualAllocEx`
- `NtAllocateVirtualMemory`
- `VirtualProtect`
- `VirtualProtectEx`
- `NtProtectVirtualMemory`
- `HeapCreate`
- `RtlCreateHeap`
- `CreateProcessA`
- `CreateProcessW`
- `CreateProcessInternalA`
- `CreateProcessInternalW`
- `NtCreateUserProcess`
- `NtCreateProcess`
- `NtCreateProcessEx`
- `CreateRemoteThread`
- `CreateRemoteThreadEx`
- `NtCreateThreadEx`
- `WriteProcessMemory`
- `NtWriteVirtualMemory`
- `WinExec`
- `CreateFileMappingA`
- `CreateFileMappingW`
- `CreateFileMappingNumaW`
- `NtCreateSection`
- `MapViewOfFile`
- `MapViewOfFileEx`
- `MapViewOfFileFromApp`
- `LdrGetProcedureAddressForCaller`

### <a name="compatibility-considerations"></a><span data-ttu-id="68dea-440">Considerazioni sulla compatibilità</span><span class="sxs-lookup"><span data-stu-id="68dea-440">Compatibility considerations</span></span>

<span data-ttu-id="68dea-441">Le applicazioni che utilizzano stack falsi saranno influenzate e c'è anche un piccolo rischio di rivelare bug di temporizzazione sottili nelle applicazioni multi-thread.</span><span class="sxs-lookup"><span data-stu-id="68dea-441">Applications that are using fake stacks will be impacted, and there is also a small risk of revealing subtle timing bugs in multi-threaded applications.</span></span>
<span data-ttu-id="68dea-442">Le applicazioni che eseguono l'intercettazione delle API, in particolare il software di sicurezza, possono causare problemi di compatibilità con questa mitigazione.</span><span class="sxs-lookup"><span data-stu-id="68dea-442">Applications that perform API interception, particularly security software, can cause compatibility problems with this mitigation.</span></span>

<span data-ttu-id="68dea-443">Questa mitigazione non è compatibile con la mitigazione arbitraria di Code Guard.</span><span class="sxs-lookup"><span data-stu-id="68dea-443">This mitigation is incompatible with the Arbitrary Code Guard mitigation.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="68dea-444">Opzioni di configurazione</span><span class="sxs-lookup"><span data-stu-id="68dea-444">Configuration options</span></span>

<span data-ttu-id="68dea-445">**Solo controllo:** è possibile abilitare questa mitigazione in modalità di controllo per misurare il potenziale impatto sulla compatibilità di un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="68dea-445">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="68dea-446">Gli eventi di controllo possono quindi essere visualizzati nel visualizzatore eventi o usando Ricerca avanzata in [Microsoft Defender per Endpoint.](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="68dea-446">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview).</span></span>
