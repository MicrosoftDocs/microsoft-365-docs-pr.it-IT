---
title: Attivare la protezione dagli exploit per ridurre gli attacchi
keywords: exploit, mitigazione, attacchi, vulnerabilità
description: Scopri come abilitare la protezione da exploit in Windows 10. La protezione da exploit consente di proteggere il dispositivo da malware.
search.product: eADQiWindows 10XVcnh
ms.prod: m365-security
ms.mktglfcycl: manage
ms.sitesec: library
localization_priority: Normal
audience: ITPro
author: denisebmsft
ms.author: deniseb
ms.reviewer: ksarens
manager: dansimp
ms.technology: mde
ms.topic: how-to
ms.date: 05/11/2021
ms.openlocfilehash: 62ae62cc1041e4de9c31e99cb90bed5b1a7312ad
ms.sourcegitcommit: 967f64dfa1a05f31179c8316b96bfb7758a5d990
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 05/12/2021
ms.locfileid: "52333736"
---
# <a name="enable-exploit-protection"></a>Abilitare la protezione dagli exploit

**Si applica a:**
- [Microsoft Defender per endpoint](https://go.microsoft.com/fwlink/p/?linkid=2154037)
- [Microsoft 365 Defender](https://go.microsoft.com/fwlink/?linkid=2118804)

> [!TIP]
> Vuoi provare Defender per Endpoint? [Iscriversi per una versione di valutazione gratuita.](https://www.microsoft.com/microsoft-365/windows/microsoft-defender-atp?ocid=docs-wdatp-assignaccess-abovefoldlink)

[La protezione da](exploit-protection.md) exploit consente di proteggere da malware che usa exploit per infettare i dispositivi e diffondersi. La protezione degli exploit è costituita da numerose mitigazioni che possono essere applicate al sistema operativo o alle singole app.

> [!IMPORTANT]
> .NET 2.0 non è compatibile con alcune funzionalità di protezione degli exploit, in particolare, export address filtering (EAF) e Import Address Filtering (IAF). Se è stato abilitato .NET 2.0, l'utilizzo di EAF e IAF non è supportato.

Molte funzionalità di Enhanced Mitigation Experience Toolkit (EMET) sono incluse nella protezione dagli exploit.

È possibile abilitare ogni mitigazione separatamente utilizzando uno dei metodi seguenti:   
- [Sicurezza di Windows app](#windows-security-app)
- [Microsoft Intune](#intune)
- [Gestione di dispositivi mobili (MDM)](#mdm)
- [Microsoft Endpoint Configuration Manager](#microsoft-endpoint-configuration-manager)
- [Criteri di gruppo](#group-policy)
- [PowerShell](#powershell)

La protezione dagli exploit è configurata per impostazione predefinita in Windows 10. È possibile impostare ogni mitigazione su on, off o sul relativo valore predefinito. Alcune mitigazioni hanno più opzioni. Puoi [esportare queste impostazioni come file XML](import-export-exploit-protection-emet-xml.md) e distribuirle in altri dispositivi.

Puoi anche impostare le mitigazioni sulla [modalità di controllo.](evaluate-exploit-protection.md) La modalità di controllo consente di testare il funzionamento delle mitigazioni (e di esaminare gli eventi) senza influire sul normale utilizzo del dispositivo.

## <a name="windows-security-app"></a>Sicurezza di Windows app

1. Apri l Sicurezza di Windows app selezionando l'icona scudo nella barra delle applicazioni o cercando sicurezza nel menu **Start.**

2. Seleziona il **riquadro Controllo browser &** app (o l'icona dell'app sulla barra dei menu sinistra) e quindi seleziona Impostazioni protezione **exploit.**

3. Vai a **Impostazioni programma** e scegli l'app a cui vuoi applicare le mitigazioni. <br/>
    - Se l'app che si desidera configurare è già presente nell'elenco, selezionarla e quindi selezionare **Modifica.**
    - Se l'app non è elencata, nella parte superiore dell'elenco **seleziona** Aggiungi programma da personalizzare e quindi scegli come vuoi aggiungere l'app. <br/>
    - Usa **Aggiungi per nome programma** per applicare la mitigazione a qualsiasi processo in esecuzione con tale nome. Specificare un file con la relativa estensione. Puoi immettere un percorso completo per limitare la mitigazione solo all'app con quel nome in tale posizione.
    - Usa **Scegli il percorso esatto del file** per usare una finestra di selezione file Windows Explorer standard per trovare e selezionare il file desiderato.

4. Dopo aver selezionato l'app, vedrai un elenco di tutte le mitigazioni che possono essere applicate. Se **si sceglie Controllo,** la mitigazione verrà applicata solo in modalità di controllo. Viene notificato se è necessario riavviare il processo o l'app o se è necessario riavviare Windows.

5. Ripeti i passaggi da 3 a 4 per tutte le app e le mitigazioni che vuoi configurare.

6. Nella sezione **Impostazioni di** sistema individuare la mitigazione che si desidera configurare e quindi specificare una delle impostazioni seguenti. Le app che non sono configurate singolarmente nella sezione **Impostazioni programma** usano le impostazioni configurate qui.<br/>
    - **Attivato per impostazione predefinita:** la mitigazione è abilitata per le app che non hanno questa mitigazione impostata nella sezione Impostazioni programma specifiche  **dell'app**
    - **Disattivato per impostazione predefinita:** la mitigazione è disabilitata per le app che non hanno questa mitigazione impostata nella sezione Impostazioni programma specifiche  **dell'app**
    - **Usa predefinito**: la mitigazione è abilitata o disabilitata, a seconda della configurazione predefinita impostata Windows 10 installazione; il valore predefinito (**On** o **Off**) viene sempre specificato accanto all'etichetta **Usa** predefinito per ogni mitigazione

7. Ripetere il passaggio 6 per tutte le mitigazioni a livello di sistema che si desidera configurare. Al **termine della** configurazione, selezionare Applica.

Se aggiungi un'app  alla sezione Impostazioni programma e configura le singole impostazioni di mitigazione, queste verranno rispettate sopra la configurazione per le stesse mitigazioni specificate nella sezione **Impostazioni di** sistema. La matrice e gli esempi seguenti illustrano il funzionamento delle impostazioni predefinite:

|Abilitato nelle **impostazioni del programma** | Abilitato nelle **impostazioni di sistema** | Comportamento |
|:---|:---|:---|
|Sì | No | Come definito in **Impostazioni programma** |
|Sì | Sì | Come definito in **Impostazioni programma** |
|No | Sì | Come definito in **Impostazioni di sistema** |
|No | Sì | Impostazione predefinita definita in **Usa opzione** predefinita |

### <a name="example-1-mikael-configures-data-execution-prevention-in-system-settings-section-to-be-off-by-default"></a>Esempio 1: Mikael configura la sezione Protezione esecuzione programmi nelle impostazioni di sistema in modo che sia disattivata per impostazione predefinita

Mikael aggiunge il *test.exe* app alla sezione Impostazioni **programma.** Nelle opzioni per l'app, **in** Protezione esecuzione programmi, Mikael abilita l'opzione **Ignora** impostazioni di sistema e imposta l'opzione su **Attiva.** Nella sezione Impostazioni programma non sono elencate **altre** app.

Il risultato è che Protezione esecuzione programmi è abilitato *solo pertest.exe*. A tutte le altre app non verrà applicata la funzionalità Protezione esecuzione programmi.

### <a name="example-2-josie-configures-data-execution-prevention-in-system-settings-to-be-off-by-default"></a>Esempio 2: Josie configura La protezione esecuzione programmi nelle impostazioni di sistema è disattivata per impostazione predefinita

Josie aggiunge l'app *test.exe* alla **sezione Impostazioni programma.** Nelle opzioni per l'app, **in** Protezione esecuzione programmi, Josie abilita l'opzione **Ignora** impostazioni di sistema e imposta l'opzione su **Attiva.**

Josie aggiunge anche ilmiles.exe *app* alla sezione **Impostazioni** programma e configura Control flow **guard (CFG)** su **On.** Josie non abilita l'opzione Ignora impostazioni **di** sistema per Protezione esecuzione programmi o altre mitigazioni per l'app.

Il risultato è che Protezione esecuzione programmi è abilitato *pertest.exe*. Protezione esecuzione programmi non verrà abilitato per altre app, incluso *miles.exe*. CFG verrà abilitato per *miles.exe*.

1. Apri l Sicurezza di Windows app selezionando l'icona scudo nella barra delle applicazioni o cercando Defender nel menu **Start.**

2. Seleziona il **riquadro Controllo browser &** app (o l'icona dell'app sulla barra dei menu sinistra) e quindi seleziona Protezione da **exploit.**

3. Vai a **Impostazioni programma** e scegli l'app a cui vuoi applicare le mitigazioni.<br/>
    - Se l'app che si desidera configurare è già presente nell'elenco, selezionarla e quindi selezionare **Modifica.**
    - Se l'app non è elencata, nella parte superiore dell'elenco **seleziona** Aggiungi programma da personalizzare e quindi scegli come vuoi aggiungere l'app.<br/>
     - Usa **Aggiungi per nome programma** per applicare la mitigazione a qualsiasi processo in esecuzione con tale nome. Specificare un file con un'estensione. Puoi immettere un percorso completo per limitare la mitigazione solo all'app con quel nome in tale posizione.
     - Usa **Scegli il percorso esatto del file** per usare una finestra di selezione file Windows Explorer standard per trovare e selezionare il file desiderato.

4. Dopo aver selezionato l'app, vedrai un elenco di tutte le mitigazioni che possono essere applicate. Se **si sceglie Controllo,** la mitigazione verrà applicata solo in modalità di controllo. Ti verrà notificato se devi riavviare il processo o l'app o se devi riavviare Windows.

5. Ripeti i passaggi da 3 a 4 per tutte le app e le mitigazioni che vuoi configurare. Al **termine della** configurazione, selezionare Applica.

## <a name="intune"></a>Intune

1. Accedi al portale [di Azure e](https://portal.azure.com) apri Intune.

2. Vai a **Profili di configurazione** dei  >  **dispositivi**  >  **Crea profilo**.

3. Assegnare un nome al **profilo, scegliere Windows 10 e versioni successive** e Endpoint **protection**.

   :::image type="content" source="images/create-endpoint-protection-profile.png" alt-text="Creare il profilo di endpoint protection":::

4. Seleziona **Configura Windows Defender** Exploit  >  **Guard** Protezione da  >  **exploit**.

5. Upload un [file XML con](/windows/client-management/mdm/policy-csp-exploitguard) le impostazioni di protezione degli exploit:

   :::image type="content" source="images/enable-ep-intune.png" alt-text="Abilitare la protezione di rete in Intune":::

6. Selezionare **OK** per salvare ogni pannello aperto, quindi scegliere **Crea**.

7. Selezionare la scheda **Assegnazioni profilo,** assegnare il criterio a Tutti gli utenti **& Tutti i** dispositivi e quindi selezionare **Salva**.

## <a name="mdm"></a>MDM

Usa il provider di servizi di configurazione [./Vendor/MSFT/Policy/Config/ExploitGuard/ExploitProtectionSettings](/windows/client-management/mdm/policy-csp-exploitguard) per abilitare o disabilitare le mitigazioni della protezione da exploit o per usare la modalità di controllo.

## <a name="microsoft-endpoint-manager"></a>Microsoft Endpoint Manager

1. In Microsoft Endpoint Manager, andare a **Endpoint Security** Attack surface  >  **reduction**. 

2. Selezionare **Crea piattaforma**  >  **criteri** e per **Profilo** scegliere Protezione **da exploit.** Selezionare quindi **Crea**.

3. Specificare un nome e una descrizione, quindi scegliere **Avanti**.

4. Scegliere **Seleziona file XML** e passare al percorso del file XML di protezione da exploit. Selezionare il file e quindi scegliere **Avanti**.

5. Se **necessario, configurare** tag **di** ambito e assegnazioni. 

6. In **Revisione e creazione** esaminare le impostazioni di configurazione e quindi scegliere **Crea.**


## <a name="microsoft-endpoint-configuration-manager"></a>Microsoft Endpoint Configuration Manager

1. In Microsoft Endpoint Configuration Manager, andare a **Assets and Compliance**  >  **Endpoint Protection** Windows Defender  >  **Exploit Guard**.

2. Selezionare **Home**  >  **Create Exploit Guard Policy**.

3. Specificare un nome e una descrizione, selezionare **Protezione da exploit** e quindi scegliere **Avanti.**

4. Passare al percorso del file XML di protezione da exploit e selezionare **Avanti.**

5. Rivedere le impostazioni e quindi scegliere **Avanti** per creare il criterio.

6. Dopo aver creato il criterio, selezionare **Chiudi**.

## <a name="group-policy"></a>Criteri di gruppo

1. Nel dispositivo di gestione di Criteri di gruppo, aprire console Gestione Criteri di [gruppo,](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc731212(v=ws.11))fare clic con il pulsante destro del mouse sull'oggetto Criteri di gruppo che si desidera configurare e scegliere **Modifica**.

2. **Nell'Editor Gestione Criteri di gruppo** passare a Configurazione **computer** e selezionare **Modelli amministrativi.**

3. Espandi l'albero per **Windows componenti Windows Defender** Protezione da exploit  >  **guard**  >    >  **Usa un set comune di impostazioni di protezione da exploit.**

4. Selezionare **Abilitato** e digitare il percorso del [file XML](/windows/client-management/mdm/policy-csp-exploitguard)e quindi scegliere **OK.**

## <a name="powershell"></a>PowerShell

È possibile utilizzare il verbo powershell `Get` o con il cmdlet `Set` `ProcessMitigation` . Using elenca lo stato di configurazione corrente di tutte le mitigazioni abilitate nel dispositivo: aggiungi il cmdlet e l'exe dell'app per visualizzare le mitigazioni solo per `Get` `-Name` l'app:

```PowerShell
Get-ProcessMitigation -Name processName.exe
```

> [!IMPORTANT]
> Le mitigazioni a livello di sistema che non sono state configurate mostreranno lo stato di `NOTSET` .
> - Per le impostazioni a livello di sistema, indica che è stata applicata l'impostazione predefinita per `NOTSET` tale mitigazione.
> - Per le impostazioni a livello di app, indica che verrà applicata l'impostazione a livello di sistema per la `NOTSET` mitigazione.
> L'impostazione predefinita per ogni mitigazione a livello di sistema è visibile nella Sicurezza di Windows.

Utilizzare `Set` per configurare ogni mitigazione nel formato seguente:

```PowerShell
Set-ProcessMitigation -<scope> <app executable> -<action> <mitigation or options>,<mitigation or options>,<mitigation or options>
```

Dove:

* \<Scope>:
  * `-Name` per indicare che le mitigazioni devono essere applicate a un'app specifica. Specifica il file eseguibile dell'app dopo questo flag.
    * `-System` per indicare che la mitigazione deve essere applicata a livello di sistema
* \<Action>:
  * `-Enable` per abilitare la mitigazione
  * `-Disable` per disabilitare la mitigazione
* \<Mitigation>:
  * Cmdlet della mitigazione insieme a tutte le opzioni secondarie (circondate da spazi). Ogni mitigazione è separata da una virgola.

Ad esempio, per abilitare la mitigazione di Protezione esecuzione programmi con l'emulazione thunk ATL e per un eseguibile denominato *testing.exe* nella cartella *C:\Apps\LOB\tests* e per impedire a tale eseguibile di creare processi figlio, è necessario utilizzare il comando seguente:

```PowerShell
Set-ProcessMitigation -Name c:\apps\lob\tests\testing.exe -Enable DEP, EmulateAtlThunks, DisallowChildProcessCreation
```

> [!IMPORTANT]
> Separare ogni opzione di mitigazione con virgole.

Se si desidera applicare Protezione esecuzione programmi a livello di sistema, utilizzare il comando seguente:

```PowerShell
Set-Processmitigation -System -Enable DEP
```

Per disabilitare le mitigazioni, è possibile sostituire `-Enable` con `-Disable` . Tuttavia, per le mitigazioni a livello di app, questa azione forza la mitigazione a essere disabilitata solo per l'app.

Se è necessario ripristinare l'impostazione predefinita del sistema per la mitigazione, è necessario includere anche il `-Remove` cmdlet, come nell'esempio seguente:

```PowerShell
Set-Processmitigation -Name test.exe -Remove -Disable DEP
```

Nella tabella seguente sono elencate le singole **mitigazioni** **(e i controlli**, se disponibili) da utilizzare con i `-Enable` parametri del cmdlet o `-Disable` .

| Tipo di mitigazione | Si applica a | Parola chiave del parametro cmdlet di mitigazione | Parametro cmdlet modalità di controllo |
| :-------------- | :--------- | :---------------------------------- | :-------------------------- |
| Control flow guard (CFG) | Livello di sistema e app |   `CFG`,   `StrictCFG`,   `SuppressExports`  | Controllo non disponibile |
| Protezione esecuzione programmi | Livello di sistema e app |   `DEP`,   `EmulateAtlThunks`  | Controllo non disponibile |
| Forza la casualizzazione per le immagini (ASLR obbligatorio) | Livello di sistema e app |   `ForceRelocateImages`  | Controllo non disponibile |
| Allocazioni di memoria casuali (ASLR dal basso verso l'alto) | Livello di sistema e app |   `BottomUp`,   `HighEntropy`  | Controllo non disponibile
| Convalida catene di eccezioni (SEHOP) | Livello di sistema e app |   `SEHOP`,   `SEHOPTelemetry`  | Controllo non disponibile |
| Convalidare l'integrità dell'heap | Livello di sistema e app |   `TerminateOnError`  | Controllo non disponibile |
| AcG (Arbitrary Code Guard) | Solo a livello di app |   `DynamicCode`  |   `AuditDynamicCode` |
| Bloccare le immagini con integrità bassa | Solo a livello di app |   `BlockLowLabel`  |   `AuditImageLoad` |
| Bloccare le immagini remote | Solo a livello di app |   `BlockRemoteImages`  | Controllo non disponibile |
| Blocca tipi di carattere non attendibili | Solo a livello di app |   `DisableNonSystemFonts`  |   `AuditFont`,   `FontAuditOnly` |
| Protezione dell'integrità del codice | Solo a livello di app |   `BlockNonMicrosoftSigned`,   `AllowStoreSigned`  |   AuditMicrosoftSigned, AuditStoreSigned |
| Disabilitare i punti di estensione | Solo a livello di app |   `ExtensionPoint`  | Controllo non disponibile |
| Disabilitare le chiamate di sistema Win32k | Solo a livello di app |   `DisableWin32kSystemCalls`  |   `AuditSystemCall` |
| Non consentire processi figlio | Solo a livello di app |   `DisallowChildProcessCreation`  |   `AuditChildProcess` |
| Esportare il filtro indirizzi (EAF) | Solo a livello di app |   `EnableExportAddressFilterPlus`, `EnableExportAddressFilter` <a href="#r1" id="t1"> \[ 1 \] </a>   | Controllo non disponibile<a href="#r2" id="t2"> \[ 2 \] </a> |
| Filtro indirizzi di importazione (IAF) | Solo a livello di app |   `EnableImportAddressFilter`  | Controllo non disponibile<a href="#r2" id="t2"> \[ 2 \] </a> |
| Simulazione dell'esecuzione (SimExec) | Solo a livello di app |   `EnableRopSimExec`  | Controllo non disponibile<a href="#r2" id="t2"> \[ 2 \] </a> |
| Convalida chiamata API (CallerCheck) | Solo a livello di app |   `EnableRopCallerCheck`  | Controllo non disponibile<a href="#r2" id="t2"> \[ 2 \] </a> |
| Convalidare l'utilizzo dell'handle | Solo a livello di app |   `StrictHandle`  | Controllo non disponibile |
| Convalidare l'integrità delle dipendenze delle immagini | Solo a livello di app |   `EnforceModuleDepencySigning`  | Controllo non disponibile |
| Convalidare l'integrità dello stack (StackPivot) | Solo a livello di app |   `EnableRopStackPivot`  | Controllo non disponibile<a href="#r2" id="t2"> \[ 2 \] </a> |

<a href="#t1" id="r1"> \[ 1 \] </a>: utilizzare il formato seguente per abilitare i moduli EAF per le DLL per un processo:

```PowerShell
Set-ProcessMitigation -Name processName.exe -Enable EnableExportAddressFilterPlus -EAFModules dllName1.dll,dllName2.dll
```
<a href="#t2" id="r2"> \[ 2 \] </a>: il controllo per questa mitigazione non è disponibile tramite i cmdlet di PowerShell.

## <a name="customize-the-notification"></a>Personalizzare la notifica

Per informazioni sulla personalizzazione della notifica quando viene attivata una regola e un'app o un file è bloccato, [vedi Sicurezza di Windows](/windows/security/threat-protection/windows-defender-security-center/windows-defender-security-center).

## <a name="see-also"></a>Vedere anche

- [Valutare la protezione da exploit](evaluate-exploit-protection.md)
- [Configurare e controllare le mitigazioni di protezione da exploit](customize-exploit-protection.md)
- [Importare, esportare e distribuire configurazioni di protezione da exploit](import-export-exploit-protection-emet-xml.md)
