---
title: Eliminare gli elementi nella cartella elementi ripristinabili della cassetta postale del cloud in attesa
f1.keywords:
- NOCSH
ms.author: markjjo
author: markjjo
manager: laurawi
audience: Admin
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
ms.collection:
- Strat_O365_IP
- M365-security-compliance
search.appverid:
- MOE150
- MET150
ms.assetid: a85e1c87-a48e-4715-bfa9-d5275cde67b0
description: Informazioni su come gli amministratori possono eliminare gli elementi nella cartella elementi ripristinabili di un utente per una cassetta postale di Exchange Online, anche se la cassetta postale è in attesa legale.
ms.custom: seo-marvel-apr2020
ms.openlocfilehash: d0983a3ce10a3980f23af68736acac1382ef938f
ms.sourcegitcommit: 57b37a3ce40f205c7320d5be1a0d906dd492b863
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 09/08/2020
ms.locfileid: "47405467"
---
# <a name="delete-items-in-the-recoverable-items-folder-of-cloud-based-mailboxes-on-hold"></a><span data-ttu-id="b31ea-103">Eliminare gli elementi nella cartella Elementi recuperabili delle cassette postali basate su cloud con blocchi</span><span class="sxs-lookup"><span data-stu-id="b31ea-103">Delete items in the Recoverable Items folder of cloud-based mailboxes on hold</span></span>

<span data-ttu-id="b31ea-104">La cartella elementi ripristinabili per una cassetta postale di Exchange Online esiste per proteggere da eliminazioni accidentali o dannose.</span><span class="sxs-lookup"><span data-stu-id="b31ea-104">The Recoverable Items folder for an Exchange Online mailbox exists to protect from accidental or malicious deletions.</span></span> <span data-ttu-id="b31ea-105">Viene inoltre utilizzato per archiviare gli elementi conservati e accessibili tramite le funzionalità di conformità, ad esempio i blocchi e le ricerche di eDiscovery.</span><span class="sxs-lookup"><span data-stu-id="b31ea-105">It's also used to store items that are retained and accessed by compliance features, such as holds and eDiscovery searches.</span></span> <span data-ttu-id="b31ea-106">Tuttavia, in alcune situazioni le organizzazioni potrebbero avere dati che sono stati inavvertitamente conservati nella cartella elementi ripristinabili che devono essere eliminati.</span><span class="sxs-lookup"><span data-stu-id="b31ea-106">However, in some situations organizations might have data that's been unintentionally retained in the Recoverable Items folder that they must delete.</span></span> <span data-ttu-id="b31ea-107">Ad esempio, un utente potrebbe inconsapevolmente inviare o inoltrare un messaggio di posta elettronica contenente informazioni riservate o informazioni che potrebbero avere gravi conseguenze per le aziende.</span><span class="sxs-lookup"><span data-stu-id="b31ea-107">For example, a user might unknowingly send or forward an email message that contains sensitive information or information that may have serious business consequences.</span></span> <span data-ttu-id="b31ea-108">Anche se il messaggio è stato eliminato definitivamente, potrebbe essere conservato per un periodo di tempo indefinito perché nella cassetta postale è stata inserita una conservazione legale.</span><span class="sxs-lookup"><span data-stu-id="b31ea-108">Even if the message is permanently deleted, it might be retained indefinitely because a legal hold has been placed on the mailbox.</span></span> <span data-ttu-id="b31ea-109">Questo scenario è noto come *versamento dei dati* poiché i dati sono stati inavvertitamente *riversati* in Office 365.</span><span class="sxs-lookup"><span data-stu-id="b31ea-109">This scenario is known as *data spillage* because data has been unintentionally *spilled* into Office 365.</span></span> <span data-ttu-id="b31ea-110">In questi casi, è possibile eliminare gli elementi nella cartella elementi ripristinabili di un utente per una cassetta postale di Exchange Online, anche se la cassetta postale è in attesa con una delle diverse funzionalità di archiviazione di Office 365.</span><span class="sxs-lookup"><span data-stu-id="b31ea-110">In these situations, you can delete items in a user's Recoverable Items folder for an Exchange Online mailbox, even if that mailbox is placed on hold with one of the different hold features in Office 365.</span></span> <span data-ttu-id="b31ea-111">Questi tipi di esenzioni includono le esenzioni per controversia legale, le esenzioni sul posto, le esenzioni eDiscovery e i criteri di conservazione creati nel centro sicurezza e conformità di Office 365 o Microsoft 365.</span><span class="sxs-lookup"><span data-stu-id="b31ea-111">These types of holds include Litigation Holds, In-Place Holds, eDiscovery holds, and retention policies created in the security and compliance center in Office 365 or Microsoft 365.</span></span>
  
 <span data-ttu-id="b31ea-112">In questo articolo viene illustrato in che modo gli amministratori possono eliminare gli elementi dalla cartella elementi ripristinabili per le cassette postali basate sul cloud che sono in attesa.</span><span class="sxs-lookup"><span data-stu-id="b31ea-112">This article explains how admins can delete items from the Recoverable Items folder for cloud-based mailboxes that are on hold.</span></span> <span data-ttu-id="b31ea-113">Questa procedura comporta la disattivazione dell'accesso alla cassetta postale e la disabilitazione del ripristino di un singolo elemento, la disattivazione dell'Assistente cartelle gestite dall'elaborazione della cassetta postale, la rimozione temporanea del blocco, l'eliminazione degli elementi dalla cartella elementi ripristinabili e la restituzione della cassetta postale alla configurazione precedente.</span><span class="sxs-lookup"><span data-stu-id="b31ea-113">This procedure involves disabling access to the mailbox and disabling single item recovery, disabling the Managed Folder Assistant from processing the mailbox, temporarily removing the hold, deleting items from the Recoverable Items folder, and then reverting the mailbox to its previous configuration.</span></span> <span data-ttu-id="b31ea-114">Ecco il processo:</span><span class="sxs-lookup"><span data-stu-id="b31ea-114">Here's the process:</span></span>
  
[<span data-ttu-id="b31ea-115">Passaggio 1: raccogliere informazioni sulla cassetta postale</span><span class="sxs-lookup"><span data-stu-id="b31ea-115">Step 1: Collect information about the mailbox</span></span>](#step-1-collect-information-about-the-mailbox)

[<span data-ttu-id="b31ea-116">Passaggio 2: preparare la cassetta postale</span><span class="sxs-lookup"><span data-stu-id="b31ea-116">Step 2: Prepare the mailbox</span></span>](#step-2-prepare-the-mailbox)

[<span data-ttu-id="b31ea-117">Passaggio 3: rimuovere tutte le esenzioni dalla cassetta postale</span><span class="sxs-lookup"><span data-stu-id="b31ea-117">Step 3: Remove all holds from the mailbox</span></span>](#step-3-remove-all-holds-from-the-mailbox)

[<span data-ttu-id="b31ea-118">Passaggio 4: rimuovere la sospensione di ritardo dalla cassetta postale</span><span class="sxs-lookup"><span data-stu-id="b31ea-118">Step 4: Remove the delay hold from the mailbox</span></span>](#step-4-remove-the-delay-hold-from-the-mailbox)

[<span data-ttu-id="b31ea-119">Passaggio 5: eliminare gli elementi nella cartella elementi ripristinabili</span><span class="sxs-lookup"><span data-stu-id="b31ea-119">Step 5: Delete items in the Recoverable Items folder</span></span>](#step-5-delete-items-in-the-recoverable-items-folder)

[<span data-ttu-id="b31ea-120">Passaggio 6: ripristinare lo stato precedente della cassetta postale</span><span class="sxs-lookup"><span data-stu-id="b31ea-120">Step 6: Revert the mailbox to its previous state</span></span>](#step-6-revert-the-mailbox-to-its-previous-state)
  
> [!CAUTION]
> <span data-ttu-id="b31ea-121">Le procedure descritte in questo articolo determinano l'eliminazione definitiva (eliminata) dei dati da una cassetta postale di Exchange Online.</span><span class="sxs-lookup"><span data-stu-id="b31ea-121">The procedures outlined in this article will result in data being permanently deleted (purged) from an Exchange Online mailbox.</span></span> <span data-ttu-id="b31ea-122">Questo significa che i messaggi eliminati dalla cartella elementi ripristinabili non possono essere recuperati e non saranno disponibili per la ricerca legale o per altri scopi di conformità.</span><span class="sxs-lookup"><span data-stu-id="b31ea-122">That means messages that you delete from the Recoverable Items folder can't be recovered and won't be available for legal discovery or other compliance purposes.</span></span> <span data-ttu-id="b31ea-123">Se si desidera eliminare i messaggi da una cassetta postale che è stata messa in attesa nell'ambito di un blocco per controversia legale, archiviazione sul posto, blocco di eDiscovery o criterio di conservazione creato nel centro sicurezza e conformità, consultare la gestione dei record o i servizi legali prima di rimuovere il blocco.</span><span class="sxs-lookup"><span data-stu-id="b31ea-123">If you want to delete messages from a mailbox that's placed on hold as part of a Litigation Hold, In-Place Hold, eDiscovery hold, or retention policy created in the security and compliance center, check with your records management or legal departments before removing the hold.</span></span> <span data-ttu-id="b31ea-124">È possibile che l'organizzazione disponga di un criterio che definisce se una cassetta postale in attesa o un evento di perdita dei dati ha la priorità.</span><span class="sxs-lookup"><span data-stu-id="b31ea-124">Your organization might have a policy that defines whether a mailbox on hold or a data spillage incident takes priority.</span></span>
  
## <a name="before-you-delete-items"></a><span data-ttu-id="b31ea-125">Prima di eliminare gli elementi</span><span class="sxs-lookup"><span data-stu-id="b31ea-125">Before you delete items</span></span>

- <span data-ttu-id="b31ea-126">Per creare ed eseguire una ricerca di contenuto, è necessario essere un membro del gruppo di ruoli di gestione di eDiscovery o disporre del ruolo di gestione della ricerca di conformità.</span><span class="sxs-lookup"><span data-stu-id="b31ea-126">To create and run a Content Search, you have to be a member of the eDiscovery Manager role group or be assigned the Compliance Search management role.</span></span> <span data-ttu-id="b31ea-127">Per eliminare i messaggi, è necessario essere un membro del gruppo di ruoli Gestione organizzazione o disporre del ruolo di gestione di ricerca ed eliminazione.</span><span class="sxs-lookup"><span data-stu-id="b31ea-127">To delete messages, you have to be a member of the Organization Management role group or be assigned the Search And Purge management role.</span></span> <span data-ttu-id="b31ea-128">Per informazioni su come aggiungere gli utenti a un gruppo di ruoli, vedere [Assegnare autorizzazioni di eDiscovery nel Centro sicurezza e conformità](https://docs.microsoft.com/microsoft-365/compliance/assign-ediscovery-permissions).</span><span class="sxs-lookup"><span data-stu-id="b31ea-128">For information about adding users to a role group, see [Assign eDiscovery permissions in the Security & Compliance Center](https://docs.microsoft.com/microsoft-365/compliance/assign-ediscovery-permissions).</span></span>

- <span data-ttu-id="b31ea-129">La procedura descritta in questo articolo non è supportata per le cassette postali inattive.</span><span class="sxs-lookup"><span data-stu-id="b31ea-129">The procedure described in this article isn't supported for inactive mailboxes.</span></span> <span data-ttu-id="b31ea-130">Ciò è dovuto al fatto che non è possibile riapplicare un blocco o un criterio di conservazione a una cassetta postale inattiva dopo averlo rimosso.</span><span class="sxs-lookup"><span data-stu-id="b31ea-130">That's because you can't reapply a hold (or retention policy) to an inactive mailbox after you remove it.</span></span> <span data-ttu-id="b31ea-131">Quando si rimuove un'esenzione da una cassetta postale inattiva, viene modificata in una normale cassetta postale eliminata temporaneamente e viene eliminata definitivamente dall'organizzazione dopo che è stata elaborata dall'Assistente cartelle gestite.</span><span class="sxs-lookup"><span data-stu-id="b31ea-131">When you remove a hold from an inactive mailbox, it's changed to a normal soft-deleted mailbox and will be permanently deleted from your organization after it's processed by the Managed Folder Assistant.</span></span>

- <span data-ttu-id="b31ea-132">Non è possibile eseguire questa procedura per una cassetta postale che è stata assegnata a un criterio di conservazione bloccato con un blocco di conservazione.</span><span class="sxs-lookup"><span data-stu-id="b31ea-132">You can't perform this procedure for a mailbox that has been assigned to a retention policy that's been locked with a Preservation Lock.</span></span> <span data-ttu-id="b31ea-133">Ciò è dovuto al fatto che un blocco di conservazione impedisce di rimuovere o escludere la cassetta postale dal criterio di conservazione e di disabilitare l'Assistente cartelle gestite nella cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="b31ea-133">That's because a Preservation Lock prevents you from removing or excluding the mailbox from the retention policy and from disabling the Managed Folder Assistant on the mailbox.</span></span> <span data-ttu-id="b31ea-134">Per ulteriori informazioni sul blocco dei criteri di conservazione, vedere [use Preservation Lock to conforme ai requisiti normativi](retention.md#use-preservation-lock-to-comply-with-regulatory-requirements).</span><span class="sxs-lookup"><span data-stu-id="b31ea-134">For more information about locking retention policies,see [Use Preservation Lock to comply with regulatory requirements](retention.md#use-preservation-lock-to-comply-with-regulatory-requirements).</span></span>

- <span data-ttu-id="b31ea-135">Se non si dispone di una cassetta postale in attesa (o se non è stato abilitato il ripristino di un singolo elemento), è possibile eliminare gli elementi dalla cartella elementi ripristinabili.</span><span class="sxs-lookup"><span data-stu-id="b31ea-135">If a mailbox isn't placed on hold (or doesn't have single item recovery enabled), you can delete the items from the Recoverable Items folder.</span></span> <span data-ttu-id="b31ea-136">Per ulteriori informazioni su come eseguire questa operazione, vedere [cercare ed eliminare i messaggi di posta elettronica nell'organizzazione](https://docs.microsoft.com/microsoft-365/compliance/search-for-and-delete-messages-in-your-organization).</span><span class="sxs-lookup"><span data-stu-id="b31ea-136">For more information about how to do this, see [Search for and delete email messages in your organization](https://docs.microsoft.com/microsoft-365/compliance/search-for-and-delete-messages-in-your-organization).</span></span>
  
## <a name="step-1-collect-information-about-the-mailbox"></a><span data-ttu-id="b31ea-137">Passaggio 1: raccogliere informazioni sulla cassetta postale</span><span class="sxs-lookup"><span data-stu-id="b31ea-137">Step 1: Collect information about the mailbox</span></span>

<span data-ttu-id="b31ea-138">Questo primo passaggio consiste nel raccogliere le proprietà selezionate dalla cassetta postale di destinazione che influenzerà questa procedura.</span><span class="sxs-lookup"><span data-stu-id="b31ea-138">This first step is to collect selected properties from the target mailbox that will affect this procedure.</span></span> <span data-ttu-id="b31ea-139">Assicurarsi di annotare queste impostazioni o salvarle in un file di testo, perché si modificheranno alcune di queste proprietà e quindi si tornerà ai valori originali del passaggio 6, dopo aver eliminato gli elementi dalla cartella elementi ripristinabili.</span><span class="sxs-lookup"><span data-stu-id="b31ea-139">Be sure to write down these settings or save them to a text file because you'll change some of these properties and then revert back to the original values in Step 6, after you delete items from the Recoverable Items folder.</span></span> <span data-ttu-id="b31ea-140">Ecco un elenco delle proprietà della cassetta postale che è necessario raccogliere.</span><span class="sxs-lookup"><span data-stu-id="b31ea-140">Here's a list of the mailbox properties you need to collect.</span></span>
  
- <span data-ttu-id="b31ea-141">*SingleItemRecoveryEnabled*  e  *RetainDeletedItemsFor*.</span><span class="sxs-lookup"><span data-stu-id="b31ea-141">*SingleItemRecoveryEnabled*  and  *RetainDeletedItemsFor*.</span></span> <span data-ttu-id="b31ea-142">Se necessario, è possibile disabilitare il ripristino singolo e aumentare il periodo di conservazione degli elementi eliminati nel passaggio 3.</span><span class="sxs-lookup"><span data-stu-id="b31ea-142">If necessary, you'll disable single recovery and increase the deleted items retention period in Step 3.</span></span>

- <span data-ttu-id="b31ea-143">*LitigationHoldEnabled*  e  *InPlaceHolds*.</span><span class="sxs-lookup"><span data-stu-id="b31ea-143">*LitigationHoldEnabled*  and  *InPlaceHolds*.</span></span> <span data-ttu-id="b31ea-144">È necessario identificare tutti gli appigli posizionati nella cassetta postale in modo da poterli rimuovere temporaneamente nel passaggio 3.</span><span class="sxs-lookup"><span data-stu-id="b31ea-144">You need to identify all the holds placed on the mailbox so that you can temporarily remove them in Step 3.</span></span> <span data-ttu-id="b31ea-145">Vedere la sezione [ulteriori informazioni](#more-information) per suggerimenti su come identificare il blocco dei tipi che potrebbe essere posizionato su una cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="b31ea-145">See the [More information](#more-information) section for tips about how to identify the type hold that might be placed on a mailbox.</span></span>

<span data-ttu-id="b31ea-146">Inoltre, è necessario ottenere le impostazioni di accesso client delle cassette postali in modo da poterle disabilitare temporaneamente in modo che il proprietario (o altri utenti) non riesca ad accedere alla cassetta postale durante questa procedura.</span><span class="sxs-lookup"><span data-stu-id="b31ea-146">Additionally, you need to get the mailbox client access settings so you can temporarily disable them so the owner (or other users) can't access the mailbox during this procedure.</span></span> <span data-ttu-id="b31ea-147">Infine, è possibile ottenere la dimensione corrente e il numero di elementi nella cartella elementi ripristinabili.</span><span class="sxs-lookup"><span data-stu-id="b31ea-147">Finally, you can get the current size and number of items in the Recoverable Items folder.</span></span> <span data-ttu-id="b31ea-148">Dopo aver eliminato gli elementi nella cartella elementi ripristinabili nel passaggio 5, è possibile utilizzare queste informazioni per verificare che gli elementi siano stati rimossi.</span><span class="sxs-lookup"><span data-stu-id="b31ea-148">After you delete items in the Recoverable Items folder in Step 5, you'll use this information to verify that items were removed.</span></span>
  
1. <span data-ttu-id="b31ea-149">[Connettersi a PowerShell per Exchange Online](https://go.microsoft.com/fwlink/?linkid=396554).</span><span class="sxs-lookup"><span data-stu-id="b31ea-149">[Connect to Exchange Online PowerShell](https://go.microsoft.com/fwlink/?linkid=396554).</span></span> <span data-ttu-id="b31ea-150">Assicurarsi di utilizzare un nome utente e una password per un account amministratore a cui sono stati assegnati i ruoli di gestione idonei in Exchange Online.</span><span class="sxs-lookup"><span data-stu-id="b31ea-150">Be sure to use a user name and password for an administrator account that's been assigned the appropriate management roles in Exchange Online.</span></span>

2. <span data-ttu-id="b31ea-151">Eseguire il seguente comando per ottenere informazioni sul ripristino di un singolo elemento e sul periodo di conservazione degli elementi eliminati.</span><span class="sxs-lookup"><span data-stu-id="b31ea-151">Run the following command to get information about single item recovery and the deleted item retention period.</span></span>

    ```powershell
    Get-Mailbox <username> | FL SingleItemRecoveryEnabled,RetainDeletedItemsFor
    ```

   <span data-ttu-id="b31ea-152">Se il ripristino di un singolo elemento è abilitato, è necessario disattivarlo nel passaggio 2.</span><span class="sxs-lookup"><span data-stu-id="b31ea-152">If single item recovery is enabled, you'll have to disable it in Step 2.</span></span> <span data-ttu-id="b31ea-153">Se il periodo di conservazione degli elementi eliminati non è impostato per 30 giorni (il valore massimo in Exchange Online), è possibile aumentarlo nel passaggio 2.</span><span class="sxs-lookup"><span data-stu-id="b31ea-153">If the deleted item retention period isn't set for 30 days (the maximum value in Exchange Online), then you can increase it in Step 2.</span></span>

3. <span data-ttu-id="b31ea-154">Eseguire il seguente comando per ottenere le impostazioni di accesso alle cassette postali per la cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="b31ea-154">Run the following command to get the mailbox access settings for the mailbox.</span></span>

    ```powershell
    Get-CASMailbox <username> | FL EwsEnabled,ActiveSyncEnabled,MAPIEnabled,OWAEnabled,ImapEnabled,PopEnabled
    ```

   <span data-ttu-id="b31ea-155">Nel passaggio 2 vengono disattivati tutti questi metodi di accesso.</span><span class="sxs-lookup"><span data-stu-id="b31ea-155">You'll disable all of these access methods in Step 2.</span></span>

4. <span data-ttu-id="b31ea-156">Eseguire il seguente comando per ottenere informazioni sulle esenzioni e sui criteri di conservazione applicati alla cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="b31ea-156">Run the following command to get information about the holds and retention policies applied to the mailbox.</span></span>

    ```powershell
    Get-Mailbox <username> | FL LitigationHoldEnabled,InPlaceHolds
    ```

   > [!TIP]
    > <span data-ttu-id="b31ea-157">Se nella proprietà  *InPlaceHolds*  sono presenti troppi valori e non tutti sono visualizzati, è possibile eseguire il  `Get-Mailbox <username> | Select-Object -ExpandProperty InPlaceHolds` comando per visualizzare ogni valore su una riga distinta.</span><span class="sxs-lookup"><span data-stu-id="b31ea-157">If there are too many values in the  *InPlaceHolds*  property and not all of them are displayed, you can run the  `Get-Mailbox <username> | Select-Object -ExpandProperty InPlaceHolds` command to display each value on a separate line.</span></span>
  
5. <span data-ttu-id="b31ea-158">Eseguire il seguente comando per ottenere informazioni su tutti i criteri di conservazione a livello dell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="b31ea-158">Run the following command to get information about any organization-wide retention policies.</span></span> 

    ```powershell
    Get-OrganizationConfig | FL InPlaceHolds
    ```

   <span data-ttu-id="b31ea-159">Se l'organizzazione dispone di criteri di conservazione a livello di organizzazione, sarà necessario escludere la cassetta postale da questi criteri nel passaggio 3.</span><span class="sxs-lookup"><span data-stu-id="b31ea-159">If your organization has any organization-wide retention policies, you'll have to exclude the mailbox from these policies in Step 3.</span></span>

   > [!TIP]
    > <span data-ttu-id="b31ea-160">Se nella proprietà  *InPlaceHolds*  sono presenti troppi valori e non tutti sono visualizzati, è possibile eseguire il  `Get-OrganizationConfig | Select-Object -ExpandProperty InPlaceHolds` comando per visualizzare ogni valore su una riga distinta.</span><span class="sxs-lookup"><span data-stu-id="b31ea-160">If there are too many values in the  *InPlaceHolds*  property and not all of them are displayed, you can run the  `Get-OrganizationConfig | Select-Object -ExpandProperty InPlaceHolds` command to display each value on a separate line.</span></span> 
  
6. <span data-ttu-id="b31ea-161">Eseguire il seguente comando per ottenere la dimensione corrente e il numero totale di elementi nelle cartelle e nelle sottocartelle della cartella elementi ripristinabili nella cassetta postale principale dell'utente.</span><span class="sxs-lookup"><span data-stu-id="b31ea-161">Run the following command to get the current size and total number of items in folders and subfolders in the Recoverable Items folder in the user's primary mailbox.</span></span>

    ```powershell
    Get-MailboxFolderStatistics <username> -FolderScope RecoverableItems | FL Name,FolderAndSubfolderSize,ItemsInFolderAndSubfolders
    ```

   <span data-ttu-id="b31ea-162">Se la cassetta postale di archiviazione dell'utente è abilitata, eseguire il comando riportato di seguito per ottenere le dimensioni e il numero totale di elementi nelle cartelle e nelle sottocartelle della cartella elementi ripristinabili nella cassetta postale di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="b31ea-162">If the user's archive mailbox is enabled, run the following command to get the size and total number of items in folders and subfolders in the Recoverable Items folder in their archive mailbox.</span></span> 

    ```powershell
    Get-MailboxFolderStatistics <username> -FolderScope RecoverableItems -Archive | FL Name,FolderAndSubfolderSize,ItemsInFolderAndSubfolders
    ```

   <span data-ttu-id="b31ea-163">Quando si eliminano gli elementi nel passaggio 5, è possibile scegliere di eliminare o non eliminare gli elementi nella cartella elementi ripristinabili nella cassetta postale di archiviazione principale dell'utente.</span><span class="sxs-lookup"><span data-stu-id="b31ea-163">When you delete items in Step 5, you can choose to delete or not delete items in the Recoverable Items folder in the user's primary archive mailbox.</span></span> <span data-ttu-id="b31ea-164">Se per la cassetta postale è abilitata l'archiviazione con espansione automatica, gli elementi in una cassetta postale di archiviazione ausiliaria non verranno eliminati.</span><span class="sxs-lookup"><span data-stu-id="b31ea-164">If auto-expanding archiving is enabled for the mailbox, items in an auxiliary archive mailbox won't be deleted.</span></span>
  
## <a name="step-2-prepare-the-mailbox"></a><span data-ttu-id="b31ea-165">Passaggio 2: preparare la cassetta postale</span><span class="sxs-lookup"><span data-stu-id="b31ea-165">Step 2: Prepare the mailbox</span></span>

<span data-ttu-id="b31ea-166">Dopo aver raccolto e salvato le informazioni sulla cassetta postale, il passaggio successivo consiste nel preparare la cassetta postale eseguendo le attività seguenti:</span><span class="sxs-lookup"><span data-stu-id="b31ea-166">After collecting and saving information about the mailbox, the next step is to prepare the mailbox by performing the following tasks:</span></span>
  
- <span data-ttu-id="b31ea-167">**Disabilitare l'accesso client alla cassetta postale** , in modo che il proprietario della cassetta postale non possa accedere alla propria cassetta postale e apportare le modifiche ai dati della cassetta postale durante questa procedura.</span><span class="sxs-lookup"><span data-stu-id="b31ea-167">**Disable client access to mailbox** so that the mailbox owner can't access their mailbox and make any changes to the mailbox data during this procedure.</span></span>

- <span data-ttu-id="b31ea-168">**Aumentare il periodo di conservazione degli elementi eliminati** fino a 30 giorni (il valore massimo in Exchange Online), in modo che gli elementi non vengano eliminati dalla cartella elemento ripristinabile prima di poterli eliminare nel passaggio 5.</span><span class="sxs-lookup"><span data-stu-id="b31ea-168">**Increase the deleted item retention period** to 30 days (the maximum value in Exchange Online) so that items aren't purged from the Recoverable Items folder before you can delete them in Step 5.</span></span>

- <span data-ttu-id="b31ea-169">**Disabilitare il ripristino di un singolo elemento** in modo che gli elementi non vengano conservati (per la durata del periodo di conservazione degli elementi eliminati) dopo averli eliminati dalla cartella elementi ripristinabili nel passaggio 5.</span><span class="sxs-lookup"><span data-stu-id="b31ea-169">**Disable single Item recovery** so that items won't be retained (for the duration of the deleted item retention period) after you delete them from the Recoverable Items folder in Step 5.</span></span>

- <span data-ttu-id="b31ea-170">**Disabilitare l'Assistente cartelle gestite** in modo che non elabori la cassetta postale e mantenga gli elementi eliminati nel passaggio 5.</span><span class="sxs-lookup"><span data-stu-id="b31ea-170">**Disable the Managed Folder Assistant** so that it doesn't process the mailbox and retain the items that you delete in Step 5.</span></span>

<span data-ttu-id="b31ea-171">Eseguire le operazioni seguenti in PowerShell di Exchange Online.</span><span class="sxs-lookup"><span data-stu-id="b31ea-171">Perform the following steps in Exchange Online PowerShell.</span></span>
  
1. <span data-ttu-id="b31ea-172">Eseguire il seguente comando per disabilitare tutti gli accessi client alla cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="b31ea-172">Run the following command to disable all client access to the mailbox.</span></span> <span data-ttu-id="b31ea-173">La sintassi del comando presuppone che tutti i metodi di accesso client siano stati abilitati nella cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="b31ea-173">The command syntax assumes that all client access methods were enabled on the mailbox.</span></span>

    ```powershell
    Set-CASMailbox <username> -EwsEnabled $false -ActiveSyncEnabled $false -MAPIEnabled $false -OWAEnabled $false -ImapEnabled $false -PopEnabled $false
    ```

   > [!NOTE]
    > <span data-ttu-id="b31ea-174">Per disabilitare tutti i metodi di accesso client alla cassetta postale, potrebbero essere necessari fino a 60 minuti.</span><span class="sxs-lookup"><span data-stu-id="b31ea-174">It might take up to 60 minutes to disable all client access methods to the mailbox.</span></span> <span data-ttu-id="b31ea-175">Si noti che la disabilitazione di questi metodi di accesso non disconnetterà il proprietario della cassetta postale a cui è attualmente connesso.</span><span class="sxs-lookup"><span data-stu-id="b31ea-175">Note that disabling these access methods won't disconnect the mailbox owner they're currently signed in.</span></span> <span data-ttu-id="b31ea-176">Se il proprietario non ha eseguito l'accesso, non sarà in grado di accedere alla propria cassetta postale dopo che questi metodi di accesso sono stati disabilitati.</span><span class="sxs-lookup"><span data-stu-id="b31ea-176">If the owner isn't signed in, then they won't be able to access their mailbox after these access methods are disabled.</span></span>
  
2. <span data-ttu-id="b31ea-177">Eseguire il seguente comando per aumentare il periodo di conservazione degli elementi eliminati per un massimo di 30 giorni.</span><span class="sxs-lookup"><span data-stu-id="b31ea-177">Run the following command to increase the deleted item retention period the maximum of 30 days.</span></span> <span data-ttu-id="b31ea-178">Si presuppone che l'impostazione corrente sia inferiore a 30 giorni.</span><span class="sxs-lookup"><span data-stu-id="b31ea-178">This assumes that the current setting is less than 30 days.</span></span>

    ```powershell
    Set-Mailbox <username> -RetainDeletedItemsFor 30
    ```

3. <span data-ttu-id="b31ea-179">Per disabilitare il ripristino di un singolo elemento, eseguire il comando riportato di seguito.</span><span class="sxs-lookup"><span data-stu-id="b31ea-179">Run the following command to disable single item recovery.</span></span>

    ```powershell
    Set-Mailbox <username> -SingleItemRecoveryEnabled $false
    ```

   > [!NOTE]
    > <span data-ttu-id="b31ea-180">Per disabilitare il ripristino di un singolo elemento, potrebbero essere necessari fino a 60 minuti.</span><span class="sxs-lookup"><span data-stu-id="b31ea-180">It might take up to 60 minutes to disable single item recovery.</span></span> <span data-ttu-id="b31ea-181">Non eliminare gli elementi nella cartella elementi ripristinabili fino a quando non è trascorso questo periodo.</span><span class="sxs-lookup"><span data-stu-id="b31ea-181">Don't delete items in the Recoverable Items folder until this period has elapsed.</span></span> 
  
4. <span data-ttu-id="b31ea-182">Eseguire il seguente comando per evitare che l'Assistente cartelle gestite esegua l'elaborazione della cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="b31ea-182">Run the following command to prevent the Managed Folder Assistant from processing the mailbox.</span></span> <span data-ttu-id="b31ea-183">Come spiegato in precedenza, è possibile disabilitare l'Assistente cartelle gestite solo se un criterio di conservazione con un blocco di conservazione non viene applicato alla cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="b31ea-183">As previously explained, you can disable the Managed Folder Assistant only if a retention policy with a Preservation Lock is not applied to the mailbox.</span></span> 

    ```powershell
    Set-Mailbox <username> -ElcProcessingDisabled $true
    ```

## <a name="step-3-remove-all-holds-from-the-mailbox"></a><span data-ttu-id="b31ea-184">Passaggio 3: rimuovere tutte le esenzioni dalla cassetta postale</span><span class="sxs-lookup"><span data-stu-id="b31ea-184">Step 3: Remove all holds from the mailbox</span></span>

<span data-ttu-id="b31ea-185">L'ultimo passaggio prima di poter eliminare gli elementi dalla cartella elementi ripristinabili consiste nel rimuovere tutte le esenzioni (identificate nel passaggio 1) inserite nella cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="b31ea-185">The last step before you can delete items from the Recoverable Items folder is to remove all holds (that you identified in Step 1) placed on the mailbox.</span></span> <span data-ttu-id="b31ea-186">Tutte le esenzioni devono essere rimosse in modo che gli elementi non vengano conservati dopo averli eliminati dalla cartella elementi ripristinabili.</span><span class="sxs-lookup"><span data-stu-id="b31ea-186">All holds must be removed so that items won't be retained after you delete them from the Recoverable Items folder.</span></span> <span data-ttu-id="b31ea-187">Nelle sezioni seguenti sono contenute informazioni sulla rimozione di diversi tipi di esenzioni su una cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="b31ea-187">The following sections contain information about removing different types of holds on a mailbox.</span></span> <span data-ttu-id="b31ea-188">Vedere la sezione [ulteriori informazioni](#more-information) per suggerimenti su come identificare il blocco dei tipi che potrebbe essere posizionato su una cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="b31ea-188">See the [More information](#more-information) section for tips about how to identify the type hold that might be placed on a mailbox.</span></span> <span data-ttu-id="b31ea-189">Per ulteriori informazioni, vedere [come identificare il tipo di blocco posizionato su una cassetta postale di Exchange Online](identify-a-hold-on-an-exchange-online-mailbox.md).</span><span class="sxs-lookup"><span data-stu-id="b31ea-189">For more information, see [How to identify the type of hold placed on an Exchange Online mailbox](identify-a-hold-on-an-exchange-online-mailbox.md).</span></span>
  
> [!CAUTION]
> <span data-ttu-id="b31ea-190">Come indicato in precedenza, consultare la gestione dei record o i reparti giuridici prima di rimuovere un'esenzione da una cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="b31ea-190">As previously stated, check with your records management or legal departments before removing a hold from a mailbox.</span></span> 
  
### <a name="litigation-hold"></a><span data-ttu-id="b31ea-191">Conservazione in caso di dispute</span><span class="sxs-lookup"><span data-stu-id="b31ea-191">Litigation Hold</span></span>
  
<span data-ttu-id="b31ea-192">Eseguire il seguente comando in Exchange Online PowerShell per rimuovere un blocco per controversia legale dalla cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="b31ea-192">Run the following command in Exchange Online PowerShell to remove a Litigation Hold from the mailbox.</span></span>

```powershell
Set-Mailbox <username> -LitigationHoldEnabled $false
```

> [!NOTE]
> <span data-ttu-id="b31ea-193">Analogamente alla disattivazione dei metodi di accesso client e del ripristino di un singolo elemento, potrebbero essere necessari fino a 60 minuti per rimuovere il blocco per controversia legale.</span><span class="sxs-lookup"><span data-stu-id="b31ea-193">Similar to disabling the client access methods and single item recovery, it might take up to 60 minutes to remove the Litigation Hold.</span></span> <span data-ttu-id="b31ea-194">Non eliminare gli elementi dalla cartella elementi ripristinabili fino a quando non è trascorso questo periodo.</span><span class="sxs-lookup"><span data-stu-id="b31ea-194">Don't delete items from the Recoverable Items folder until this period has elapsed.</span></span> 
  
### <a name="in-place-hold"></a><span data-ttu-id="b31ea-195">Blocco sul posto</span><span class="sxs-lookup"><span data-stu-id="b31ea-195">In-Place Hold</span></span>
  
<span data-ttu-id="b31ea-196">Eseguire il seguente comando in PowerShell di Exchange Online per identificare il blocco sul posto applicato alla cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="b31ea-196">Run the following command in Exchange Online PowerShell to identify the In-Place Hold that's placed on the mailbox.</span></span> <span data-ttu-id="b31ea-197">Utilizzare il GUID per il blocco sul posto identificato nel passaggio 1.</span><span class="sxs-lookup"><span data-stu-id="b31ea-197">Use the GUID for the In-Place Hold that you identified in Step 1.</span></span>

```powershell
Get-MailboxSearch -InPlaceHoldIdentity <hold GUID> | FL Name
```

<span data-ttu-id="b31ea-198">Dopo aver identificato il blocco sul posto, è possibile utilizzare l'interfaccia di amministrazione di Exchange (EAC) o Exchange Online PowerShell per rimuovere la cassetta postale dall'esenzione.</span><span class="sxs-lookup"><span data-stu-id="b31ea-198">After you identify the In-Place Hold, you can use the Exchange admin center (EAC) or Exchange Online PowerShell to remove the mailbox from the hold.</span></span> <span data-ttu-id="b31ea-199">Per ulteriori informazioni, vedere [Creare o rimuovere un'archiviazione sul posto](https://go.microsoft.com/fwlink/?linkid=852668).</span><span class="sxs-lookup"><span data-stu-id="b31ea-199">For more information, see [Create or remove an In-Place Hold](https://go.microsoft.com/fwlink/?linkid=852668).</span></span>
  
### <a name="retention-policies-applied-to-specific-mailboxes"></a><span data-ttu-id="b31ea-200">Criteri di conservazione applicati a cassette postali specifiche</span><span class="sxs-lookup"><span data-stu-id="b31ea-200">Retention policies applied to specific mailboxes</span></span>
  
<span data-ttu-id="b31ea-201">Per identificare il criterio di conservazione applicato alla cassetta postale, eseguire il comando riportato di seguito in [sicurezza & Compliance Center PowerShell](https://go.microsoft.com/fwlink/?linkid=627084) .</span><span class="sxs-lookup"><span data-stu-id="b31ea-201">Run the following command in [Security & Compliance Center PowerShell](https://go.microsoft.com/fwlink/?linkid=627084) to identify the retention policy that is applied to the mailbox.</span></span> <span data-ttu-id="b31ea-202">Questo comando restituirà anche tutti i criteri di conservazione della conversazione dei team applicati a una cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="b31ea-202">This command will also return any Teams conversation retention policies applied to a mailbox.</span></span> <span data-ttu-id="b31ea-203">Utilizzare il GUID (escluso il `mbx` `skp` prefisso o) per i criteri di conservazione identificati nel passaggio 1.</span><span class="sxs-lookup"><span data-stu-id="b31ea-203">Use the GUID (not including the `mbx` or `skp` prefix) for the retention policy that you identified in Step 1.</span></span>

```powershell
Get-RetentionCompliancePolicy <retention policy GUID without prefix> | FL Name
```

<span data-ttu-id="b31ea-204">Dopo aver identificato il criterio di conservazione, passare alla **Information governance**  >  pagina**conservazione** delle informazioni sulla sicurezza nel centro protezione & conformità, modificare i criteri di conservazione identificati nel passaggio precedente e rimuovere la cassetta postale dall'elenco dei destinatari inclusi nel criterio di conservazione.</span><span class="sxs-lookup"><span data-stu-id="b31ea-204">After you identify the retention policy, go to the **Information governance** > **Retention** page in the Security & Compliance Center, edit the retention policy that you identified in the previous step, and remove the mailbox from the list of recipients that are included in the retention policy.</span></span>
  
### <a name="organization-wide-retention-policies"></a><span data-ttu-id="b31ea-205">Criteri di conservazione a livello dell'organizzazione</span><span class="sxs-lookup"><span data-stu-id="b31ea-205">Organization-wide retention policies</span></span>
  
<span data-ttu-id="b31ea-206">I criteri di conservazione a livello di organizzazione, a livello di Exchange e a livello di team vengono applicati a tutte le cassette postali dell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="b31ea-206">Organization-wide, Exchange-wide, and Teams-wide retention policies are applied to every mailbox in the organization.</span></span> <span data-ttu-id="b31ea-207">Vengono applicati a livello di organizzazione (non a livello di cassetta postale) e vengono restituiti quando si esegue il cmdlet **Get-OrganizationConfig** nel passaggio 1.</span><span class="sxs-lookup"><span data-stu-id="b31ea-207">They are applied at the organization level (not the mailbox level) and are returned when you run the **Get-OrganizationConfig** cmdlet in Step 1.</span></span> <span data-ttu-id="b31ea-208">Per identificare i criteri di conservazione a livello di organizzazione, eseguire il comando riportato di seguito in [PowerShell per Security & Compliance Center](https://go.microsoft.com/fwlink/?linkid=627084) .</span><span class="sxs-lookup"><span data-stu-id="b31ea-208">Run the following command in [Security & Compliance Center PowerShell](https://go.microsoft.com/fwlink/?linkid=627084) to identify the organization-wide retention policies.</span></span> <span data-ttu-id="b31ea-209">Utilizzare il GUID (escluso il  `mbx` prefisso) per i criteri di conservazione a livello dell'organizzazione identificati nel passaggio 1.</span><span class="sxs-lookup"><span data-stu-id="b31ea-209">Use the GUID (not including the  `mbx` prefix) for the organization-wide retention policies that you identified in Step 1.</span></span>

```powershell
Get-RetentionCompliancePolicy <retention policy GUID without prefix> | FL Name
```

<span data-ttu-id="b31ea-210">Dopo aver identificato i criteri di conservazione a livello dell'organizzazione, passare alla pagina conservazione delle **informazioni**sulla  >  **Retention** sicurezza nel centro protezione & conformità, modificare ogni criterio di conservazione a livello di organizzazione identificato nel passaggio precedente e aggiungere la cassetta postale all'elenco dei destinatari esclusi.</span><span class="sxs-lookup"><span data-stu-id="b31ea-210">After you identify the organization-wide retention policies, go to the **Information governance** > **Retention** page in the Security & Compliance Center, edit each organization-wide retention policy that you identified in the previous step, and add the mailbox to the list of excluded recipients.</span></span> <span data-ttu-id="b31ea-211">In questo modo, la cassetta postale dell'utente verrà rimossa dal criterio di conservazione.</span><span class="sxs-lookup"><span data-stu-id="b31ea-211">Doing this will remove the user's mailbox from the retention policy.</span></span>

### <a name="retention-labels"></a><span data-ttu-id="b31ea-212">Etichette di conservazione</span><span class="sxs-lookup"><span data-stu-id="b31ea-212">Retention labels</span></span>

<span data-ttu-id="b31ea-213">Ogni volta che un utente applica un'etichetta configurata per mantenere il contenuto o mantenere e quindi eliminare il contenuto in una cartella o un elemento della propria cassetta postale, la proprietà della cassetta postale *ComplianceTagHoldApplied* viene impostata su **true**.</span><span class="sxs-lookup"><span data-stu-id="b31ea-213">Whenever a user applies a label that's configured to retain content or retain and then delete content to any folder or item in their mailbox, the *ComplianceTagHoldApplied* mailbox property is set to **True**.</span></span> <span data-ttu-id="b31ea-214">In questo caso, la cassetta postale viene considerata attiva, come se fosse stata messa in blocco per controversia legale o assegnata a un criterio di conservazione.</span><span class="sxs-lookup"><span data-stu-id="b31ea-214">When this happens, the mailbox is considered to be on hold, as if it was placed on Litigation Hold or assigned to a retention policy.</span></span>

<span data-ttu-id="b31ea-215">Per visualizzare il valore della proprietà *ComplianceTagHoldApplied* , eseguire il comando seguente in PowerShell di Exchange Online:</span><span class="sxs-lookup"><span data-stu-id="b31ea-215">To view the value of the *ComplianceTagHoldApplied* property, run the following command in Exchange Online PowerShell:</span></span>

```powershell
Get-Mailbox <username> |FL ComplianceTagHoldApplied
```

<span data-ttu-id="b31ea-216">Dopo aver identificato che una cassetta postale è in attesa perché viene applicata un'etichetta di conservazione a una cartella o a un elemento, è possibile utilizzare lo strumento di ricerca contenuto nel centro sicurezza e conformità per cercare gli elementi contrassegnati utilizzando la condizione di ricerca di ComplianceTag.</span><span class="sxs-lookup"><span data-stu-id="b31ea-216">After you've identified that a mailbox is on hold because a retention label is applied to a folder or item, you can use the Content Search tool in the security and compliance center to search for labeled items by using the ComplianceTag search condition.</span></span> <span data-ttu-id="b31ea-217">Per ulteriori informazioni, vedere la sezione "condizioni di ricerca" in [query di parole chiave e condizioni di ricerca per la ricerca di contenuto](keyword-queries-and-search-conditions.md#conditions-for-common-properties).</span><span class="sxs-lookup"><span data-stu-id="b31ea-217">For more information, see the "Search conditions" section in [Keyword queries and search conditions for Content Search](keyword-queries-and-search-conditions.md#conditions-for-common-properties).</span></span>

<span data-ttu-id="b31ea-218">Per ulteriori informazioni sulle etichette, vedere informazioni [sui criteri di conservazione e sulle etichette di conservazione](retention.md).</span><span class="sxs-lookup"><span data-stu-id="b31ea-218">For more information about labels, see [Learn about retention policies and retention labels](retention.md).</span></span>

### <a name="ediscovery-holds"></a><span data-ttu-id="b31ea-219">eDiscovery contiene</span><span class="sxs-lookup"><span data-stu-id="b31ea-219">eDiscovery holds</span></span>
  
<span data-ttu-id="b31ea-220">Per identificare il blocco associato a un caso di eDiscovery (denominato *eDiscovery*holds) applicato alla cassetta postale, eseguire i comandi seguenti in [PowerShell Center Security & Compliance](https://docs.microsoft.com/powershell/exchange/office-365-scc/connect-to-scc-powershell/connect-to-scc-powershell) .</span><span class="sxs-lookup"><span data-stu-id="b31ea-220">Run the following commands in [Security & Compliance Center PowerShell](https://docs.microsoft.com/powershell/exchange/office-365-scc/connect-to-scc-powershell/connect-to-scc-powershell) to identify the hold associated with an eDiscovery case (called *eDiscovery holds*) that's applied to the mailbox.</span></span> <span data-ttu-id="b31ea-221">Utilizzare il GUID (escluso il  `UniH` prefisso) per il blocco eDiscovery identificato nel passaggio 1.</span><span class="sxs-lookup"><span data-stu-id="b31ea-221">Use the GUID (not including the  `UniH` prefix) for the eDiscovery hold that you identified in Step 1.</span></span> <span data-ttu-id="b31ea-222">Nel secondo comando viene visualizzato il nome del caso di eDiscovery a cui è associato il blocco. il terzo comando Visualizza il nome dell'esenzione.</span><span class="sxs-lookup"><span data-stu-id="b31ea-222">The second command displays the name of the eDiscovery case the hold is associated with; the third command displays the name of the hold.</span></span>
  
```powershell
$CaseHold = Get-CaseHoldPolicy <hold GUID without prefix>
```

```powershell
Get-ComplianceCase $CaseHold.CaseId | FL Name
```

```powershell
$CaseHold.Name
```

<span data-ttu-id="b31ea-223">Dopo aver identificato il nome del caso di eDiscovery e il blocco, passare alla pagina **eDiscovery** \> **eDiscovery** nel centro conformità, aprire il caso e rimuovere la cassetta postale dall'esenzione.</span><span class="sxs-lookup"><span data-stu-id="b31ea-223">After you've identified the name of the eDiscovery case and the hold, go to the **eDiscovery** \> **eDiscovery** page in the compliance center, open the case, and remove the mailbox from the hold.</span></span> <span data-ttu-id="b31ea-224">Per ulteriori informazioni sull'identificazione di eDiscovery holds, vedere la sezione "eDiscovery holds" in [How to identificare il tipo di blocco posizionato su una cassetta postale di Exchange Online](identify-a-hold-on-an-exchange-online-mailbox.md#ediscovery-holds).</span><span class="sxs-lookup"><span data-stu-id="b31ea-224">For more information about identifying eDiscovery holds, see the "eDiscovery holds" section in [How to identify the type of hold placed on an Exchange Online mailbox](identify-a-hold-on-an-exchange-online-mailbox.md#ediscovery-holds).</span></span>
  
## <a name="step-4-remove-the-delay-hold-from-the-mailbox"></a><span data-ttu-id="b31ea-225">Passaggio 4: rimuovere la sospensione di ritardo dalla cassetta postale</span><span class="sxs-lookup"><span data-stu-id="b31ea-225">Step 4: Remove the delay hold from the mailbox</span></span>

<span data-ttu-id="b31ea-226">Dopo la rimozione di qualsiasi tipo di blocco da una cassetta postale, il valore della proprietà della cassetta postale *DelayHoldApplied* o *DelayReleaseHoldApplied* è impostato su **true**.</span><span class="sxs-lookup"><span data-stu-id="b31ea-226">After any type of hold is removed from a mailbox, the value of the *DelayHoldApplied* or *DelayReleaseHoldApplied* mailbox property is set to **True**.</span></span> <span data-ttu-id="b31ea-227">Questo problema si verifica quando l'Assistente cartelle gestite elabora la cassetta postale e rileva che è stata rimossa un'esenzione.</span><span class="sxs-lookup"><span data-stu-id="b31ea-227">This occurs the next time the Managed Folder Assistant processes the mailbox and detects that a hold has been removed.</span></span> <span data-ttu-id="b31ea-228">Si tratta di un *blocco di ritardo* che indica che la rimozione effettiva del blocco viene posticipata di 30 giorni per evitare che i dati vengano eliminati definitivamente dalla cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="b31ea-228">This is called a *delay hold* and means the actual removal of the hold is delayed for 30 days to prevent data from being permanently deleted from the mailbox.</span></span> <span data-ttu-id="b31ea-229">Lo scopo di un blocco di ritardo consiste nell'assegnare agli amministratori la possibilità di cercare o recuperare gli elementi della cassetta postale che verranno eliminati dopo la rimozione di un'esenzione.  Quando viene immessa una conservazione per la cassetta postale, la cassetta postale è ancora considerata attiva per una durata illimitata, come se la cassetta postale fosse in conservazione per controversia legale.</span><span class="sxs-lookup"><span data-stu-id="b31ea-229">(The purpose of a delay hold is to give admins an opportunity to search for or recover mailbox items that will be purged after a hold is removed.)  When a delay hold is placed on the mailbox, the mailbox is still considered to be on hold for an unlimited duration, as if the mailbox was on Litigation Hold.</span></span> <span data-ttu-id="b31ea-230">Dopo 30 giorni, scade il ritardo e Microsoft 365 tenterà automaticamente di rimuovere il blocco di ritardo (impostando la proprietà *DelayHoldApplied* o *DelayReleaseHoldApplied* su **false**) in modo che il blocco venga rimosso.</span><span class="sxs-lookup"><span data-stu-id="b31ea-230">After 30 days, the delay hold expires, and Microsoft 365 will automatically attempt to remove the delay hold (by setting the *DelayHoldApplied* or *DelayReleaseHoldApplied* property to **False**) so that the hold is removed.</span></span> <span data-ttu-id="b31ea-231">Per ulteriori informazioni su un blocco di ritardo, vedere la sezione "gestione delle cassette postali per il ritardo" in [come identificare il tipo di blocco posizionato su una cassetta postale di Exchange Online](identify-a-hold-on-an-exchange-online-mailbox.md#managing-mailboxes-on-delay-hold).</span><span class="sxs-lookup"><span data-stu-id="b31ea-231">For more information about a delay hold, see the "Managing mailboxes on delay hold" section in [How to identify the type of hold placed on an Exchange Online mailbox](identify-a-hold-on-an-exchange-online-mailbox.md#managing-mailboxes-on-delay-hold).</span></span>

<span data-ttu-id="b31ea-232">Prima di poter eliminare gli elementi nel passaggio 5, è necessario rimuovere un blocco di ritardo dalla cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="b31ea-232">Before you can delete items in Step 5, you have to remove a delay hold from the mailbox.</span></span> <span data-ttu-id="b31ea-233">Per prima cosa, determinare se il blocco di ritardo viene applicato alla cassetta postale eseguendo il comando seguente in PowerShell di Exchange Online:</span><span class="sxs-lookup"><span data-stu-id="b31ea-233">First, determine if the delay hold is applied to the mailbox by running the following command in Exchange Online PowerShell:</span></span>

```powershell
Get-Mailbox <username> | FL DelayHoldApplied,DelayReleaseHoldApplied
```

<span data-ttu-id="b31ea-234">Se il valore della proprietà *DelayHoldApplied* o *DelayReleaseHoldApplied* è impostato su **false**, nella cassetta postale non è stato applicato un blocco di ritardo.</span><span class="sxs-lookup"><span data-stu-id="b31ea-234">If the value of either the *DelayHoldApplied* or *DelayReleaseHoldApplied* property is set to **False**, a delay hold has not been placed on the mailbox.</span></span> <span data-ttu-id="b31ea-235">È possibile passare al passaggio 5 ed eliminare gli elementi nella cartella elementi ripristinabili.</span><span class="sxs-lookup"><span data-stu-id="b31ea-235">You can go to Step 5 and delete items in the Recoverable Items folder.</span></span>

<span data-ttu-id="b31ea-236">Se il valore della proprietà *DelayHoldApplied* o *DelayReleaseHoldApplied* è impostato su **true**, eseguire uno dei comandi seguenti per rimuovere il blocco di ritardo:</span><span class="sxs-lookup"><span data-stu-id="b31ea-236">If the value of the *DelayHoldApplied* or *DelayReleaseHoldApplied* property is set to **True**, run one of the following commands to remove the delay hold:</span></span>

```powershell
Set-Mailbox <username> -RemoveDelayHoldApplied
```

<span data-ttu-id="b31ea-237">Oppure</span><span class="sxs-lookup"><span data-stu-id="b31ea-237">Or</span></span>

```powershell
Set-Mailbox <username> -RemoveDelayReleaseHoldApplied
```

<span data-ttu-id="b31ea-238">Per utilizzare il parametro *RemoveDelayHoldApplied* o *RemoveDelayReleaseHoldApplied* , è necessario che sia assegnato il ruolo di blocco legale in Exchange Online.</span><span class="sxs-lookup"><span data-stu-id="b31ea-238">You must be assigned the Legal Hold role in Exchange Online to use the *RemoveDelayHoldApplied* or *RemoveDelayReleaseHoldApplied* parameter.</span></span>

## <a name="step-5-delete-items-in-the-recoverable-items-folder"></a><span data-ttu-id="b31ea-239">Passaggio 5: eliminare gli elementi nella cartella elementi ripristinabili</span><span class="sxs-lookup"><span data-stu-id="b31ea-239">Step 5: Delete items in the Recoverable Items folder</span></span>

<span data-ttu-id="b31ea-240">A questo punto si è pronti per eliminare gli elementi nella cartella elementi ripristinabili utilizzando i cmdlet [New-ComplianceSearch](https://docs.microsoft.com/powershell/module/exchange/new-compliancesearch) e [New-ComplianceSearchAction](https://docs.microsoft.com/powershell/module/exchange/new-compliancesearchaction) in PowerShell Center di sicurezza & Compliance.</span><span class="sxs-lookup"><span data-stu-id="b31ea-240">Now you're ready to actually delete items in the Recoverable Items folder by using the [New-ComplianceSearch](https://docs.microsoft.com/powershell/module/exchange/new-compliancesearch) and [New-ComplianceSearchAction](https://docs.microsoft.com/powershell/module/exchange/new-compliancesearchaction) cmdlets in Security & Compliance Center PowerShell.</span></span>

<span data-ttu-id="b31ea-241">Per cercare gli elementi che si trovano nella cartella elementi ripristinabili, è consigliabile eseguire una raccolta di *destinazione*.</span><span class="sxs-lookup"><span data-stu-id="b31ea-241">To search for items that are located in the Recoverable Items folder, we recommend that you perform a *targeted collection*.</span></span> <span data-ttu-id="b31ea-242">Questo significa che è possibile limitare l'ambito della ricerca solo agli elementi che si trovano nella cartella elementi ripristinabili.</span><span class="sxs-lookup"><span data-stu-id="b31ea-242">This means you narrow the scope of your search only to items located in the Recoverable Items folder.</span></span> <span data-ttu-id="b31ea-243">A tale scopo, è possibile eseguire lo script nell'articolo [utilizza ricerca contenuto per raccolte mirate](use-content-search-for-targeted-collections.md) .</span><span class="sxs-lookup"><span data-stu-id="b31ea-243">You can do this by running the script in the [Use Content Search for targeted collections](use-content-search-for-targeted-collections.md) article.</span></span> <span data-ttu-id="b31ea-244">Questo script restituisce il valore della proprietà ID cartella per tutte le sottocartelle nella cartella elementi ripristinabili di destinazione.</span><span class="sxs-lookup"><span data-stu-id="b31ea-244">This script returns the value of the folder ID property for all the subfolders in the target Recoverable Items folder.</span></span> <span data-ttu-id="b31ea-245">Successivamente, utilizzare l'ID cartella in una query di ricerca per restituire gli elementi che si trovano nella cartella.</span><span class="sxs-lookup"><span data-stu-id="b31ea-245">Then you use the folder ID in a search query to return items located in that folder.</span></span>

<span data-ttu-id="b31ea-246">Di seguito è disponibile una panoramica del processo di ricerca ed eliminazione degli elementi nella cartella elementi ripristinabili di un utente:</span><span class="sxs-lookup"><span data-stu-id="b31ea-246">Here's an overview of the process to search for and delete items in a user's Recoverable Items folder:</span></span>

1. <span data-ttu-id="b31ea-247">Eseguire lo script di raccolta mirato che restituisce gli ID della cartella per tutte le cartelle nella cassetta postale dell'utente di destinazione.</span><span class="sxs-lookup"><span data-stu-id="b31ea-247">Run the targeted collection script that returns the folder IDs for all folders in the target user's mailbox.</span></span> <span data-ttu-id="b31ea-248">Lo script si connette a PowerShell di Exchange Online e alla sicurezza & Compliance PowerShell nella stessa sessione di PowerShell.</span><span class="sxs-lookup"><span data-stu-id="b31ea-248">The script connects to Exchange Online PowerShell and Security & Compliance PowerShell in the same PowerShell session.</span></span> <span data-ttu-id="b31ea-249">Per ulteriori informazioni, vedere [eseguire lo script per ottenere un elenco di cartelle per una cassetta postale](use-content-search-for-targeted-collections.md#step-1-run-the-script-to-get-a-list-of-folders-for-a-mailbox-or-site).</span><span class="sxs-lookup"><span data-stu-id="b31ea-249">For more information, see [Run the script to get a list of folders for a mailbox](use-content-search-for-targeted-collections.md#step-1-run-the-script-to-get-a-list-of-folders-for-a-mailbox-or-site).</span></span>

2. <span data-ttu-id="b31ea-250">Copiare gli ID della cartella per tutte le sottocartelle nella cartella elementi ripristinabili.</span><span class="sxs-lookup"><span data-stu-id="b31ea-250">Copy the folder IDs for all subfolders in the Recoverable Items folder.</span></span> <span data-ttu-id="b31ea-251">In alternativa, è possibile reindirizzare l'output dello script a un file di testo.</span><span class="sxs-lookup"><span data-stu-id="b31ea-251">Alternatively, you can redirect the output of the script to a text file.</span></span>

   <span data-ttu-id="b31ea-252">Ecco un elenco e una descrizione delle sottocartelle nella cartella elementi ripristinabili che è possibile cercare ed eliminare gli elementi da:</span><span class="sxs-lookup"><span data-stu-id="b31ea-252">Here's a list and description of the subfolders in the Recoverable Items folder that you can search and delete items from:</span></span>

   - <span data-ttu-id="b31ea-253">**Eliminazioni**: contiene gli elementi eliminati temporaneamente il cui periodo di conservazione degli elementi eliminati non è scaduto.</span><span class="sxs-lookup"><span data-stu-id="b31ea-253">**Deletions**: Contains soft-deleted items whose deleted item retention period has not expired.</span></span> <span data-ttu-id="b31ea-254">Gli utenti possono recuperare gli elementi eliminati temporaneamente da questa sottocartella utilizzando lo strumento Recupera elementi eliminati in Outlook.</span><span class="sxs-lookup"><span data-stu-id="b31ea-254">Users can recover soft-deleted items from this subfolder using the Recover Deleted Items tool in Outlook.</span></span>

   - <span data-ttu-id="b31ea-255">**Purges**: contiene gli elementi eliminati in modo irreversibile il cui periodo di conservazione degli elementi eliminati è scaduto.</span><span class="sxs-lookup"><span data-stu-id="b31ea-255">**Purges**: Contains hard-deleted items whose deleted item retention period has expired.</span></span> <span data-ttu-id="b31ea-256">Gli utenti possono anche eliminare definitivamente gli elementi eliminando gli elementi dalla cartella elementi ripristinabili.</span><span class="sxs-lookup"><span data-stu-id="b31ea-256">Users can also hard-delete items by purging items from their Recoverable Items folder.</span></span> <span data-ttu-id="b31ea-257">Se la cassetta postale è in attesa, vengono conservati gli elementi eliminati in modo rigido.</span><span class="sxs-lookup"><span data-stu-id="b31ea-257">If the mailbox is on hold, hard-deleted items are preserved.</span></span> <span data-ttu-id="b31ea-258">Questa sottocartella non è visibile agli utenti finali.</span><span class="sxs-lookup"><span data-stu-id="b31ea-258">This subfolder isn't visible to end users.</span></span>

   - <span data-ttu-id="b31ea-259">**DiscoveryHolds**: contiene gli elementi eliminati definitivamente che sono stati conservati da un blocco eDiscovery o da un criterio di conservazione.</span><span class="sxs-lookup"><span data-stu-id="b31ea-259">**DiscoveryHolds**: Contains hard-deleted items that have been preserved by an eDiscovery hold or a retention policy.</span></span> <span data-ttu-id="b31ea-260">Questa sottocartella non è visibile agli utenti finali.</span><span class="sxs-lookup"><span data-stu-id="b31ea-260">This subfolder isn't visible to end users.</span></span>

   - <span data-ttu-id="b31ea-261">**SubstrateHolds**: contiene elementi eliminati in modo irreversibile da team e altre app basate su cloud che sono state conservate da un criterio di conservazione o da un altro tipo di blocco.</span><span class="sxs-lookup"><span data-stu-id="b31ea-261">**SubstrateHolds**: Contains hard-deleted items from Teams and other cloud-based apps that have been preserved by a retention policy or other type of hold.</span></span> <span data-ttu-id="b31ea-262">Questa sottocartella non è visibile agli utenti finali.</span><span class="sxs-lookup"><span data-stu-id="b31ea-262">This subfolder isn't visible to end users.</span></span>

3. <span data-ttu-id="b31ea-263">Utilizzare il cmdlet **New-ComplianceSearch** (nel centro sicurezza & Compliance Center PowerShell) oppure utilizzare lo strumento di ricerca contenuto nel centro conformità per creare una ricerca di contenuto che restituisca gli elementi dalla cartella elementi ripristinabili dell'utente di destinazione.</span><span class="sxs-lookup"><span data-stu-id="b31ea-263">Use the **New-ComplianceSearch** cmdlet (in Security & Compliance Center PowerShell) or use the Content search tool in the compliance center to create a content search that returns items from the target user's Recoverable Items folder.</span></span> <span data-ttu-id="b31ea-264">È possibile eseguire questa operazione includendo il FolderId nella query di ricerca per tutte le sottocartelle che si desidera ricercare.</span><span class="sxs-lookup"><span data-stu-id="b31ea-264">You can do this by including the FolderId in the search query for all subfolders that you want to search.</span></span> <span data-ttu-id="b31ea-265">Ad esempio, la query seguente restituisce tutti i messaggi nelle sottocartelle Purges e eDiscoveryHolds:</span><span class="sxs-lookup"><span data-stu-id="b31ea-265">For example, the following query returns all messages in the Purges and eDiscoveryHolds subfolders:</span></span>

   ```text
   folderid:<folder ID of Purges subfolder> OR folderid:<folder ID of DiscoveryHolds subfolder>
   ```

   <span data-ttu-id="b31ea-266">Per ulteriori informazioni ed esempi sull'esecuzione di ricerche di contenuto in cui viene utilizzata la proprietà ID cartella, vedere [use a Folder ID o to per eseguire una raccolta di destinazione](use-content-search-for-targeted-collections.md#step-2-use-a-folder-id-or-documentlink-to-perform-a-targeted-collection).</span><span class="sxs-lookup"><span data-stu-id="b31ea-266">For more information and examples about running content searches that use the folder ID property, see [Use a folder ID or to perform a targeted collection](use-content-search-for-targeted-collections.md#step-2-use-a-folder-id-or-documentlink-to-perform-a-targeted-collection).</span></span>

   > [!NOTE]
   > <span data-ttu-id="b31ea-267">Se si utilizza il cmdlet **New-ComplianceSearch** per cercare la cartella elementi ripristinabili, assicurarsi di utilizzare il cmdlet **Start-ComplianceSearch** per eseguire la ricerca.</span><span class="sxs-lookup"><span data-stu-id="b31ea-267">If you use the **New-ComplianceSearch** cmdlet to search the Recoverable Items folder, be sure to use **Start-ComplianceSearch** cmdlet to run the search.</span></span>

4. <span data-ttu-id="b31ea-268">Dopo aver creato una ricerca di contenuto e aver convalidato che restituisce gli elementi che si desidera eliminare, utilizzare il `New-ComplianceSearchAction -Purge -PurgeType HardDelete` comando (in sicurezza & Compliance Center PowerShell) per eliminare definitivamente gli elementi restituiti dalla ricerca di contenuto creata nel passaggio precedente.</span><span class="sxs-lookup"><span data-stu-id="b31ea-268">After you've created a content search and validated that it returns the items that you wan to delete, use the `New-ComplianceSearchAction -Purge -PurgeType HardDelete` command (in Security & Compliance Center PowerShell) to permanently delete the items returned by the content search that you created in the previous step.</span></span> <span data-ttu-id="b31ea-269">Ad esempio, è possibile eseguire un comando simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="b31ea-269">For example, you can run a command similar to the following command:</span></span>

   ```powershell
   New-ComplianceSearchAction -SearchName "RecoverableItems" -Purge -PurgeType HardDelete
   ```

5. <span data-ttu-id="b31ea-270">Quando si esegue il comando precedente, vengono eliminati un massimo di 10 elementi per ogni cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="b31ea-270">A maximum of 10 items per mailbox are deleted when you run the previous command.</span></span> <span data-ttu-id="b31ea-271">Questo significa che potrebbe essere necessario eseguire il `New-ComplianceSearchAction -Purge` comando più volte per eliminare tutti gli elementi che si desidera eliminare nella cartella elementi ripristinabili.</span><span class="sxs-lookup"><span data-stu-id="b31ea-271">That means you may have to run the `New-ComplianceSearchAction -Purge` command multiple times to delete all the items that you want to delete in the Recoverable Items folder.</span></span> <span data-ttu-id="b31ea-272">Per eliminare elementi aggiuntivi, è necessario innanzitutto rimuovere l'azione di eliminazione della ricerca di conformità precedente.</span><span class="sxs-lookup"><span data-stu-id="b31ea-272">To delete additional items, you first have to remove the previous compliance search purge action.</span></span> <span data-ttu-id="b31ea-273">A tale scopo, è possibile eseguire il `Remove-ComplianceSearchAction` cmdlet.</span><span class="sxs-lookup"><span data-stu-id="b31ea-273">You do this by running the `Remove-ComplianceSearchAction` cmdlet.</span></span> <span data-ttu-id="b31ea-274">Ad esempio, per eliminare l'azione Purge eseguita nel passaggio precedente, eseguire il comando riportato di seguito:</span><span class="sxs-lookup"><span data-stu-id="b31ea-274">For example, to delete the purge action that was run in the previous step, run the following command:</span></span>

   ```powershell
   Remove-ComplianceSearchAction "RecoverableItems_Purge"
   ```

   <span data-ttu-id="b31ea-275">Dopo aver eseguito questa operazione, è possibile creare una nuova azione di eliminazione della ricerca di conformità per eliminare altri elementi.</span><span class="sxs-lookup"><span data-stu-id="b31ea-275">After you do this, you can create a new compliance search purge action to delete more items.</span></span> <span data-ttu-id="b31ea-276">Prima di crearne una nuova, è necessario eliminare ogni azione di eliminazione.</span><span class="sxs-lookup"><span data-stu-id="b31ea-276">You'll have to delete each purge action before creating a new one.</span></span>

   <span data-ttu-id="b31ea-277">Per ottenere un elenco delle azioni di ricerca di conformità, è possibile eseguire il `Get-ComplianceSearchAction` cmdlet.</span><span class="sxs-lookup"><span data-stu-id="b31ea-277">To get a list of the compliance search actions, you can run the `Get-ComplianceSearchAction` cmdlet.</span></span> <span data-ttu-id="b31ea-278">Le azioni Purge sono identificate da `_Purge` accodati al nome della ricerca.</span><span class="sxs-lookup"><span data-stu-id="b31ea-278">Purge actions are identified by `_Purge` appended to the search name.</span></span>

### <a name="verify-that-items-were-deleted"></a><span data-ttu-id="b31ea-279">Verificare che gli elementi siano stati eliminati</span><span class="sxs-lookup"><span data-stu-id="b31ea-279">Verify that items were deleted</span></span>

<span data-ttu-id="b31ea-280">Per verificare la corretta eliminazione degli elementi dalla cartella elementi ripristinabili di una cassetta postale, utilizzare il cmdlet **Get-MailboxFolderStatistics** in PowerShell di Exchange Online per controllare la dimensione e il numero di elementi nella cartella elementi ripristinabili.</span><span class="sxs-lookup"><span data-stu-id="b31ea-280">To verify that you've successfully deleted items from the Recoverable Items folder of a mailbox, use **Get-MailboxFolderStatistics** cmdlet in Exchange Online PowerShell to check the size and number of items in Recoverable Items folder.</span></span> <span data-ttu-id="b31ea-281">È possibile confrontare queste statistiche con quelle raccolte nel passaggio 1.</span><span class="sxs-lookup"><span data-stu-id="b31ea-281">You can compare these statistics with the ones you collected in Step 1.</span></span>
  
<span data-ttu-id="b31ea-282">Eseguire il seguente comando per ottenere la dimensione corrente e il numero totale di elementi nelle cartelle e nelle sottocartelle della cartella elementi ripristinabili nella cassetta postale principale dell'utente.</span><span class="sxs-lookup"><span data-stu-id="b31ea-282">Run the following command in to get the current size and total number of items in folders and subfolders in the Recoverable Items folder in the user's primary mailbox.</span></span>
  
```powershell
Get-MailboxFolderStatistics <username> -FolderScope RecoverableItems | FL Name,FolderAndSubfolderSize,ItemsInFolderAndSubfolders
```

<span data-ttu-id="b31ea-283">Eseguire il seguente comando per ottenere le dimensioni e il numero totale di elementi nelle cartelle e nelle sottocartelle della cartella elementi ripristinabili nella cassetta postale di archiviazione dell'utente.</span><span class="sxs-lookup"><span data-stu-id="b31ea-283">Run the following command to get the size and total number of items in folders and subfolders in the Recoverable Items folder in the user's archive mailbox.</span></span>

```powershell
Get-MailboxFolderStatistics <username> -FolderScope RecoverableItems -Archive | FL Name,FolderAndSubfolderSize,ItemsInFolderAndSubfolders
```

## <a name="step-6-revert-the-mailbox-to-its-previous-state"></a><span data-ttu-id="b31ea-284">Passaggio 6: ripristinare lo stato precedente della cassetta postale</span><span class="sxs-lookup"><span data-stu-id="b31ea-284">Step 6: Revert the mailbox to its previous state</span></span>

<span data-ttu-id="b31ea-285">Il passaggio finale consiste nel ripristinare la configurazione precedente della cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="b31ea-285">The final step is to revert the mailbox back to its previous configuration.</span></span> <span data-ttu-id="b31ea-286">Questo significa reimpostare le proprietà modificate nel passaggio 2 e riapplicare le esenzioni rimosse al passaggio 3.</span><span class="sxs-lookup"><span data-stu-id="b31ea-286">This means resetting the properties that you changed in Step 2 and reapplying the holds that you removed in Step 3.</span></span> <span data-ttu-id="b31ea-287">Ciò include:</span><span class="sxs-lookup"><span data-stu-id="b31ea-287">This includes:</span></span>
  
- <span data-ttu-id="b31ea-288">Modifica del periodo di conservazione degli elementi eliminati sul valore precedente.</span><span class="sxs-lookup"><span data-stu-id="b31ea-288">Changing the deleted item retention period back to its previous value.</span></span> <span data-ttu-id="b31ea-289">In alternativa, è possibile lasciare questo set a 30 giorni, ovvero il valore massimo in Exchange Online.</span><span class="sxs-lookup"><span data-stu-id="b31ea-289">Alternatively, you can just leave this set to 30 days, the maximum value in Exchange Online.</span></span>

- <span data-ttu-id="b31ea-290">Riattivazione del ripristino di un singolo elemento.</span><span class="sxs-lookup"><span data-stu-id="b31ea-290">Re-enabling single Item recovery.</span></span>

- <span data-ttu-id="b31ea-291">Riattivare i metodi di accesso client in modo che il proprietario possa accedere alla propria cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="b31ea-291">Re-enabling the client access methods so that the owner can access their mailbox.</span></span>

- <span data-ttu-id="b31ea-292">Riapplicare le esenzioni e i criteri di conservazione rimossi.</span><span class="sxs-lookup"><span data-stu-id="b31ea-292">Reapplying the holds and retention policies that you removed.</span></span>

- <span data-ttu-id="b31ea-293">Riattivare l'Assistente cartelle gestite per elaborare la cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="b31ea-293">Re-enabling the Managed Folder Assistant to process the mailbox.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="b31ea-294">È consigliabile attendere 24 ore dopo la riapplicazione di un blocco o un criterio di conservazione (e verificare che sia sul posto) prima di riabilitare l'Assistente cartelle gestite per elaborare la cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="b31ea-294">We recommend that you wait 24 hours after re-applying a hold or retention policy (and verifying that it's in place) before you re-enable the Managed Folder Assistant to process the mailbox.</span></span>
  
<span data-ttu-id="b31ea-295">Eseguire i passaggi seguenti (nella sequenza specificata) in PowerShell di Exchange Online.</span><span class="sxs-lookup"><span data-stu-id="b31ea-295">Perform the following steps (in the specified sequence) in Exchange Online PowerShell.</span></span>
  
1. <span data-ttu-id="b31ea-296">Eseguire il seguente comando per ripristinare il valore originale del periodo di conservazione degli elementi eliminati.</span><span class="sxs-lookup"><span data-stu-id="b31ea-296">Run the following command to change the deleted item retention period back to its original value.</span></span> <span data-ttu-id="b31ea-297">Si presuppone che l'impostazione precedente sia inferiore a 30 giorni. ad esempio, 14 giorni.</span><span class="sxs-lookup"><span data-stu-id="b31ea-297">This assumes that the previous setting is less than 30 days; for example, 14 days.</span></span>

    ```powershell
    Set-Mailbox <username> -RetainDeletedItemsFor 14
    ```

2. <span data-ttu-id="b31ea-298">Eseguire il seguente comando per riattivare il ripristino di un singolo elemento.</span><span class="sxs-lookup"><span data-stu-id="b31ea-298">Run the following command to re-enable single item recovery.</span></span>

    ```powershell
    Set-Mailbox <username> -SingleItemRecoveryEnabled $true
    ```

3. <span data-ttu-id="b31ea-299">Eseguire il seguente comando per riabilitare tutti i metodi di accesso client alla cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="b31ea-299">Run the following command to re-enable all client access methods to the mailbox.</span></span>

    ```powershell
    Set-CASMailbox <username> -EwsEnabled $true -ActiveSyncEnabled $true -MAPIEnabled $true -OWAEnabled $true -ImapEnabled $true -PopEnabled $true
    ```

4. <span data-ttu-id="b31ea-300">Riapplicare le esenzioni rimosse nel passaggio 3.</span><span class="sxs-lookup"><span data-stu-id="b31ea-300">Reapply the holds that you removed in Step 3.</span></span> <span data-ttu-id="b31ea-301">A seconda del tipo di blocco, utilizzare una delle procedure seguenti.</span><span class="sxs-lookup"><span data-stu-id="b31ea-301">Depending on the type of hold, use one of the following procedures.</span></span>

    <span data-ttu-id="b31ea-302">**Conservazione per controversia legale**</span><span class="sxs-lookup"><span data-stu-id="b31ea-302">**Litigation Hold**</span></span>

    <span data-ttu-id="b31ea-303">Eseguire il seguente comando per riattivare un blocco per controversia legale per la cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="b31ea-303">Run the following command to re-enable a Litigation Hold for the mailbox.</span></span>

    ```powershell
    Set-Mailbox <username> -LitigationHoldEnabled $true
    ```

    <span data-ttu-id="b31ea-304">**In-Place Hold**</span><span class="sxs-lookup"><span data-stu-id="b31ea-304">**In-Place Hold**</span></span>

    <span data-ttu-id="b31ea-305">Utilizzare EAC (o Exchange Online PowerShell) per aggiungere di nuovo la cassetta postale all'archiviazione sul posto.</span><span class="sxs-lookup"><span data-stu-id="b31ea-305">Use the EAC (or Exchange Online PowerShell) to add the mailbox back to the In-Place Hold.</span></span>

    <span data-ttu-id="b31ea-306">**Criteri di conservazione applicati a cassette postali specifiche**</span><span class="sxs-lookup"><span data-stu-id="b31ea-306">**Retention policies applied to specific mailboxes**</span></span>

    <span data-ttu-id="b31ea-307">Utilizzare il Centro sicurezza & conformità per aggiungere di nuovo la cassetta postale al criterio di conservazione.</span><span class="sxs-lookup"><span data-stu-id="b31ea-307">Use the Security & Compliance Center to add the mailbox back to the retention policy.</span></span> <span data-ttu-id="b31ea-308">Passare alla pagina conservazione della **governance delle informazioni**  >  **Retention** nel centro sicurezza & conformità, modificare il criterio di conservazione e aggiungere di nuovo la cassetta postale all'elenco dei destinatari a cui è applicato il criterio di conservazione.</span><span class="sxs-lookup"><span data-stu-id="b31ea-308">Go to the **Information governance** > **Retention** page in the Security & Compliance Center, edit the retention policy, and add the mailbox back to the list of recipients that the retention policy is applied to.</span></span>

    <span data-ttu-id="b31ea-309">**Criteri di conservazione a livello dell'organizzazione**</span><span class="sxs-lookup"><span data-stu-id="b31ea-309">**Organization-wide Retention policies**</span></span>

    <span data-ttu-id="b31ea-310">Se è stato rimosso un criterio di conservazione a livello di organizzazione o a livello di Exchange, escluderlo dal criterio, utilizzare il Centro sicurezza & conformità per rimuovere la cassetta postale dall'elenco degli utenti esclusi.</span><span class="sxs-lookup"><span data-stu-id="b31ea-310">If you removed an organization-wide or Exchange-wide retention policy by excluding it from the policy, then use the Security & Compliance Center to remove the mailbox from the list of excluded users.</span></span> <span data-ttu-id="b31ea-311">Passare alla pagina conservazione delle **informazioni di gestione**  >  **Retention** nel centro sicurezza & conformità, modificare il criterio di conservazione a livello dell'organizzazione e rimuovere la cassetta postale dall'elenco dei destinatari esclusi.</span><span class="sxs-lookup"><span data-stu-id="b31ea-311">Go to the **Information governance** > **Retention** page in the Security & Compliance Center, edit the organization-wide retention policy, and remove the mailbox from the list of excluded recipients.</span></span> <span data-ttu-id="b31ea-312">In questo modo verrà riapplicato il criterio di conservazione alla cassetta postale dell'utente.</span><span class="sxs-lookup"><span data-stu-id="b31ea-312">Doing this will reapply the retention policy to the user's mailbox.</span></span>

    <span data-ttu-id="b31ea-313">**blocco del caso di eDiscovery**</span><span class="sxs-lookup"><span data-stu-id="b31ea-313">**eDiscovery case holds**</span></span>

    <span data-ttu-id="b31ea-314">Utilizzare il Centro sicurezza & conformità per aggiungere la cassetta postale che è associata a un caso di eDiscovery.</span><span class="sxs-lookup"><span data-stu-id="b31ea-314">Use the Security & Compliance Center to add the mailbox back the hold that's associated with an eDiscovery case.</span></span> <span data-ttu-id="b31ea-315">Passare alla pagina **eDiscovery**  >  **eDiscovery** , aprire il caso e aggiungere di nuovo la cassetta postale all'esenzione.</span><span class="sxs-lookup"><span data-stu-id="b31ea-315">Go to the **eDiscovery** > **eDiscovery** page, open the case, and add the mailbox back to the hold.</span></span> 

5. <span data-ttu-id="b31ea-316">Eseguire il seguente comando per consentire all'Assistente cartelle gestite di elaborare di nuovo la cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="b31ea-316">Run the following command to allow the Managed Folder Assistant to process the mailbox again.</span></span> <span data-ttu-id="b31ea-317">Come indicato in precedenza, è consigliabile attendere 24 ore dopo la riapplicazione di un blocco o un criterio di conservazione e verificare che sia sul posto, prima di abilitare di nuovo l'Assistente cartelle gestite.</span><span class="sxs-lookup"><span data-stu-id="b31ea-317">As previously stated, we recommend that you wait 24 hours after reapplying a hold or retention policy (and verifying that it's in place) before you re-enable the Managed Folder Assistant.</span></span>

    ```powershell
    Set-Mailbox <username> -ElcProcessingDisabled $false
    ```

6. <span data-ttu-id="b31ea-318">Per verificare che la cassetta postale sia stata ripristinata alla configurazione precedente, è possibile eseguire i comandi seguenti e quindi confrontare le impostazioni con quelle raccolte nel passaggio 1.</span><span class="sxs-lookup"><span data-stu-id="b31ea-318">To verify that the mailbox has been reverted back to its previous configuration, you can run the following commands and then compare the settings to the ones that you collected in Step 1.</span></span>

    ```powershell
    Get-Mailbox <username> | FL ElcProcessingDisabled,InPlaceHolds,LitigationHoldEnabled,RetainDeletedItemsFor,SingleItemRecoveryEnabled
    ```

    ```powershell
    Get-CASMailbox <username> | FL EwsEnabled,ActiveSyncEnabled,MAPIEnabled,OWAEnabled,ImapEnabled,PopEnabled
    ```

## <a name="more-information"></a><span data-ttu-id="b31ea-319">Ulteriori informazioni</span><span class="sxs-lookup"><span data-stu-id="b31ea-319">More information</span></span>

<span data-ttu-id="b31ea-320">Di seguito viene riportata una tabella in cui viene descritto come identificare diversi tipi di esenzioni in base ai valori della proprietà  *InPlaceHolds*  quando si eseguono i cmdlet **Get-Mailbox** o **Get-OrganizationConfig** .</span><span class="sxs-lookup"><span data-stu-id="b31ea-320">Here's a table that describes how to identify different types of holds based on the values in the  *InPlaceHolds*  property when you run the **Get-Mailbox** or **Get-OrganizationConfig** cmdlets.</span></span> <span data-ttu-id="b31ea-321">Per informazioni più dettagliate, vedere [How to identificare il tipo di blocco posizionato su una cassetta postale di Exchange Online](identify-a-hold-on-an-exchange-online-mailbox.md).</span><span class="sxs-lookup"><span data-stu-id="b31ea-321">For more detailed information, see [How to identify the type of hold placed on an Exchange Online mailbox](identify-a-hold-on-an-exchange-online-mailbox.md).</span></span>

<span data-ttu-id="b31ea-322">Come spiegato in precedenza, è necessario rimuovere tutte le esenzioni e i criteri di conservazione da una cassetta postale prima di poter eliminare correttamente gli elementi nella cartella elementi ripristinabili.</span><span class="sxs-lookup"><span data-stu-id="b31ea-322">As previously explained, you have to remove all holds and retention policies from a mailbox before you can successfully delete items in the Recoverable Items folder.</span></span>
  
|<span data-ttu-id="b31ea-323">**Tipo di blocco**</span><span class="sxs-lookup"><span data-stu-id="b31ea-323">**Hold type**</span></span>|<span data-ttu-id="b31ea-324">**Valore di esempio**</span><span class="sxs-lookup"><span data-stu-id="b31ea-324">**Example value**</span></span>|<span data-ttu-id="b31ea-325">**Come identificare il blocco**</span><span class="sxs-lookup"><span data-stu-id="b31ea-325">**How to identify the hold**</span></span>|
|:-----|:-----|:-----|
|<span data-ttu-id="b31ea-326">Blocco per controversia legale</span><span class="sxs-lookup"><span data-stu-id="b31ea-326">Litigation Hold</span></span>  <br/> | `True` <br/> |<span data-ttu-id="b31ea-327">La proprietà  *LitigationHoldEnabled*  è impostata su  `True`.</span><span class="sxs-lookup"><span data-stu-id="b31ea-327">The  *LitigationHoldEnabled*  property is set to  `True`.</span></span>  <br/> |
|<span data-ttu-id="b31ea-328">Blocco sul posto</span><span class="sxs-lookup"><span data-stu-id="b31ea-328">In-Place Hold</span></span>  <br/> | `c0ba3ce811b6432a8751430937152491` <br/> |<span data-ttu-id="b31ea-329">La proprietà  *InPlaceHolds*  contiene il GUID del blocco sul posto applicato alla cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="b31ea-329">The  *InPlaceHolds*  property contains the GUID of the In-Place Hold that's placed on the mailbox.</span></span> <span data-ttu-id="b31ea-330">È possibile indicare che si tratta di un blocco sul posto poiché il GUID non inizia con un prefisso.</span><span class="sxs-lookup"><span data-stu-id="b31ea-330">You can tell this is an In-Place Hold because the GUID doesn't start with a prefix.</span></span>  <br/> <span data-ttu-id="b31ea-331">È possibile utilizzare il  `Get-MailboxSearch -InPlaceHoldIdentity <hold GUID> | FL` comando in PowerShell di Exchange Online per ottenere informazioni sul blocco sul posto sulla cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="b31ea-331">You can use the  `Get-MailboxSearch -InPlaceHoldIdentity <hold GUID> | FL` command in Exchange Online PowerShell to get information about the In-Place Hold on the mailbox.</span></span>  <br/> |
| <span data-ttu-id="b31ea-332">Criteri di conservazione nel centro sicurezza & Compliance applicato a cassette postali specifiche</span><span class="sxs-lookup"><span data-stu-id="b31ea-332">Retention policies in the Security & Compliance Center applied to specific mailboxes</span></span>  <br/> | `mbxcdbbb86ce60342489bff371876e7f224` <br/> <span data-ttu-id="b31ea-333">oppure</span><span class="sxs-lookup"><span data-stu-id="b31ea-333">or</span></span>  <br/>  `skp127d7cf1076947929bf136b7a2a8c36f` <br/> |<span data-ttu-id="b31ea-334">Quando si esegue il cmdlet **Get-Mailbox** , la proprietà  *InPlaceHolds*  contiene anche i GUID dei criteri di conservazione applicati alla cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="b31ea-334">When you run the **Get-Mailbox** cmdlet, the  *InPlaceHolds*  property also contains GUIDs of retention policies applied to the mailbox.</span></span> <span data-ttu-id="b31ea-335">È possibile identificare i criteri di conservazione perché il GUID inizia con il  `mbx` prefisso.</span><span class="sxs-lookup"><span data-stu-id="b31ea-335">You can identify retention policies because the GUID starts with the  `mbx` prefix.</span></span> <span data-ttu-id="b31ea-336">Se il GUID del criterio di conservazione inizia con il  `skp` prefisso, indica che il criterio di conservazione viene applicato alle conversazioni di Skype for business.</span><span class="sxs-lookup"><span data-stu-id="b31ea-336">If the GUID of the retention policy starts with the  `skp` prefix, that indicates that the retention policy is applied to Skype for Business conversations.</span></span>  <br/> <span data-ttu-id="b31ea-337">Per identificare i criteri di conservazione applicati alla cassetta postale, eseguire il comando seguente in PowerShell per il Centro sicurezza & Compliance:</span><span class="sxs-lookup"><span data-stu-id="b31ea-337">To identity the retention policy that's applied to the mailbox, run the following command in Security & Compliance Center PowerShell:</span></span> <br/> <br/>`Get-RetentionCompliancePolicy <retention policy GUID without prefix> | FL Name`<br/><br/><span data-ttu-id="b31ea-338">Assicurarsi di rimuovere il prefisso  `mbx` o  `skp` quando si esegue questo comando.</span><span class="sxs-lookup"><span data-stu-id="b31ea-338">Be sure to remove the  `mbx` or  `skp` prefix when you run this command.</span></span>  <br/> |
|<span data-ttu-id="b31ea-339">Criteri di conservazione a livello di organizzazione nel centro sicurezza & Compliance</span><span class="sxs-lookup"><span data-stu-id="b31ea-339">Organization-wide retention policies in the Security & Compliance Center</span></span>  <br/> |<span data-ttu-id="b31ea-340">Nessun valore</span><span class="sxs-lookup"><span data-stu-id="b31ea-340">No value</span></span>  <br/> <span data-ttu-id="b31ea-341">oppure</span><span class="sxs-lookup"><span data-stu-id="b31ea-341">or</span></span>  <br/>  <span data-ttu-id="b31ea-342">`-mbxe9b52bf7ab3b46a286308ecb29624696` (indica che la cassetta postale è esclusa da un criterio a livello di organizzazione)</span><span class="sxs-lookup"><span data-stu-id="b31ea-342">`-mbxe9b52bf7ab3b46a286308ecb29624696` (indicates that the mailbox is excluded from an organization-wide policy)</span></span>  <br/> |<span data-ttu-id="b31ea-343">Anche se la proprietà  *InPlaceHolds*  è vuota quando si esegue il cmdlet **Get-Mailbox** , è possibile che siano presenti almeno uno o più criteri di conservazione a livello di organizzazione applicati alla cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="b31ea-343">Even if the  *InPlaceHolds*  property is empty when you run the **Get-Mailbox** cmdlet, there still might be one or more organization-wide retention policies applied to the mailbox.</span></span>  <br/> <span data-ttu-id="b31ea-344">Per verificarlo, è possibile eseguire il  `Get-OrganizationConfig | FL InPlaceHolds` comando in Exchange Online PowerShell per ottenere un elenco dei GUID per i criteri di conservazione a livello dell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="b31ea-344">To verify this, you can run the  `Get-OrganizationConfig | FL InPlaceHolds` command in Exchange Online PowerShell to get a list of the GUIDs for organization-wide retention policies.</span></span> <span data-ttu-id="b31ea-345">Il GUID per i criteri di conservazione a livello dell'organizzazione applicati alle cassette postali di Exchange inizia con il  `mbx` prefisso, ad esempio  `mbxa3056bb15562480fadb46ce523ff7b02` .</span><span class="sxs-lookup"><span data-stu-id="b31ea-345">The GUID for organization-wide retention policies applied to Exchange mailboxes starts with the  `mbx` prefix; for example,  `mbxa3056bb15562480fadb46ce523ff7b02`.</span></span>  <br/> <span data-ttu-id="b31ea-346">Per identificare i criteri di conservazione a livello dell'organizzazione applicati alla cassetta postale, eseguire il comando seguente in PowerShell per il Centro sicurezza & Compliance:</span><span class="sxs-lookup"><span data-stu-id="b31ea-346">To identity the organization-wide retention policy that's applied to the mailbox, run the following command in Security & Compliance Center PowerShell:</span></span> <br/><br/> `Get-RetentionCompliancePolicy <retention policy GUID without prefix> | FL Name`<br/><br/><span data-ttu-id="b31ea-347">Se una cassetta postale è esclusa da un criterio di conservazione a livello dell'organizzazione, il GUID del criterio di conservazione viene visualizzato nella proprietà  *InPlaceHolds*  della cassetta postale dell'utente quando si esegue il cmdlet **Get-Mailbox** . viene identificato dal prefisso,  `-mbx` ad esempio  `-mbxe9b52bf7ab3b46a286308ecb29624696`</span><span class="sxs-lookup"><span data-stu-id="b31ea-347">If a mailbox is excluded from an organization-wide retention policy, the GUID for the retention policy is displayed in the  *InPlaceHolds*  property of the user's mailbox when you run the **Get-Mailbox** cmdlet; it's identified by the prefix  `-mbx`; for example,  `-mbxe9b52bf7ab3b46a286308ecb29624696`</span></span> <br/> |
|<span data-ttu-id="b31ea-348">blocco del caso di eDiscovery nel centro sicurezza & Compliance</span><span class="sxs-lookup"><span data-stu-id="b31ea-348">eDiscovery case hold in the Security & Compliance Center</span></span>  <br/> | `UniH7d895d48-7e23-4a8d-8346-533c3beac15d` <br/> |<span data-ttu-id="b31ea-349">La proprietà  *InPlaceHolds*  contiene inoltre il GUID di qualsiasi blocco associato a un caso di eDiscovery nel centro sicurezza & Compliance che potrebbe essere posizionato sulla cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="b31ea-349">The  *InPlaceHolds*  property also contains the GUID of any hold associated with an eDiscovery case in the Security & Compliance Center that might be placed on the mailbox.</span></span> <span data-ttu-id="b31ea-350">È possibile stabilire che si tratta di un blocco caso eDiscovery perché il GUID inizia con il prefisso  `UniH`.</span><span class="sxs-lookup"><span data-stu-id="b31ea-350">You can tell this is an eDiscovery case hold because the GUID starts with the  `UniH` prefix.</span></span>  <br/> <span data-ttu-id="b31ea-351">È possibile utilizzare il  `Get-CaseHoldPolicy` cmdlet in PowerShell per la sicurezza & Compliance Center per ottenere informazioni sul caso di eDiscovery a cui è associato il blocco sulla cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="b31ea-351">You can use the  `Get-CaseHoldPolicy` cmdlet in Security & Compliance Center PowerShell to get information about the eDiscovery case that the hold on the mailbox is associated with.</span></span> <span data-ttu-id="b31ea-352">Ad esempio, è possibile eseguire il comando  `Get-CaseHoldPolicy <hold GUID without prefix> | FL Name` per visualizzare il nome del blocco del caso che si trova nella cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="b31ea-352">For example, you can run the command  `Get-CaseHoldPolicy <hold GUID without prefix> | FL Name` to display the name of the case hold that's on the mailbox.</span></span> <span data-ttu-id="b31ea-353">Be sure to remove the  `UniH` quando si esegue questo comando.</span><span class="sxs-lookup"><span data-stu-id="b31ea-353">Be sure to remove the  `UniH` prefix when you run this command.</span></span>  <br/><br/> <span data-ttu-id="b31ea-354">Per identificare il caso di eDiscovery a cui è associato il blocco della cassetta postale, eseguire i comandi seguenti:</span><span class="sxs-lookup"><span data-stu-id="b31ea-354">To identity the eDiscovery case that the hold on the mailbox is associated with, run the following commands:</span></span><br/><br/>`$CaseHold = Get-CaseHoldPolicy <hold GUID without prefix>`<br/><br/>`Get-ComplianceCase $CaseHold.CaseId | FL Name`
