---
title: Eliminare gli elementi nella cartella Elementi ripristinabili dell'archiviazione della cassetta postale cloud
f1.keywords:
- NOCSH
ms.author: markjjo
author: markjjo
manager: laurawi
audience: Admin
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
ms.collection:
- Strat_O365_IP
- M365-security-compliance
search.appverid:
- MOE150
- MET150
ms.assetid: a85e1c87-a48e-4715-bfa9-d5275cde67b0
description: Informazioni su come gli amministratori possono eliminare gli elementi nella cartella Elementi ripristinabili di un utente per una cassetta postale di Exchange Online, anche se tale cassetta postale viene messa in conservazione legale.
ms.custom: seo-marvel-apr2020
ms.openlocfilehash: 776113bcd6141c4f01c2da61f0bd71f99cffd3e2
ms.sourcegitcommit: 68383240ef7a673d5f28e2ecfab9f105bf1d8c8f
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 05/11/2021
ms.locfileid: "52326643"
---
# <a name="delete-items-in-the-recoverable-items-folder-of-cloud-based-mailboxes-on-hold"></a><span data-ttu-id="90513-103">Eliminare gli elementi nella cartella Elementi recuperabili delle cassette postali basate su cloud con blocchi</span><span class="sxs-lookup"><span data-stu-id="90513-103">Delete items in the Recoverable Items folder of cloud-based mailboxes on hold</span></span>

<span data-ttu-id="90513-104">La cartella Elementi ripristinabili per una cassetta postale di Exchange Online esiste per proteggere da eliminazioni accidentali o dannose.</span><span class="sxs-lookup"><span data-stu-id="90513-104">The Recoverable Items folder for an Exchange Online mailbox exists to protect from accidental or malicious deletions.</span></span> <span data-ttu-id="90513-105">Viene inoltre utilizzato per archiviare gli elementi conservati e accessibili dalle funzionalità di conformità, ad esempio le esenzioni e le ricerche eDiscovery.</span><span class="sxs-lookup"><span data-stu-id="90513-105">It's also used to store items that are retained and accessed by compliance features, such as holds and eDiscovery searches.</span></span> <span data-ttu-id="90513-106">Tuttavia, in alcune situazioni le organizzazioni potrebbero avere dati che sono stati involontariamente conservati nella cartella Elementi ripristinabili che devono eliminare.</span><span class="sxs-lookup"><span data-stu-id="90513-106">However, in some situations organizations might have data that's been unintentionally retained in the Recoverable Items folder that they must delete.</span></span> <span data-ttu-id="90513-107">Ad esempio, un utente potrebbe inconsapevolmente inviare o inoltrare un messaggio di posta elettronica contenente informazioni riservate o informazioni che potrebbero avere gravi conseguenze aziendali.</span><span class="sxs-lookup"><span data-stu-id="90513-107">For example, a user might unknowingly send or forward an email message that contains sensitive information or information that may have serious business consequences.</span></span> <span data-ttu-id="90513-108">Anche se il messaggio viene eliminato definitivamente, potrebbe essere conservato a tempo indeterminato perché è stata impostata una conservazione legale sulla cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="90513-108">Even if the message is permanently deleted, it might be retained indefinitely because a legal hold has been placed on the mailbox.</span></span> <span data-ttu-id="90513-109">Questo scenario è noto come *perdita di dati* perché i dati sono stati accidentalmente riversati in Office 365. </span><span class="sxs-lookup"><span data-stu-id="90513-109">This scenario is known as *data spillage* because data has been unintentionally *spilled* into Office 365.</span></span> <span data-ttu-id="90513-110">In questi casi, è possibile eliminare gli elementi nella cartella Elementi ripristinabili di un utente per una cassetta postale di Exchange Online, anche se tale cassetta postale viene messa in attesa con una delle diverse funzionalità di blocco in Office 365.</span><span class="sxs-lookup"><span data-stu-id="90513-110">In these situations, you can delete items in a user's Recoverable Items folder for an Exchange Online mailbox, even if that mailbox is placed on hold with one of the different hold features in Office 365.</span></span> <span data-ttu-id="90513-111">Questi tipi di blocchi includono blocchi per controversia legale, In-Place, blocchi eDiscovery e criteri di conservazione creati nel Centro sicurezza e conformità in Office 365 o Microsoft 365.</span><span class="sxs-lookup"><span data-stu-id="90513-111">These types of holds include Litigation Holds, In-Place Holds, eDiscovery holds, and retention policies created in the security and compliance center in Office 365 or Microsoft 365.</span></span>

<span data-ttu-id="90513-112">In questo articolo viene illustrato come gli amministratori possono eliminare elementi dalla cartella Elementi ripristinabili per le cassette postali basate sul cloud in attesa.</span><span class="sxs-lookup"><span data-stu-id="90513-112">This article explains how admins can delete items from the Recoverable Items folder for cloud-based mailboxes that are on hold.</span></span> <span data-ttu-id="90513-113">Questa procedura prevede la disabilitazione dell'accesso alla cassetta postale e la disabilitazione del ripristino di un singolo elemento, la disabilitazione di Assistente cartelle gestite dall'elaborazione della cassetta postale, la rimozione temporanea del blocco, l'eliminazione di elementi dalla cartella Elementi ripristinabili e quindi il ripristino della configurazione precedente della cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="90513-113">This procedure involves disabling access to the mailbox and disabling single item recovery, disabling the Managed Folder Assistant from processing the mailbox, temporarily removing the hold, deleting items from the Recoverable Items folder, and then reverting the mailbox to its previous configuration.</span></span> <span data-ttu-id="90513-114">Ecco il processo:</span><span class="sxs-lookup"><span data-stu-id="90513-114">Here's the process:</span></span>
  
[<span data-ttu-id="90513-115">Passaggio 1: Raccogliere informazioni sulla cassetta postale</span><span class="sxs-lookup"><span data-stu-id="90513-115">Step 1: Collect information about the mailbox</span></span>](#step-1-collect-information-about-the-mailbox)

[<span data-ttu-id="90513-116">Passaggio 2: Preparare la cassetta postale</span><span class="sxs-lookup"><span data-stu-id="90513-116">Step 2: Prepare the mailbox</span></span>](#step-2-prepare-the-mailbox)

[<span data-ttu-id="90513-117">Passaggio 3: Rimuovere tutti i blocchi dalla cassetta postale</span><span class="sxs-lookup"><span data-stu-id="90513-117">Step 3: Remove all holds from the mailbox</span></span>](#step-3-remove-all-holds-from-the-mailbox)

[<span data-ttu-id="90513-118">Passaggio 4: Rimuovere il blocco di ritardo dalla cassetta postale</span><span class="sxs-lookup"><span data-stu-id="90513-118">Step 4: Remove the delay hold from the mailbox</span></span>](#step-4-remove-the-delay-hold-from-the-mailbox)

[<span data-ttu-id="90513-119">Passaggio 5: Eliminare gli elementi nella cartella Elementi ripristinabili</span><span class="sxs-lookup"><span data-stu-id="90513-119">Step 5: Delete items in the Recoverable Items folder</span></span>](#step-5-delete-items-in-the-recoverable-items-folder)

[<span data-ttu-id="90513-120">Passaggio 6: Ripristinare lo stato precedente della cassetta postale</span><span class="sxs-lookup"><span data-stu-id="90513-120">Step 6: Revert the mailbox to its previous state</span></span>](#step-6-revert-the-mailbox-to-its-previous-state)
  
> [!CAUTION]
> <span data-ttu-id="90513-121">Le procedure descritte in questo articolo comportano l'eliminazione definitiva (eliminazione) dei dati da una cassetta postale di Exchange Online.</span><span class="sxs-lookup"><span data-stu-id="90513-121">The procedures outlined in this article will result in data being permanently deleted (purged) from an Exchange Online mailbox.</span></span> <span data-ttu-id="90513-122">Ciò significa che i messaggi eliminati dalla cartella Elementi ripristinabili non possono essere ripristinati e non saranno disponibili per l'individuazione legale o altri scopi di conformità.</span><span class="sxs-lookup"><span data-stu-id="90513-122">That means messages that you delete from the Recoverable Items folder can't be recovered and won't be available for legal discovery or other compliance purposes.</span></span> <span data-ttu-id="90513-123">Se si desidera eliminare i messaggi da una cassetta postale che viene messa in attesa come parte di un blocco per controversia legale, un blocco di In-Place, un blocco eDiscovery o un criterio di conservazione creato nel Centro sicurezza e conformità, rivolgersi alla gestione dei record o ai reparti legali prima di rimuovere il blocco.</span><span class="sxs-lookup"><span data-stu-id="90513-123">If you want to delete messages from a mailbox that's placed on hold as part of a Litigation Hold, In-Place Hold, eDiscovery hold, or retention policy created in the security and compliance center, check with your records management or legal departments before removing the hold.</span></span> <span data-ttu-id="90513-124">L'organizzazione potrebbe avere un criterio che definisce se una cassetta postale in attesa o un evento imprevisto di perdita dei dati ha la priorità.</span><span class="sxs-lookup"><span data-stu-id="90513-124">Your organization might have a policy that defines whether a mailbox on hold or a data spillage incident takes priority.</span></span>
  
## <a name="before-you-delete-items"></a><span data-ttu-id="90513-125">Prima di eliminare elementi</span><span class="sxs-lookup"><span data-stu-id="90513-125">Before you delete items</span></span>

- <span data-ttu-id="90513-126">Per creare ed eseguire una ricerca di contenuto, è necessario essere un membro del gruppo di ruoli di gestione di eDiscovery o disporre del ruolo di gestione della ricerca di conformità.</span><span class="sxs-lookup"><span data-stu-id="90513-126">To create and run a Content Search, you have to be a member of the eDiscovery Manager role group or be assigned the Compliance Search management role.</span></span> <span data-ttu-id="90513-127">Per eliminare i messaggi, è necessario essere un membro del gruppo di ruoli Gestione organizzazione o disporre del ruolo di gestione di ricerca ed eliminazione.</span><span class="sxs-lookup"><span data-stu-id="90513-127">To delete messages, you have to be a member of the Organization Management role group or be assigned the Search And Purge management role.</span></span> <span data-ttu-id="90513-128">Per informazioni su come aggiungere gli utenti a un gruppo di ruoli, vedere [Assegnare autorizzazioni di eDiscovery nel Centro sicurezza e conformità](./assign-ediscovery-permissions.md).</span><span class="sxs-lookup"><span data-stu-id="90513-128">For information about adding users to a role group, see [Assign eDiscovery permissions in the Security & Compliance Center](./assign-ediscovery-permissions.md).</span></span>

- <span data-ttu-id="90513-129">La procedura descritta in questo articolo non è supportata per le cassette postali inattive.</span><span class="sxs-lookup"><span data-stu-id="90513-129">The procedure described in this article isn't supported for inactive mailboxes.</span></span> <span data-ttu-id="90513-130">Ciò è dovuto al fatto che non è possibile riapplicare un blocco (o un criterio di conservazione) a una cassetta postale inattiva dopo la rimozione.</span><span class="sxs-lookup"><span data-stu-id="90513-130">That's because you can't reapply a hold (or retention policy) to an inactive mailbox after you remove it.</span></span> <span data-ttu-id="90513-131">Quando si rimuove un blocco da una cassetta postale inattiva, questa viene modificata in una normale cassetta postale eliminata temporaneamente e verrà eliminata definitivamente dall'organizzazione dopo essere stata elaborata dall'Assistente cartelle gestite.</span><span class="sxs-lookup"><span data-stu-id="90513-131">When you remove a hold from an inactive mailbox, it's changed to a normal soft-deleted mailbox and will be permanently deleted from your organization after it's processed by the Managed Folder Assistant.</span></span>

- <span data-ttu-id="90513-132">Non è possibile eseguire questa procedura per una cassetta postale a cui sono state assegnate impostazioni di conservazione con un criterio bloccato utilizzando il blocco di conservazione.</span><span class="sxs-lookup"><span data-stu-id="90513-132">You can't perform this procedure for a mailbox that has been assigned retention settings with a policy that's locked by using Preservation Lock.</span></span> <span data-ttu-id="90513-133">Questo perché questo blocco impedisce di rimuovere o escludere la cassetta postale dal criterio e di disabilitare l'Assistente cartelle gestite nella cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="90513-133">That's because this lock prevents you from removing or excluding the mailbox from the policy and from disabling the Managed Folder Assistant on the mailbox.</span></span> <span data-ttu-id="90513-134">Per ulteriori informazioni sui criteri di blocco per la conservazione, vedere [Use Preservation Lock to restrict changes to retention policies and retention label policies.](retention-preservation-lock.md)</span><span class="sxs-lookup"><span data-stu-id="90513-134">For more information about locking policies for retention,see [Use Preservation Lock to restrict changes to retention policies and retention label policies](retention-preservation-lock.md).</span></span>

- <span data-ttu-id="90513-135">Se una cassetta postale non viene messa in attesa (o non ha il ripristino di un singolo elemento abilitato), è possibile eliminare gli elementi dalla cartella Elementi ripristinabili.</span><span class="sxs-lookup"><span data-stu-id="90513-135">If a mailbox isn't placed on hold (or doesn't have single item recovery enabled), you can delete the items from the Recoverable Items folder.</span></span> <span data-ttu-id="90513-136">Per ulteriori informazioni su come eseguire questa operazione, vedere Cercare ed eliminare messaggi [di posta elettronica nell'organizzazione.](./search-for-and-delete-messages-in-your-organization.md)</span><span class="sxs-lookup"><span data-stu-id="90513-136">For more information about how to do this, see [Search for and delete email messages in your organization](./search-for-and-delete-messages-in-your-organization.md).</span></span>
  
## <a name="step-1-collect-information-about-the-mailbox"></a><span data-ttu-id="90513-137">Passaggio 1: Raccogliere informazioni sulla cassetta postale</span><span class="sxs-lookup"><span data-stu-id="90513-137">Step 1: Collect information about the mailbox</span></span>

<span data-ttu-id="90513-138">Questo primo passaggio consiste nel raccogliere le proprietà selezionate dalla cassetta postale di destinazione che influiranno su questa procedura.</span><span class="sxs-lookup"><span data-stu-id="90513-138">This first step is to collect selected properties from the target mailbox that will affect this procedure.</span></span> <span data-ttu-id="90513-139">Assicurarsi di annotarle o salvarle in un file di testo perché alcune di queste proprietà verranno modificate e quindi ripristinare i valori originali nel passaggio 6, dopo aver eliminato gli elementi dalla cartella Elementi ripristinabili.</span><span class="sxs-lookup"><span data-stu-id="90513-139">Be sure to write down these settings or save them to a text file because you'll change some of these properties and then revert back to the original values in Step 6, after you delete items from the Recoverable Items folder.</span></span> <span data-ttu-id="90513-140">Ecco un elenco delle proprietà della cassetta postale che è necessario raccogliere.</span><span class="sxs-lookup"><span data-stu-id="90513-140">Here's a list of the mailbox properties you need to collect.</span></span>
  
- <span data-ttu-id="90513-141">*SingleItemRecoveryEnabled*  e  *RetainDeletedItemsFor*.</span><span class="sxs-lookup"><span data-stu-id="90513-141">*SingleItemRecoveryEnabled*  and  *RetainDeletedItemsFor*.</span></span> <span data-ttu-id="90513-142">Se necessario, si disabiliterà il ripristino singolo e si aumenterà il periodo di conservazione degli elementi eliminati nel passaggio 3.</span><span class="sxs-lookup"><span data-stu-id="90513-142">If necessary, you'll disable single recovery and increase the deleted items retention period in Step 3.</span></span>

- <span data-ttu-id="90513-143">*LitigationHoldEnabled*  e  *InPlaceHolds*.</span><span class="sxs-lookup"><span data-stu-id="90513-143">*LitigationHoldEnabled*  and  *InPlaceHolds*.</span></span> <span data-ttu-id="90513-144">È necessario identificare tutti i blocchi inseriti nella cassetta postale in modo da poterli rimuovere temporaneamente nel passaggio 3.</span><span class="sxs-lookup"><span data-stu-id="90513-144">You need to identify all the holds placed on the mailbox so that you can temporarily remove them in Step 3.</span></span> <span data-ttu-id="90513-145">Vedere la [sezione Ulteriori informazioni](#more-information) per suggerimenti su come identificare il tipo di blocco che potrebbe essere posizionato su una cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="90513-145">See the [More information](#more-information) section for tips about how to identify the type hold that might be placed on a mailbox.</span></span>

<span data-ttu-id="90513-146">Inoltre, è necessario ottenere le impostazioni di accesso client delle cassette postali in modo da poterle disabilitare temporaneamente in modo che il proprietario (o altri utenti) non possa accedere alla cassetta postale durante questa procedura.</span><span class="sxs-lookup"><span data-stu-id="90513-146">Additionally, you need to get the mailbox client access settings so you can temporarily disable them so the owner (or other users) can't access the mailbox during this procedure.</span></span> <span data-ttu-id="90513-147">Infine, è possibile ottenere le dimensioni correnti e il numero di elementi nella cartella Elementi ripristinabili.</span><span class="sxs-lookup"><span data-stu-id="90513-147">Finally, you can get the current size and number of items in the Recoverable Items folder.</span></span> <span data-ttu-id="90513-148">Dopo aver eliminato gli elementi nella cartella Elementi ripristinabili nel passaggio 5, queste informazioni verranno utilizzate per verificare che gli elementi siano stati rimossi.</span><span class="sxs-lookup"><span data-stu-id="90513-148">After you delete items in the Recoverable Items folder in Step 5, you'll use this information to verify that items were removed.</span></span>
  
1. <span data-ttu-id="90513-149">[Connettersi a PowerShell per Exchange Online](/powershell/exchange/connect-to-exchange-online-powershell).</span><span class="sxs-lookup"><span data-stu-id="90513-149">[Connect to Exchange Online PowerShell](/powershell/exchange/connect-to-exchange-online-powershell).</span></span> <span data-ttu-id="90513-150">Assicurarsi di utilizzare un nome utente e una password per un account amministratore a cui sono stati assegnati i ruoli di gestione appropriati in Exchange Online.</span><span class="sxs-lookup"><span data-stu-id="90513-150">Be sure to use a user name and password for an administrator account that's been assigned the appropriate management roles in Exchange Online.</span></span>

2. <span data-ttu-id="90513-151">Eseguire il comando seguente per ottenere informazioni sul ripristino di un singolo elemento e sul periodo di conservazione degli elementi eliminati.</span><span class="sxs-lookup"><span data-stu-id="90513-151">Run the following command to get information about single item recovery and the deleted item retention period.</span></span>

    ```powershell
    Get-Mailbox <username> | FL SingleItemRecoveryEnabled,RetainDeletedItemsFor
    ```

   <span data-ttu-id="90513-152">Se è abilitato il ripristino di un singolo elemento, sarà necessario disabilitarlo nel passaggio 2.</span><span class="sxs-lookup"><span data-stu-id="90513-152">If single item recovery is enabled, you'll have to disable it in Step 2.</span></span> <span data-ttu-id="90513-153">Se il periodo di conservazione degli elementi eliminati non è impostato per 30 giorni (il valore massimo in Exchange Online), è possibile aumentarlo nel passaggio 2.</span><span class="sxs-lookup"><span data-stu-id="90513-153">If the deleted item retention period isn't set for 30 days (the maximum value in Exchange Online), then you can increase it in Step 2.</span></span>

3. <span data-ttu-id="90513-154">Eseguire il seguente comando per ottenere le impostazioni di accesso alla cassetta postale per la cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="90513-154">Run the following command to get the mailbox access settings for the mailbox.</span></span>

    ```powershell
    Get-CASMailbox <username> | FL EwsEnabled,ActiveSyncEnabled,MAPIEnabled,OWAEnabled,ImapEnabled,PopEnabled
    ```

   <span data-ttu-id="90513-155">Tutti questi metodi di accesso verranno disabilitati nel passaggio 2.</span><span class="sxs-lookup"><span data-stu-id="90513-155">You'll disable all of these access methods in Step 2.</span></span>

4. <span data-ttu-id="90513-156">Eseguire il comando seguente per ottenere informazioni sui blocchi e sui criteri di conservazione applicati alla cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="90513-156">Run the following command to get information about the holds and retention policies applied to the mailbox.</span></span>

    ```powershell
    Get-Mailbox <username> | FL LitigationHoldEnabled,InPlaceHolds
    ```

    > [!TIP]
    > <span data-ttu-id="90513-157">Se nella proprietà  *InPlaceHolds*  sono presenti troppi valori e non vengono visualizzati tutti, è possibile eseguire il comando per visualizzare ogni valore su  `Get-Mailbox <username> | Select-Object -ExpandProperty InPlaceHolds` una riga separata.</span><span class="sxs-lookup"><span data-stu-id="90513-157">If there are too many values in the  *InPlaceHolds*  property and not all of them are displayed, you can run the  `Get-Mailbox <username> | Select-Object -ExpandProperty InPlaceHolds` command to display each value on a separate line.</span></span>
  
5. <span data-ttu-id="90513-158">Eseguire il comando seguente per ottenere informazioni sui criteri di conservazione a livello di organizzazione.</span><span class="sxs-lookup"><span data-stu-id="90513-158">Run the following command to get information about any organization-wide retention policies.</span></span> 

    ```powershell
    Get-OrganizationConfig | FL InPlaceHolds
    ```

   <span data-ttu-id="90513-159">Se l'organizzazione dispone di criteri di conservazione a livello di organizzazione, sarà necessario escludere la cassetta postale da questi criteri nel passaggio 3.</span><span class="sxs-lookup"><span data-stu-id="90513-159">If your organization has any organization-wide retention policies, you'll have to exclude the mailbox from these policies in Step 3.</span></span> <span data-ttu-id="90513-160">La replica della modifica può richiedere fino a 24 ore.</span><span class="sxs-lookup"><span data-stu-id="90513-160">It may take up to 24 hours to replicate the change.</span></span>

    > [!TIP]
    > <span data-ttu-id="90513-161">Se nella proprietà  *InPlaceHolds*  sono presenti troppi valori e non vengono visualizzati tutti, è possibile eseguire il comando per visualizzare ogni valore su  `Get-OrganizationConfig | Select-Object -ExpandProperty InPlaceHolds` una riga separata.</span><span class="sxs-lookup"><span data-stu-id="90513-161">If there are too many values in the  *InPlaceHolds*  property and not all of them are displayed, you can run the  `Get-OrganizationConfig | Select-Object -ExpandProperty InPlaceHolds` command to display each value on a separate line.</span></span> 
  
6. <span data-ttu-id="90513-162">Eseguire il comando seguente per determinare se alla cassetta postale viene applicato un blocco di ritardo.</span><span class="sxs-lookup"><span data-stu-id="90513-162">Run the following command to determine if a delay hold is applied to the mailbox.</span></span>

   ```powershell
   Get-Mailbox <username> | FL DelayHoldApplied,DelayReleaseHoldApplied
   ```

   <span data-ttu-id="90513-163">Se il valore della proprietà *DelayHoldApplied* o *DelayReleaseHoldApplied* è impostato su **True,** alla cassetta postale viene applicato un blocco di ritardo che deve essere rimosso.</span><span class="sxs-lookup"><span data-stu-id="90513-163">If the value of the *DelayHoldApplied* or *DelayReleaseHoldApplied* property is set to **True**, a delay hold is applied to the mailbox and must be removed.</span></span> <span data-ttu-id="90513-164">Per ulteriori informazioni sui blocchi di ritardo, vedere [Passaggio 4: Rimuovere il](#step-4-remove-the-delay-hold-from-the-mailbox)blocco di ritardo dalla cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="90513-164">For more information about delay holds, see [Step 4: Remove the delay hold from the mailbox](#step-4-remove-the-delay-hold-from-the-mailbox).</span></span>

   <span data-ttu-id="90513-165">Se il valore di entrambe le proprietà è impostato su **False**, alla cassetta postale non viene applicato un blocco di ritardo ed è possibile ignorare il passaggio 4.</span><span class="sxs-lookup"><span data-stu-id="90513-165">If the value of either properties is set to **False**, a delay hold is not applied to the mailbox, and you can skip Step 4.</span></span>

7. <span data-ttu-id="90513-166">Eseguire il comando seguente per ottenere le dimensioni correnti e il numero totale di elementi nelle cartelle e nelle sottocartelle nella cartella Elementi ripristinabili nella cassetta postale principale dell'utente.</span><span class="sxs-lookup"><span data-stu-id="90513-166">Run the following command to get the current size and total number of items in folders and subfolders in the Recoverable Items folder in the user's primary mailbox.</span></span>

    ```powershell
    Get-MailboxFolderStatistics <username> -FolderScope RecoverableItems | FL Name,FolderAndSubfolderSize,ItemsInFolderAndSubfolders
    ```

   <span data-ttu-id="90513-167">Se la cassetta postale di archiviazione dell'utente è abilitata, eseguire il comando seguente per ottenere le dimensioni e il numero totale di elementi nelle cartelle e nelle sottocartelle nella cartella Elementi ripristinabili nella cassetta postale di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="90513-167">If the user's archive mailbox is enabled, run the following command to get the size and total number of items in folders and subfolders in the Recoverable Items folder in their archive mailbox.</span></span> 

    ```powershell
    Get-MailboxFolderStatistics <username> -FolderScope RecoverableItems -Archive | FL Name,FolderAndSubfolderSize,ItemsInFolderAndSubfolders
    ```

   <span data-ttu-id="90513-168">Quando si eliminano elementi nel passaggio 5, è possibile scegliere di eliminare o meno gli elementi nella cartella Elementi ripristinabili nella cassetta postale di archiviazione principale dell'utente.</span><span class="sxs-lookup"><span data-stu-id="90513-168">When you delete items in Step 5, you can choose to delete or not delete items in the Recoverable Items folder in the user's primary archive mailbox.</span></span> <span data-ttu-id="90513-169">Se l'archiviazione con espansione automatica è abilitata per la cassetta postale, gli elementi in una cassetta postale di archiviazione ausiliaria non verranno eliminati.</span><span class="sxs-lookup"><span data-stu-id="90513-169">If auto-expanding archiving is enabled for the mailbox, items in an auxiliary archive mailbox won't be deleted.</span></span>
  
## <a name="step-2-prepare-the-mailbox"></a><span data-ttu-id="90513-170">Passaggio 2: Preparare la cassetta postale</span><span class="sxs-lookup"><span data-stu-id="90513-170">Step 2: Prepare the mailbox</span></span>

<span data-ttu-id="90513-171">Dopo aver raccolto e salvato le informazioni sulla cassetta postale, il passaggio successivo consiste nel preparare la cassetta postale eseguendo le attività seguenti:</span><span class="sxs-lookup"><span data-stu-id="90513-171">After collecting and saving information about the mailbox, the next step is to prepare the mailbox by performing the following tasks:</span></span>
  
- <span data-ttu-id="90513-172">**Disabilitare l'accesso client** alla cassetta postale in modo che il proprietario della cassetta postale non possa accedere alla propria cassetta postale e apportare modifiche ai dati della cassetta postale durante questa procedura.</span><span class="sxs-lookup"><span data-stu-id="90513-172">**Disable client access to mailbox** so that the mailbox owner can't access their mailbox and make any changes to the mailbox data during this procedure.</span></span>

- <span data-ttu-id="90513-173">**Aumentare** il periodo di conservazione degli elementi eliminati a 30 giorni (il valore massimo in Exchange Online) in modo che gli elementi non siano eliminati dalla cartella Elementi ripristinabili prima di poterli eliminare nel passaggio 5.</span><span class="sxs-lookup"><span data-stu-id="90513-173">**Increase the deleted item retention period** to 30 days (the maximum value in Exchange Online) so that items aren't purged from the Recoverable Items folder before you can delete them in Step 5.</span></span>

- <span data-ttu-id="90513-174">**Disabilitare il** ripristino di un singolo elemento in modo che gli elementi non siano conservati (per la durata del periodo di conservazione degli elementi eliminati) dopo averli eliminati dalla cartella Elementi ripristinabili nel passaggio 5.</span><span class="sxs-lookup"><span data-stu-id="90513-174">**Disable single Item recovery** so that items won't be retained (for the duration of the deleted item retention period) after you delete them from the Recoverable Items folder in Step 5.</span></span>

- <span data-ttu-id="90513-175">**Disabilitare l'Assistente** cartelle gestite in modo che non elava la cassetta postale e conservi gli elementi eliminati nel passaggio 5.</span><span class="sxs-lookup"><span data-stu-id="90513-175">**Disable the Managed Folder Assistant** so that it doesn't process the mailbox and retain the items that you delete in Step 5.</span></span>

<span data-ttu-id="90513-176">Eseguire la procedura seguente in PowerShell di Exchange Online.</span><span class="sxs-lookup"><span data-stu-id="90513-176">Perform the following steps in Exchange Online PowerShell.</span></span>
  
1. <span data-ttu-id="90513-177">Eseguire il comando seguente per disabilitare tutti gli accessi client alla cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="90513-177">Run the following command to disable all client access to the mailbox.</span></span> <span data-ttu-id="90513-178">La sintassi del comando presuppone che tutti i metodi di accesso client siano stati abilitati nella cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="90513-178">The command syntax assumes that all client access methods were enabled on the mailbox.</span></span>

    ```powershell
    Set-CASMailbox <username> -EwsEnabled $false -ActiveSyncEnabled $false -MAPIEnabled $false -OWAEnabled $false -ImapEnabled $false -PopEnabled $false
    ```

    > [!NOTE]
    > <span data-ttu-id="90513-179">La disabilitazione di tutti i metodi di accesso client alla cassetta postale potrebbe richiedere fino a 60 minuti.</span><span class="sxs-lookup"><span data-stu-id="90513-179">It might take up to 60 minutes to disable all client access methods to the mailbox.</span></span> <span data-ttu-id="90513-180">Si noti che la disabilitazione di questi metodi di accesso non disconnetterà il proprietario della cassetta postale se è attualmente connesso.</span><span class="sxs-lookup"><span data-stu-id="90513-180">Note that disabling these access methods won't disconnect the mailbox owner if they are currently signed in.</span></span> <span data-ttu-id="90513-181">Se il proprietario non ha eseguito l'accesso, non potrà accedere alla propria cassetta postale dopo che questi metodi di accesso sono stati disabilitati.</span><span class="sxs-lookup"><span data-stu-id="90513-181">If the owner isn't signed in, they won't be able to access their mailbox after these access methods are disabled.</span></span>
  
2. <span data-ttu-id="90513-182">Eseguire il comando seguente per aumentare il periodo di conservazione degli elementi eliminati per un massimo di 30 giorni.</span><span class="sxs-lookup"><span data-stu-id="90513-182">Run the following command to increase the deleted item retention period the maximum of 30 days.</span></span> <span data-ttu-id="90513-183">Si presuppone che l'impostazione corrente sia inferiore a 30 giorni.</span><span class="sxs-lookup"><span data-stu-id="90513-183">This assumes that the current setting is less than 30 days.</span></span>

    ```powershell
    Set-Mailbox <username> -RetainDeletedItemsFor 30
    ```

3. <span data-ttu-id="90513-184">Eseguire il comando seguente per disabilitare il ripristino di un singolo elemento.</span><span class="sxs-lookup"><span data-stu-id="90513-184">Run the following command to disable single item recovery.</span></span>

    ```powershell
    Set-Mailbox <username> -SingleItemRecoveryEnabled $false
    ```

    > [!NOTE]
    > <span data-ttu-id="90513-185">La disabilitazione del ripristino di un singolo elemento potrebbe richiedere fino a 60 minuti.</span><span class="sxs-lookup"><span data-stu-id="90513-185">It might take up to 60 minutes to disable single item recovery.</span></span> <span data-ttu-id="90513-186">Non eliminare gli elementi nella cartella Elementi ripristinabili fino al termine di questo periodo.</span><span class="sxs-lookup"><span data-stu-id="90513-186">Don't delete items in the Recoverable Items folder until this period has elapsed.</span></span> 
  
4. <span data-ttu-id="90513-187">Eseguire il comando seguente per impedire all'Assistente cartelle gestite di elaborare la cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="90513-187">Run the following command to prevent the Managed Folder Assistant from processing the mailbox.</span></span> <span data-ttu-id="90513-188">Come spiegato in precedenza, è possibile disabilitare l'Assistente cartelle gestite solo se alla cassetta postale non viene applicato un criterio di conservazione con un blocco di conservazione.</span><span class="sxs-lookup"><span data-stu-id="90513-188">As previously explained, you can disable the Managed Folder Assistant only if a retention policy with a Preservation Lock is not applied to the mailbox.</span></span> 

    ```powershell
    Set-Mailbox <username> -ElcProcessingDisabled $true
    ```

## <a name="step-3-remove-all-holds-from-the-mailbox"></a><span data-ttu-id="90513-189">Passaggio 3: Rimuovere tutti i blocchi dalla cassetta postale</span><span class="sxs-lookup"><span data-stu-id="90513-189">Step 3: Remove all holds from the mailbox</span></span>

<span data-ttu-id="90513-190">L'ultimo passaggio prima di poter eliminare gli elementi dalla cartella Elementi ripristinabili consiste nel rimuovere tutti i blocchi (identificati nel passaggio 1) inseriti nella cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="90513-190">The last step before you can delete items from the Recoverable Items folder is to remove all holds (that you identified in Step 1) placed on the mailbox.</span></span> <span data-ttu-id="90513-191">Tutte le esenzioni devono essere rimosse in modo che gli elementi non siano conservati dopo averli eliminati dalla cartella Elementi ripristinabili.</span><span class="sxs-lookup"><span data-stu-id="90513-191">All holds must be removed so that items won't be retained after you delete them from the Recoverable Items folder.</span></span> <span data-ttu-id="90513-192">Nelle sezioni seguenti sono contenute informazioni sulla rimozione di diversi tipi di blocchi in una cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="90513-192">The following sections contain information about removing different types of holds on a mailbox.</span></span> <span data-ttu-id="90513-193">Vedere la [sezione Ulteriori informazioni](#more-information) per suggerimenti su come identificare il tipo di blocco che potrebbe essere posizionato su una cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="90513-193">See the [More information](#more-information) section for tips about how to identify the type hold that might be placed on a mailbox.</span></span> <span data-ttu-id="90513-194">Per ulteriori informazioni, vedere [How to identify the type of hold placed on an Exchange Online mailbox](identify-a-hold-on-an-exchange-online-mailbox.md).</span><span class="sxs-lookup"><span data-stu-id="90513-194">For more information, see [How to identify the type of hold placed on an Exchange Online mailbox](identify-a-hold-on-an-exchange-online-mailbox.md).</span></span>
  
> [!CAUTION]
> <span data-ttu-id="90513-195">Come indicato in precedenza, rivolgersi alla gestione dei record o ai reparti legali prima di rimuovere un blocco da una cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="90513-195">As previously stated, check with your records management or legal departments before removing a hold from a mailbox.</span></span> 
  
### <a name="litigation-hold"></a><span data-ttu-id="90513-196">Conservazione in caso di dispute</span><span class="sxs-lookup"><span data-stu-id="90513-196">Litigation Hold</span></span>
  
<span data-ttu-id="90513-197">Eseguire il comando seguente in PowerShell di Exchange Online per rimuovere un blocco per controversia legale dalla cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="90513-197">Run the following command in Exchange Online PowerShell to remove a Litigation Hold from the mailbox.</span></span>

```powershell
Set-Mailbox <username> -LitigationHoldEnabled $false
```

> [!NOTE]
> <span data-ttu-id="90513-198">Analogamente alla disabilitazione dei metodi di accesso client e al ripristino di un singolo elemento, potrebbero essere necessario fino a 60 minuti per rimuovere il blocco per controversia legale.</span><span class="sxs-lookup"><span data-stu-id="90513-198">Similar to disabling the client access methods and single item recovery, it might take up to 60 minutes to remove the Litigation Hold.</span></span> <span data-ttu-id="90513-199">Non eliminare elementi dalla cartella Elementi ripristinabili fino al termine di questo periodo.</span><span class="sxs-lookup"><span data-stu-id="90513-199">Don't delete items from the Recoverable Items folder until this period has elapsed.</span></span> 
  
### <a name="in-place-hold"></a><span data-ttu-id="90513-200">Blocco sul posto</span><span class="sxs-lookup"><span data-stu-id="90513-200">In-Place Hold</span></span>
  
<span data-ttu-id="90513-201">Eseguire il comando seguente in PowerShell di Exchange Online per identificare In-Place blocco che viene eseguito sulla cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="90513-201">Run the following command in Exchange Online PowerShell to identify the In-Place Hold that's placed on the mailbox.</span></span> <span data-ttu-id="90513-202">Usa il GUID per il In-Place blocco che hai identificato nel passaggio 1.</span><span class="sxs-lookup"><span data-stu-id="90513-202">Use the GUID for the In-Place Hold that you identified in Step 1.</span></span>

```powershell
Get-MailboxSearch -InPlaceHoldIdentity <hold GUID> | FL Name
```

<span data-ttu-id="90513-203">Dopo aver identificato il blocco In-Place, è possibile utilizzare l'interfaccia di amministrazione di Exchange (EAC) o PowerShell di Exchange Online per rimuovere la cassetta postale dal blocco.</span><span class="sxs-lookup"><span data-stu-id="90513-203">After you identify the In-Place Hold, you can use the Exchange admin center (EAC) or Exchange Online PowerShell to remove the mailbox from the hold.</span></span> <span data-ttu-id="90513-204">Per ulteriori informazioni, vedere [Creare o rimuovere un'archiviazione sul posto](/exchange/security-and-compliance/create-or-remove-in-place-holds).</span><span class="sxs-lookup"><span data-stu-id="90513-204">For more information, see [Create or remove an In-Place Hold](/exchange/security-and-compliance/create-or-remove-in-place-holds).</span></span>
  
### <a name="retention-policies-applied-to-specific-mailboxes"></a><span data-ttu-id="90513-205">Criteri di conservazione applicati a cassette postali specifiche</span><span class="sxs-lookup"><span data-stu-id="90513-205">Retention policies applied to specific mailboxes</span></span>
  
<span data-ttu-id="90513-206">Eseguire il comando seguente in [PowerShell & Centro](/powershell/exchange/exchange-online-powershell) sicurezza e conformità per identificare i criteri di conservazione applicati alla cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="90513-206">Run the following command in [Security & Compliance Center PowerShell](/powershell/exchange/exchange-online-powershell) to identify the retention policy that is applied to the mailbox.</span></span> <span data-ttu-id="90513-207">Questo comando restituirà anche tutti i criteri di conservazione delle conversazioni di Teams applicati a una cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="90513-207">This command will also return any Teams conversation retention policies applied to a mailbox.</span></span> <span data-ttu-id="90513-208">Utilizzare il GUID (senza includere il prefisso o ) per il criterio `mbx` di conservazione identificato nel passaggio `skp` 1.</span><span class="sxs-lookup"><span data-stu-id="90513-208">Use the GUID (not including the `mbx` or `skp` prefix) for the retention policy that you identified in Step 1.</span></span>

```powershell
Get-RetentionCompliancePolicy <retention policy GUID without prefix> | FL Name
```

<span data-ttu-id="90513-209">Dopo aver identificato il criterio di conservazione, passare alla pagina Conservazione governance delle informazioni nel Centro sicurezza e conformità &, modificare il criterio di conservazione identificato nel passaggio precedente e rimuovere la cassetta postale dall'elenco dei destinatari inclusi nel criterio di  >   conservazione.</span><span class="sxs-lookup"><span data-stu-id="90513-209">After you identify the retention policy, go to the **Information governance** > **Retention** page in the Security & Compliance Center, edit the retention policy that you identified in the previous step, and remove the mailbox from the list of recipients that are included in the retention policy.</span></span>
  
### <a name="organization-wide-retention-policies"></a><span data-ttu-id="90513-210">Criteri di conservazione a livello di organizzazione</span><span class="sxs-lookup"><span data-stu-id="90513-210">Organization-wide retention policies</span></span>
  
<span data-ttu-id="90513-211">I criteri di conservazione a livello di organizzazione, a livello di Exchange e di Teams vengono applicati a tutte le cassette postali dell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="90513-211">Organization-wide, Exchange-wide, and Teams-wide retention policies are applied to every mailbox in the organization.</span></span> <span data-ttu-id="90513-212">Vengono applicati a livello di organizzazione (non a livello di cassetta postale) e vengono restituiti quando si esegue il cmdlet **Get-OrganizationConfig** nel passaggio 1.</span><span class="sxs-lookup"><span data-stu-id="90513-212">They are applied at the organization level (not the mailbox level) and are returned when you run the **Get-OrganizationConfig** cmdlet in Step 1.</span></span> <span data-ttu-id="90513-213">Eseguire il comando seguente in [PowerShell & Centro](/powershell/exchange/exchange-online-powershell) sicurezza e conformità per identificare i criteri di conservazione a livello di organizzazione.</span><span class="sxs-lookup"><span data-stu-id="90513-213">Run the following command in [Security & Compliance Center PowerShell](/powershell/exchange/exchange-online-powershell) to identify the organization-wide retention policies.</span></span> <span data-ttu-id="90513-214">Utilizzare il GUID (senza includere il prefisso) per i criteri di conservazione a livello di  `mbx` organizzazione identificati nel passaggio 1.</span><span class="sxs-lookup"><span data-stu-id="90513-214">Use the GUID (not including the  `mbx` prefix) for the organization-wide retention policies that you identified in Step 1.</span></span>

```powershell
Get-RetentionCompliancePolicy <retention policy GUID without prefix> | FL Name
```

<span data-ttu-id="90513-215">Dopo aver identificato i criteri di conservazione a livello di organizzazione, passare alla pagina Conservazione governance delle informazioni nel Centro sicurezza e conformità &, modificare ogni criterio di conservazione a livello di organizzazione identificato nel passaggio precedente e aggiungere la cassetta postale all'elenco dei destinatari  >   esclusi.</span><span class="sxs-lookup"><span data-stu-id="90513-215">After you identify the organization-wide retention policies, go to the **Information governance** > **Retention** page in the Security & Compliance Center, edit each organization-wide retention policy that you identified in the previous step, and add the mailbox to the list of excluded recipients.</span></span> <span data-ttu-id="90513-216">In questo modo la cassetta postale dell'utente verrà eliminata dal criterio di conservazione.</span><span class="sxs-lookup"><span data-stu-id="90513-216">Doing this will remove the user's mailbox from the retention policy.</span></span> <span data-ttu-id="90513-217">La replica della modifica può richiedere fino a 24 ore.</span><span class="sxs-lookup"><span data-stu-id="90513-217">It may take up to 24 hours to replicate the change.</span></span>

### <a name="retention-labels"></a><span data-ttu-id="90513-218">Etichette di conservazione</span><span class="sxs-lookup"><span data-stu-id="90513-218">Retention labels</span></span>

<span data-ttu-id="90513-219">Ogni volta che un utente applica un'etichetta configurata per conservare o conservare il contenuto e quindi eliminare il contenuto in qualsiasi cartella o elemento della cassetta postale, la proprietà della cassetta postale *ComplianceTagHoldApplied* viene impostata su **True.**</span><span class="sxs-lookup"><span data-stu-id="90513-219">Whenever a user applies a label that's configured to retain content or retain and then delete content to any folder or item in their mailbox, the *ComplianceTagHoldApplied* mailbox property is set to **True**.</span></span> <span data-ttu-id="90513-220">In questo caso, la cassetta postale viene considerata in attesa, come se fosse stata messa in conservazione per controversia legale o assegnata a un criterio di conservazione.</span><span class="sxs-lookup"><span data-stu-id="90513-220">When this happens, the mailbox is considered to be on hold, as if it was placed on Litigation Hold or assigned to a retention policy.</span></span>

<span data-ttu-id="90513-221">Per visualizzare il valore della *proprietà ComplianceTagHoldApplied,* eseguire il comando seguente in PowerShell di Exchange Online:</span><span class="sxs-lookup"><span data-stu-id="90513-221">To view the value of the *ComplianceTagHoldApplied* property, run the following command in Exchange Online PowerShell:</span></span>

```powershell
Get-Mailbox <username> |FL ComplianceTagHoldApplied
```

<span data-ttu-id="90513-222">Dopo aver identificato che una cassetta postale è in attesa perché un'etichetta di conservazione viene applicata a una cartella o a un elemento, è possibile utilizzare lo strumento Ricerca contenuto nel Centro sicurezza e conformità per cercare gli elementi etichettati utilizzando la condizione di ricerca ComplianceTag.</span><span class="sxs-lookup"><span data-stu-id="90513-222">After you've identified that a mailbox is on hold because a retention label is applied to a folder or item, you can use the Content Search tool in the security and compliance center to search for labeled items by using the ComplianceTag search condition.</span></span> <span data-ttu-id="90513-223">Per ulteriori informazioni, vedere la sezione "Condizioni di ricerca" in Query con parole chiave [e condizioni di ricerca per Ricerca contenuto.](keyword-queries-and-search-conditions.md#conditions-for-common-properties)</span><span class="sxs-lookup"><span data-stu-id="90513-223">For more information, see the "Search conditions" section in [Keyword queries and search conditions for Content Search](keyword-queries-and-search-conditions.md#conditions-for-common-properties).</span></span>

<span data-ttu-id="90513-224">Per ulteriori informazioni sulle etichette, vedere [Informazioni sui criteri di conservazione e sulle etichette di conservazione.](retention.md)</span><span class="sxs-lookup"><span data-stu-id="90513-224">For more information about labels, see [Learn about retention policies and retention labels](retention.md).</span></span>

### <a name="ediscovery-holds"></a><span data-ttu-id="90513-225">Blocchi di eDiscovery</span><span class="sxs-lookup"><span data-stu-id="90513-225">eDiscovery holds</span></span>
  
<span data-ttu-id="90513-226">Eseguire i comandi seguenti [in & PowerShell del](/powershell/exchange/connect-to-scc-powershell) Centro sicurezza e conformità per identificare il blocco associato a un caso di eDiscovery (denominato *eDiscovery blocchi)* applicato alla cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="90513-226">Run the following commands in [Security & Compliance Center PowerShell](/powershell/exchange/connect-to-scc-powershell) to identify the hold associated with an eDiscovery case (called *eDiscovery holds*) that's applied to the mailbox.</span></span> <span data-ttu-id="90513-227">Utilizzare il GUID (senza includere il prefisso) per il blocco  `UniH` di eDiscovery identificato nel passaggio 1.</span><span class="sxs-lookup"><span data-stu-id="90513-227">Use the GUID (not including the  `UniH` prefix) for the eDiscovery hold that you identified in Step 1.</span></span> <span data-ttu-id="90513-228">Nel secondo comando viene visualizzato il nome del caso di eDiscovery a cui è associato il blocco. il terzo comando visualizza il nome dell'esenzione.</span><span class="sxs-lookup"><span data-stu-id="90513-228">The second command displays the name of the eDiscovery case the hold is associated with; the third command displays the name of the hold.</span></span>
  
```powershell
$CaseHold = Get-CaseHoldPolicy <hold GUID without prefix>
```

```powershell
Get-ComplianceCase $CaseHold.CaseId | FL Name
```

```powershell
$CaseHold.Name
```

<span data-ttu-id="90513-229">Dopo aver identificato il nome del caso eDiscovery e  il blocco, passare alla pagina \> **eDiscovery di eDiscovery** nel Centro conformità, aprire il caso e rimuovere la cassetta postale dal blocco.</span><span class="sxs-lookup"><span data-stu-id="90513-229">After you've identified the name of the eDiscovery case and the hold, go to the **eDiscovery** \> **eDiscovery** page in the compliance center, open the case, and remove the mailbox from the hold.</span></span> <span data-ttu-id="90513-230">Per ulteriori informazioni sull'identificazione dei blocchi di eDiscovery, vedere la sezione relativa ai blocchi di eDiscovery in Come identificare il tipo di blocco effettuato su una cassetta postale [di Exchange Online.](identify-a-hold-on-an-exchange-online-mailbox.md#ediscovery-holds)</span><span class="sxs-lookup"><span data-stu-id="90513-230">For more information about identifying eDiscovery holds, see the "eDiscovery holds" section in [How to identify the type of hold placed on an Exchange Online mailbox](identify-a-hold-on-an-exchange-online-mailbox.md#ediscovery-holds).</span></span>
  
## <a name="step-4-remove-the-delay-hold-from-the-mailbox"></a><span data-ttu-id="90513-231">Passaggio 4: Rimuovere il blocco di ritardo dalla cassetta postale</span><span class="sxs-lookup"><span data-stu-id="90513-231">Step 4: Remove the delay hold from the mailbox</span></span>

<span data-ttu-id="90513-232">Dopo la rimozione di qualsiasi tipo di blocco da una cassetta postale, il valore della proprietà Della cassetta postale *DelayHoldApplied* o *DelayReleaseHoldApplied* viene impostato su **True.**</span><span class="sxs-lookup"><span data-stu-id="90513-232">After any type of hold is removed from a mailbox, the value of the *DelayHoldApplied* or *DelayReleaseHoldApplied* mailbox property is set to **True**.</span></span> <span data-ttu-id="90513-233">Ciò si verifica la volta successiva che l'Assistente cartelle gestite elabora la cassetta postale e rileva che un blocco è stato rimosso.</span><span class="sxs-lookup"><span data-stu-id="90513-233">This occurs the next time the Managed Folder Assistant processes the mailbox and detects that a hold has been removed.</span></span> <span data-ttu-id="90513-234">Si tratta  di un blocco di ritardo e significa che la rimozione effettiva del blocco viene ritardata per 30 giorni per evitare che i dati vengano eliminati definitivamente dalla cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="90513-234">This is called a *delay hold* and means the actual removal of the hold is delayed for 30 days to prevent data from being permanently deleted from the mailbox.</span></span> <span data-ttu-id="90513-235">Lo scopo di un blocco di ritardo è quello di offrire agli amministratori la possibilità di cercare o recuperare gli elementi delle cassette postali che verranno eliminati dopo la rimozione di un blocco.  Quando viene effettuato un blocco di ritardo sulla cassetta postale, la cassetta postale viene comunque considerata in attesa per una durata illimitata, come se la cassetta postale fosse in attesa per controversia legale.</span><span class="sxs-lookup"><span data-stu-id="90513-235">(The purpose of a delay hold is to give admins an opportunity to search for or recover mailbox items that will be purged after a hold is removed.)  When a delay hold is placed on the mailbox, the mailbox is still considered to be on hold for an unlimited duration, as if the mailbox was on Litigation Hold.</span></span> <span data-ttu-id="90513-236">Dopo 30 giorni, il blocco di ritardo scade e Microsoft 365 tenterà automaticamente di rimuovere il blocco di ritardo (impostando la proprietà *DelayHoldApplied* o *DelayReleaseHoldApplied* su **False)** in modo che il blocco venga rimosso.</span><span class="sxs-lookup"><span data-stu-id="90513-236">After 30 days, the delay hold expires, and Microsoft 365 will automatically attempt to remove the delay hold (by setting the *DelayHoldApplied* or *DelayReleaseHoldApplied* property to **False**) so that the hold is removed.</span></span> <span data-ttu-id="90513-237">Per ulteriori informazioni su un blocco di ritardo, vedere la sezione "Gestione delle cassette postali in attesa di ritardo" in Come identificare il tipo di blocco effettuato su una cassetta postale [di Exchange Online.](identify-a-hold-on-an-exchange-online-mailbox.md#managing-mailboxes-on-delay-hold)</span><span class="sxs-lookup"><span data-stu-id="90513-237">For more information about a delay hold, see the "Managing mailboxes on delay hold" section in [How to identify the type of hold placed on an Exchange Online mailbox](identify-a-hold-on-an-exchange-online-mailbox.md#managing-mailboxes-on-delay-hold).</span></span>

<span data-ttu-id="90513-238">Se il valore della proprietà *DelayHoldApplied* o *DelayReleaseHoldApplied* è impostato su **True,** eseguire uno dei comandi seguenti per rimuovere il blocco di ritardo:</span><span class="sxs-lookup"><span data-stu-id="90513-238">If the value of the *DelayHoldApplied* or *DelayReleaseHoldApplied* property is set to **True**, run one of the following commands to remove the delay hold:</span></span>

```powershell
Set-Mailbox <username> -RemoveDelayHoldApplied
```

<span data-ttu-id="90513-239">Oppure</span><span class="sxs-lookup"><span data-stu-id="90513-239">Or</span></span>

```powershell
Set-Mailbox <username> -RemoveDelayReleaseHoldApplied
```

<span data-ttu-id="90513-240">Per utilizzare il parametro *RemoveDelayHoldApplied* o *RemoveDelayReleaseHoldApplied,* è necessario disporre del ruolo di blocco legale in Exchange Online.</span><span class="sxs-lookup"><span data-stu-id="90513-240">You must be assigned the Legal Hold role in Exchange Online to use the *RemoveDelayHoldApplied* or *RemoveDelayReleaseHoldApplied* parameter.</span></span>

## <a name="step-5-delete-items-in-the-recoverable-items-folder"></a><span data-ttu-id="90513-241">Passaggio 5: Eliminare gli elementi nella cartella Elementi ripristinabili</span><span class="sxs-lookup"><span data-stu-id="90513-241">Step 5: Delete items in the Recoverable Items folder</span></span>

<span data-ttu-id="90513-242">Ora si è pronti per eliminare effettivamente gli elementi nella cartella Elementi ripristinabili utilizzando i cmdlet [New-ComplianceSearch](/powershell/module/exchange/new-compliancesearch) e [New-ComplianceSearchAction](/powershell/module/exchange/new-compliancesearchaction) in PowerShell del Centro sicurezza & conformità.</span><span class="sxs-lookup"><span data-stu-id="90513-242">Now you're ready to actually delete items in the Recoverable Items folder by using the [New-ComplianceSearch](/powershell/module/exchange/new-compliancesearch) and [New-ComplianceSearchAction](/powershell/module/exchange/new-compliancesearchaction) cmdlets in Security & Compliance Center PowerShell.</span></span>

<span data-ttu-id="90513-243">Per cercare gli elementi che si trovano nella cartella Elementi ripristinabili, è consigliabile eseguire una *raccolta di destinazione.*</span><span class="sxs-lookup"><span data-stu-id="90513-243">To search for items that are located in the Recoverable Items folder, we recommend that you perform a *targeted collection*.</span></span> <span data-ttu-id="90513-244">Ciò significa che l'ambito della ricerca viene ristretto solo agli elementi che si trovano nella cartella Elementi ripristinabili.</span><span class="sxs-lookup"><span data-stu-id="90513-244">This means you narrow the scope of your search only to items located in the Recoverable Items folder.</span></span> <span data-ttu-id="90513-245">A tale scopo, eseguire lo script [nell'articolo Use Content Search for targeted collections.](use-content-search-for-targeted-collections.md)</span><span class="sxs-lookup"><span data-stu-id="90513-245">You can do this by running the script in the [Use Content Search for targeted collections](use-content-search-for-targeted-collections.md) article.</span></span> <span data-ttu-id="90513-246">Questo script restituisce il valore della proprietà ID cartella per tutte le sottocartelle nella cartella elementi ripristinabili di destinazione.</span><span class="sxs-lookup"><span data-stu-id="90513-246">This script returns the value of the folder ID property for all the subfolders in the target Recoverable Items folder.</span></span> <span data-ttu-id="90513-247">Utilizzare quindi l'ID cartella in una query di ricerca per restituire gli elementi che si trovano in tale cartella.</span><span class="sxs-lookup"><span data-stu-id="90513-247">Then you use the folder ID in a search query to return items located in that folder.</span></span>

<span data-ttu-id="90513-248">Ecco una panoramica del processo di ricerca ed eliminazione di elementi nella cartella Elementi ripristinabili di un utente:</span><span class="sxs-lookup"><span data-stu-id="90513-248">Here's an overview of the process to search for and delete items in a user's Recoverable Items folder:</span></span>

1. <span data-ttu-id="90513-249">Eseguire lo script di raccolta di destinazione che restituisce gli ID cartella per tutte le cartelle nella cassetta postale dell'utente di destinazione.</span><span class="sxs-lookup"><span data-stu-id="90513-249">Run the targeted collection script that returns the folder IDs for all folders in the target user's mailbox.</span></span> <span data-ttu-id="90513-250">Lo script si connette a PowerShell di Exchange Online e & PowerShell di conformità nella stessa sessione di PowerShell.</span><span class="sxs-lookup"><span data-stu-id="90513-250">The script connects to Exchange Online PowerShell and Security & Compliance PowerShell in the same PowerShell session.</span></span> <span data-ttu-id="90513-251">Per ulteriori informazioni, vedere [Run the script to get a list of folders for a mailbox](use-content-search-for-targeted-collections.md#step-1-run-the-script-to-get-a-list-of-folders-for-a-mailbox-or-site).</span><span class="sxs-lookup"><span data-stu-id="90513-251">For more information, see [Run the script to get a list of folders for a mailbox](use-content-search-for-targeted-collections.md#step-1-run-the-script-to-get-a-list-of-folders-for-a-mailbox-or-site).</span></span>

2. <span data-ttu-id="90513-252">Copiare gli ID cartella per tutte le sottocartelle nella cartella Elementi ripristinabili.</span><span class="sxs-lookup"><span data-stu-id="90513-252">Copy the folder IDs for all subfolders in the Recoverable Items folder.</span></span> <span data-ttu-id="90513-253">In alternativa, è possibile reindirizzare l'output dello script a un file di testo.</span><span class="sxs-lookup"><span data-stu-id="90513-253">Alternatively, you can redirect the output of the script to a text file.</span></span>

   <span data-ttu-id="90513-254">Ecco un elenco e una descrizione delle sottocartelle nella cartella Elementi ripristinabili da cui è possibile cercare ed eliminare elementi da:</span><span class="sxs-lookup"><span data-stu-id="90513-254">Here's a list and description of the subfolders in the Recoverable Items folder that you can search and delete items from:</span></span>

   - <span data-ttu-id="90513-255">**Eliminazioni**: contiene gli elementi eliminati in modo recidiva il cui periodo di conservazione degli elementi eliminati non è scaduto.</span><span class="sxs-lookup"><span data-stu-id="90513-255">**Deletions**: Contains soft-deleted items whose deleted item retention period has not expired.</span></span> <span data-ttu-id="90513-256">Gli utenti possono recuperare gli elementi eliminati in modo reverso da questa sottocartella utilizzando lo strumento Recupera elementi eliminati in Outlook.</span><span class="sxs-lookup"><span data-stu-id="90513-256">Users can recover soft-deleted items from this subfolder using the Recover Deleted Items tool in Outlook.</span></span>

   - <span data-ttu-id="90513-257">**Eliminazioni**: contiene gli elementi eliminati definitivamente il cui periodo di conservazione degli elementi eliminati è scaduto.</span><span class="sxs-lookup"><span data-stu-id="90513-257">**Purges**: Contains hard-deleted items whose deleted item retention period has expired.</span></span> <span data-ttu-id="90513-258">Gli utenti possono anche eliminare definitivamente gli elementi cancellando gli elementi dalla cartella Elementi ripristinabili.</span><span class="sxs-lookup"><span data-stu-id="90513-258">Users can also hard-delete items by purging items from their Recoverable Items folder.</span></span> <span data-ttu-id="90513-259">Se la cassetta postale è in attesa, gli elementi eliminati definitivamente vengono mantenuti.</span><span class="sxs-lookup"><span data-stu-id="90513-259">If the mailbox is on hold, hard-deleted items are preserved.</span></span> <span data-ttu-id="90513-260">Questa sottocartella non è visibile agli utenti finali.</span><span class="sxs-lookup"><span data-stu-id="90513-260">This subfolder isn't visible to end users.</span></span>

   - <span data-ttu-id="90513-261">**DiscoveryHolds:** contiene gli elementi eliminati definitivamente che sono stati mantenuti da un blocco di eDiscovery o da un criterio di conservazione.</span><span class="sxs-lookup"><span data-stu-id="90513-261">**DiscoveryHolds**: Contains hard-deleted items that have been preserved by an eDiscovery hold or a retention policy.</span></span> <span data-ttu-id="90513-262">Questa sottocartella non è visibile agli utenti finali.</span><span class="sxs-lookup"><span data-stu-id="90513-262">This subfolder isn't visible to end users.</span></span>

   - <span data-ttu-id="90513-263">**SubstrateHolds**: contiene gli elementi eliminati definitivamente da Teams e altre app basate su cloud che sono state mantenute da un criterio di conservazione o da un altro tipo di blocco.</span><span class="sxs-lookup"><span data-stu-id="90513-263">**SubstrateHolds**: Contains hard-deleted items from Teams and other cloud-based apps that have been preserved by a retention policy or other type of hold.</span></span> <span data-ttu-id="90513-264">Questa sottocartella non è visibile agli utenti finali.</span><span class="sxs-lookup"><span data-stu-id="90513-264">This subfolder isn't visible to end users.</span></span>

3. <span data-ttu-id="90513-265">Utilizzare il cmdlet **New-ComplianceSearch** (in PowerShell del Centro sicurezza & conformità) o lo strumento ricerca contenuto nel Centro conformità per creare una ricerca di contenuto che restituisca gli elementi dalla cartella Elementi ripristinabili dell'utente di destinazione.</span><span class="sxs-lookup"><span data-stu-id="90513-265">Use the **New-ComplianceSearch** cmdlet (in Security & Compliance Center PowerShell) or use the Content search tool in the compliance center to create a content search that returns items from the target user's Recoverable Items folder.</span></span> <span data-ttu-id="90513-266">A tale scopo, includere FolderId nella query di ricerca per tutte le sottocartelle in cui si desidera eseguire la ricerca.</span><span class="sxs-lookup"><span data-stu-id="90513-266">You can do this by including the FolderId in the search query for all subfolders that you want to search.</span></span> <span data-ttu-id="90513-267">Ad esempio, la query seguente restituisce tutti i messaggi nelle sottocartelle Purges ed eDiscoveryHolds:</span><span class="sxs-lookup"><span data-stu-id="90513-267">For example, the following query returns all messages in the Purges and eDiscoveryHolds subfolders:</span></span>

   ```text
   folderid:<folder ID of Purges subfolder> OR folderid:<folder ID of DiscoveryHolds subfolder>
   ```

   <span data-ttu-id="90513-268">Per ulteriori informazioni ed esempi sull'esecuzione di ricerche di contenuto che utilizzano la proprietà ID cartella, vedere [Use a folder ID or to perform a targeted collection.](use-content-search-for-targeted-collections.md#step-2-use-a-folder-id-or-documentlink-to-perform-a-targeted-collection)</span><span class="sxs-lookup"><span data-stu-id="90513-268">For more information and examples about running content searches that use the folder ID property, see [Use a folder ID or to perform a targeted collection](use-content-search-for-targeted-collections.md#step-2-use-a-folder-id-or-documentlink-to-perform-a-targeted-collection).</span></span>

   > [!NOTE]
   > <span data-ttu-id="90513-269">Se si utilizza il cmdlet **New-ComplianceSearch** per cercare nella cartella Elementi ripristinabili, assicurarsi di utilizzare il cmdlet **Start-ComplianceSearch** per eseguire la ricerca.</span><span class="sxs-lookup"><span data-stu-id="90513-269">If you use the **New-ComplianceSearch** cmdlet to search the Recoverable Items folder, be sure to use **Start-ComplianceSearch** cmdlet to run the search.</span></span>

4. <span data-ttu-id="90513-270">Dopo aver creato una ricerca di contenuto e verificato che restituisca gli elementi che si desidera eliminare, utilizzare il comando (in PowerShell del Centro sicurezza & conformità) per eliminare definitivamente gli elementi restituiti dalla ricerca di contenuto creata nel `New-ComplianceSearchAction -Purge -PurgeType HardDelete` passaggio precedente.</span><span class="sxs-lookup"><span data-stu-id="90513-270">After you've created a content search and validated that it returns the items that you wan to delete, use the `New-ComplianceSearchAction -Purge -PurgeType HardDelete` command (in Security & Compliance Center PowerShell) to permanently delete the items returned by the content search that you created in the previous step.</span></span> <span data-ttu-id="90513-271">Ad esempio, è possibile eseguire un comando simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="90513-271">For example, you can run a command similar to the following command:</span></span>

   ```powershell
   New-ComplianceSearchAction -SearchName "RecoverableItems" -Purge -PurgeType HardDelete
   ```

5. <span data-ttu-id="90513-272">Quando si esegue il comando precedente, vengono eliminati un massimo di 10 elementi per cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="90513-272">A maximum of 10 items per mailbox are deleted when you run the previous command.</span></span> <span data-ttu-id="90513-273">Ciò significa che potrebbe essere necessario eseguire il comando più volte per eliminare tutti gli elementi che `New-ComplianceSearchAction -Purge` si desidera eliminare nella cartella Elementi ripristinabili.</span><span class="sxs-lookup"><span data-stu-id="90513-273">That means you may have to run the `New-ComplianceSearchAction -Purge` command multiple times to delete all the items that you want to delete in the Recoverable Items folder.</span></span> <span data-ttu-id="90513-274">Per eliminare altri elementi, è innanzitutto necessario rimuovere l'azione di eliminazione della ricerca di conformità precedente.</span><span class="sxs-lookup"><span data-stu-id="90513-274">To delete additional items, you first have to remove the previous compliance search purge action.</span></span> <span data-ttu-id="90513-275">A tale scopo, eseguire il `Remove-ComplianceSearchAction` cmdlet.</span><span class="sxs-lookup"><span data-stu-id="90513-275">You do this by running the `Remove-ComplianceSearchAction` cmdlet.</span></span> <span data-ttu-id="90513-276">Ad esempio, per eliminare l'azione di eliminazione eseguita nel passaggio precedente, eseguire il comando seguente:</span><span class="sxs-lookup"><span data-stu-id="90513-276">For example, to delete the purge action that was run in the previous step, run the following command:</span></span>

   ```powershell
   Remove-ComplianceSearchAction "RecoverableItems_Purge"
   ```

   <span data-ttu-id="90513-277">Dopo questa operazione, è possibile creare una nuova azione di eliminazione della ricerca di conformità per eliminare altri elementi.</span><span class="sxs-lookup"><span data-stu-id="90513-277">After you do this, you can create a new compliance search purge action to delete more items.</span></span> <span data-ttu-id="90513-278">Dovrai eliminare ogni azione di eliminazione prima di crearne una nuova.</span><span class="sxs-lookup"><span data-stu-id="90513-278">You'll have to delete each purge action before creating a new one.</span></span>

   <span data-ttu-id="90513-279">Per ottenere un elenco delle azioni di ricerca di conformità, è possibile eseguire il `Get-ComplianceSearchAction` cmdlet.</span><span class="sxs-lookup"><span data-stu-id="90513-279">To get a list of the compliance search actions, you can run the `Get-ComplianceSearchAction` cmdlet.</span></span> <span data-ttu-id="90513-280">Le azioni di eliminazione vengono identificate `_Purge` aggiungendo il nome della ricerca.</span><span class="sxs-lookup"><span data-stu-id="90513-280">Purge actions are identified by `_Purge` appended to the search name.</span></span>

### <a name="verify-that-items-were-deleted"></a><span data-ttu-id="90513-281">Verificare che gli elementi siano stati eliminati</span><span class="sxs-lookup"><span data-stu-id="90513-281">Verify that items were deleted</span></span>

<span data-ttu-id="90513-282">Per verificare la corretta eliminazione degli elementi dalla cartella Elementi ripristinabili di una cassetta postale, utilizzare il cmdlet **Get-MailboxFolderStatistics** in PowerShell di Exchange Online per controllare le dimensioni e il numero di elementi nella cartella Elementi ripristinabili.</span><span class="sxs-lookup"><span data-stu-id="90513-282">To verify that you've successfully deleted items from the Recoverable Items folder of a mailbox, use **Get-MailboxFolderStatistics** cmdlet in Exchange Online PowerShell to check the size and number of items in Recoverable Items folder.</span></span> <span data-ttu-id="90513-283">È possibile confrontare queste statistiche con quelle raccolte nel passaggio 1.</span><span class="sxs-lookup"><span data-stu-id="90513-283">You can compare these statistics with the ones you collected in Step 1.</span></span>
  
<span data-ttu-id="90513-284">Eseguire il comando seguente per ottenere le dimensioni correnti e il numero totale di elementi nelle cartelle e nelle sottocartelle nella cartella Elementi ripristinabili nella cassetta postale principale dell'utente.</span><span class="sxs-lookup"><span data-stu-id="90513-284">Run the following command in to get the current size and total number of items in folders and subfolders in the Recoverable Items folder in the user's primary mailbox.</span></span>
  
```powershell
Get-MailboxFolderStatistics <username> -FolderScope RecoverableItems | FL Name,FolderAndSubfolderSize,ItemsInFolderAndSubfolders
```

<span data-ttu-id="90513-285">Eseguire il comando seguente per ottenere le dimensioni e il numero totale di elementi nelle cartelle e nelle sottocartelle nella cartella Elementi ripristinabili nella cassetta postale di archiviazione dell'utente.</span><span class="sxs-lookup"><span data-stu-id="90513-285">Run the following command to get the size and total number of items in folders and subfolders in the Recoverable Items folder in the user's archive mailbox.</span></span>

```powershell
Get-MailboxFolderStatistics <username> -FolderScope RecoverableItems -Archive | FL Name,FolderAndSubfolderSize,ItemsInFolderAndSubfolders
```

## <a name="step-6-revert-the-mailbox-to-its-previous-state"></a><span data-ttu-id="90513-286">Passaggio 6: Ripristinare lo stato precedente della cassetta postale</span><span class="sxs-lookup"><span data-stu-id="90513-286">Step 6: Revert the mailbox to its previous state</span></span>

<span data-ttu-id="90513-287">Il passaggio finale consiste nel ripristinare la configurazione precedente della cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="90513-287">The final step is to revert the mailbox back to its previous configuration.</span></span> <span data-ttu-id="90513-288">Ciò significa reimpostare le proprietà modificate nel passaggio 2 e riapplicare le esenzioni rimosse nel passaggio 3.</span><span class="sxs-lookup"><span data-stu-id="90513-288">This means resetting the properties that you changed in Step 2 and reapplying the holds that you removed in Step 3.</span></span> <span data-ttu-id="90513-289">Tra questi vi sono anche:</span><span class="sxs-lookup"><span data-stu-id="90513-289">This includes:</span></span>
  
- <span data-ttu-id="90513-290">Modifica del periodo di conservazione degli elementi eliminati al valore precedente.</span><span class="sxs-lookup"><span data-stu-id="90513-290">Changing the deleted item retention period back to its previous value.</span></span> <span data-ttu-id="90513-291">In alternativa, è possibile lasciare questo valore impostato su 30 giorni, il valore massimo in Exchange Online.</span><span class="sxs-lookup"><span data-stu-id="90513-291">Alternatively, you can just leave this set to 30 days, the maximum value in Exchange Online.</span></span>

- <span data-ttu-id="90513-292">Ri-abilitazione del ripristino di un singolo elemento.</span><span class="sxs-lookup"><span data-stu-id="90513-292">Re-enabling single Item recovery.</span></span>

- <span data-ttu-id="90513-293">Ri-abilitazione dei metodi di accesso client in modo che il proprietario possa accedere alla propria cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="90513-293">Re-enabling the client access methods so that the owner can access their mailbox.</span></span>

- <span data-ttu-id="90513-294">Riapplicare i blocchi e i criteri di conservazione rimossi.</span><span class="sxs-lookup"><span data-stu-id="90513-294">Reapplying the holds and retention policies that you removed.</span></span>

- <span data-ttu-id="90513-295">Ri-abilitazione dell'Assistente cartelle gestite per elaborare la cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="90513-295">Re-enabling the Managed Folder Assistant to process the mailbox.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="90513-296">È consigliabile attendere 24 ore dopo la ri-applicazione di un criterio di conservazione o di conservazione (e verificarne la posizione) prima di ri abilitare l'Assistente cartelle gestite per elaborare la cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="90513-296">We recommend that you wait 24 hours after re-applying a hold or retention policy (and verifying that it's in place) before you re-enable the Managed Folder Assistant to process the mailbox.</span></span>
  
<span data-ttu-id="90513-297">Eseguire i passaggi seguenti (nella sequenza specificata) in PowerShell di Exchange Online.</span><span class="sxs-lookup"><span data-stu-id="90513-297">Perform the following steps (in the specified sequence) in Exchange Online PowerShell.</span></span>
  
1. <span data-ttu-id="90513-298">Eseguire il comando seguente per tornare al valore originale del periodo di conservazione degli elementi eliminati.</span><span class="sxs-lookup"><span data-stu-id="90513-298">Run the following command to change the deleted item retention period back to its original value.</span></span> <span data-ttu-id="90513-299">Si presuppone che l'impostazione precedente sia inferiore a 30 giorni. ad esempio 14 giorni.</span><span class="sxs-lookup"><span data-stu-id="90513-299">This assumes that the previous setting is less than 30 days; for example, 14 days.</span></span>

    ```powershell
    Set-Mailbox <username> -RetainDeletedItemsFor 14
    ```

2. <span data-ttu-id="90513-300">Eseguire il comando seguente per abilitare di nuovo il ripristino di un singolo elemento.</span><span class="sxs-lookup"><span data-stu-id="90513-300">Run the following command to re-enable single item recovery.</span></span>

    ```powershell
    Set-Mailbox <username> -SingleItemRecoveryEnabled $true
    ```

3. <span data-ttu-id="90513-301">Eseguire il comando seguente per abilitare nuovamente tutti i metodi di accesso client alla cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="90513-301">Run the following command to re-enable all client access methods to the mailbox.</span></span>

    ```powershell
    Set-CASMailbox <username> -EwsEnabled $true -ActiveSyncEnabled $true -MAPIEnabled $true -OWAEnabled $true -ImapEnabled $true -PopEnabled $true
    ```

4. <span data-ttu-id="90513-302">Riapplicare i blocchi rimossi nel passaggio 3.</span><span class="sxs-lookup"><span data-stu-id="90513-302">Reapply the holds that you removed in Step 3.</span></span> <span data-ttu-id="90513-303">A seconda del tipo di blocco, utilizzare una delle procedure seguenti.</span><span class="sxs-lookup"><span data-stu-id="90513-303">Depending on the type of hold, use one of the following procedures.</span></span>

    <span data-ttu-id="90513-304">**Conservazione per controversia legale**</span><span class="sxs-lookup"><span data-stu-id="90513-304">**Litigation Hold**</span></span>

    <span data-ttu-id="90513-305">Eseguire il comando seguente per abilitare nuovamente il blocco per controversia legale per la cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="90513-305">Run the following command to re-enable a Litigation Hold for the mailbox.</span></span>

    ```powershell
    Set-Mailbox <username> -LitigationHoldEnabled $true
    ```

    <span data-ttu-id="90513-306">**In-Place Hold**</span><span class="sxs-lookup"><span data-stu-id="90513-306">**In-Place Hold**</span></span>

    <span data-ttu-id="90513-307">Utilizzare EAC (o Exchange Online PowerShell) per aggiungere di nuovo la cassetta postale all'In-Place blocco.</span><span class="sxs-lookup"><span data-stu-id="90513-307">Use the EAC (or Exchange Online PowerShell) to add the mailbox back to the In-Place Hold.</span></span>

    <span data-ttu-id="90513-308">**Criteri di conservazione applicati a cassette postali specifiche**</span><span class="sxs-lookup"><span data-stu-id="90513-308">**Retention policies applied to specific mailboxes**</span></span>

    <span data-ttu-id="90513-309">Utilizzare il Centro sicurezza & conformità per aggiungere di nuovo la cassetta postale al criterio di conservazione.</span><span class="sxs-lookup"><span data-stu-id="90513-309">Use the Security & Compliance Center to add the mailbox back to the retention policy.</span></span> <span data-ttu-id="90513-310">Passare alla pagina **Conservazione** governance delle informazioni nel Centro sicurezza & conformità, modificare i criteri di conservazione e aggiungere di nuovo la cassetta postale all'elenco dei destinatari a cui è applicato il criterio  >   di conservazione.</span><span class="sxs-lookup"><span data-stu-id="90513-310">Go to the **Information governance** > **Retention** page in the Security & Compliance Center, edit the retention policy, and add the mailbox back to the list of recipients that the retention policy is applied to.</span></span>

    <span data-ttu-id="90513-311">**Criteri di conservazione a livello di organizzazione**</span><span class="sxs-lookup"><span data-stu-id="90513-311">**Organization-wide Retention policies**</span></span>

    <span data-ttu-id="90513-312">Se è stato rimosso un criterio di conservazione a livello di organizzazione o Exchange escluderlo dal criterio, utilizzare il Centro sicurezza e conformità di & per rimuovere la cassetta postale dall'elenco degli utenti esclusi.</span><span class="sxs-lookup"><span data-stu-id="90513-312">If you removed an organization-wide or Exchange-wide retention policy by excluding it from the policy, then use the Security & Compliance Center to remove the mailbox from the list of excluded users.</span></span> <span data-ttu-id="90513-313">Passare alla pagina **Conservazione governance** delle informazioni nel Centro sicurezza & conformità, modificare i criteri di conservazione a livello di organizzazione e rimuovere la cassetta postale dall'elenco dei  >   destinatari esclusi.</span><span class="sxs-lookup"><span data-stu-id="90513-313">Go to the **Information governance** > **Retention** page in the Security & Compliance Center, edit the organization-wide retention policy, and remove the mailbox from the list of excluded recipients.</span></span> <span data-ttu-id="90513-314">In questo modo il criterio di conservazione verrà riapplicato alla cassetta postale dell'utente.</span><span class="sxs-lookup"><span data-stu-id="90513-314">Doing this will reapply the retention policy to the user's mailbox.</span></span>

    <span data-ttu-id="90513-315">**Blocchi caso eDiscovery**</span><span class="sxs-lookup"><span data-stu-id="90513-315">**eDiscovery case holds**</span></span>

    <span data-ttu-id="90513-316">Utilizzare il Centro sicurezza & conformità per aggiungere di nuovo la cassetta postale al blocco associato a un caso di eDiscovery.</span><span class="sxs-lookup"><span data-stu-id="90513-316">Use the Security & Compliance Center to add the mailbox back the hold that's associated with an eDiscovery case.</span></span> <span data-ttu-id="90513-317">Passare alla pagina **eDiscovery** di  >  **eDiscovery,** aprire il caso e aggiungere di nuovo la cassetta postale al blocco.</span><span class="sxs-lookup"><span data-stu-id="90513-317">Go to the **eDiscovery** > **eDiscovery** page, open the case, and add the mailbox back to the hold.</span></span> 

5. <span data-ttu-id="90513-318">Eseguire il comando seguente per consentire all'Assistente cartelle gestite di elaborare di nuovo la cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="90513-318">Run the following command to allow the Managed Folder Assistant to process the mailbox again.</span></span> <span data-ttu-id="90513-319">Come indicato in precedenza, è consigliabile attendere 24 ore dopo la riapplicazione di un criterio di conservazione o di conservazione (e verificare che sia sul posto) prima di ri abilitare l'Assistente cartelle gestite.</span><span class="sxs-lookup"><span data-stu-id="90513-319">As previously stated, we recommend that you wait 24 hours after reapplying a hold or retention policy (and verifying that it's in place) before you re-enable the Managed Folder Assistant.</span></span>

    ```powershell
    Set-Mailbox <username> -ElcProcessingDisabled $false
    ```

6. <span data-ttu-id="90513-320">Per verificare che la cassetta postale sia stata ripristinata alla configurazione precedente, è possibile eseguire i comandi seguenti e quindi confrontare le impostazioni con quelle raccolte nel passaggio 1.</span><span class="sxs-lookup"><span data-stu-id="90513-320">To verify that the mailbox has been reverted back to its previous configuration, you can run the following commands and then compare the settings to the ones that you collected in Step 1.</span></span>

    ```powershell
    Get-Mailbox <username> | FL ElcProcessingDisabled,InPlaceHolds,LitigationHoldEnabled,RetainDeletedItemsFor,SingleItemRecoveryEnabled
    ```

    ```powershell
    Get-CASMailbox <username> | FL EwsEnabled,ActiveSyncEnabled,MAPIEnabled,OWAEnabled,ImapEnabled,PopEnabled
    ```

## <a name="more-information"></a><span data-ttu-id="90513-321">Ulteriori informazioni</span><span class="sxs-lookup"><span data-stu-id="90513-321">More information</span></span>

<span data-ttu-id="90513-322">Ecco una tabella che descrive come identificare diversi tipi di blocchi in base ai valori della proprietà *InPlaceHolds* quando si eseguono i cmdlet **Get-Mailbox** o **Get-OrganizationConfig.**</span><span class="sxs-lookup"><span data-stu-id="90513-322">Here's a table that describes how to identify different types of holds based on the values in the  *InPlaceHolds*  property when you run the **Get-Mailbox** or **Get-OrganizationConfig** cmdlets.</span></span> <span data-ttu-id="90513-323">Per informazioni più dettagliate, vedere [How to identify the type of hold placed on an Exchange Online mailbox](identify-a-hold-on-an-exchange-online-mailbox.md).</span><span class="sxs-lookup"><span data-stu-id="90513-323">For more detailed information, see [How to identify the type of hold placed on an Exchange Online mailbox](identify-a-hold-on-an-exchange-online-mailbox.md).</span></span>

<span data-ttu-id="90513-324">Come spiegato in precedenza, è necessario rimuovere tutti i blocchi e i criteri di conservazione da una cassetta postale prima di poter eliminare correttamente gli elementi nella cartella Elementi ripristinabili.</span><span class="sxs-lookup"><span data-stu-id="90513-324">As previously explained, you have to remove all holds and retention policies from a mailbox before you can successfully delete items in the Recoverable Items folder.</span></span>
  
| <span data-ttu-id="90513-325">Tipo di blocco</span><span class="sxs-lookup"><span data-stu-id="90513-325">Hold type</span></span> | <span data-ttu-id="90513-326">Valore di esempio</span><span class="sxs-lookup"><span data-stu-id="90513-326">Example value</span></span> | <span data-ttu-id="90513-327">Come identificare il blocco</span><span class="sxs-lookup"><span data-stu-id="90513-327">How to identify the hold</span></span> |
|:-----|:-----|:-----|
|<span data-ttu-id="90513-328">Blocco per controversia legale</span><span class="sxs-lookup"><span data-stu-id="90513-328">Litigation Hold</span></span>  <br/> | `True` <br/> |<span data-ttu-id="90513-329">La proprietà  *LitigationHoldEnabled*  è impostata su  `True`.</span><span class="sxs-lookup"><span data-stu-id="90513-329">The  *LitigationHoldEnabled*  property is set to  `True`.</span></span>  <br/> |
|<span data-ttu-id="90513-330">Blocco sul posto</span><span class="sxs-lookup"><span data-stu-id="90513-330">In-Place Hold</span></span>  <br/> | `c0ba3ce811b6432a8751430937152491` <br/> |<span data-ttu-id="90513-331">La  *proprietà InPlaceHolds*  contiene il GUID del In-Place blocco che viene posizionato sulla cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="90513-331">The  *InPlaceHolds*  property contains the GUID of the In-Place Hold that's placed on the mailbox.</span></span> <span data-ttu-id="90513-332">È possibile indicare che si tratta di In-Place blocco perché il GUID non inizia con un prefisso.</span><span class="sxs-lookup"><span data-stu-id="90513-332">You can tell this is an In-Place Hold because the GUID doesn't start with a prefix.</span></span>  <br/> <span data-ttu-id="90513-333">È possibile utilizzare il comando in Exchange Online PowerShell per ottenere informazioni sull'In-Place `Get-MailboxSearch -InPlaceHoldIdentity <hold GUID> | FL` sulla cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="90513-333">You can use the  `Get-MailboxSearch -InPlaceHoldIdentity <hold GUID> | FL` command in Exchange Online PowerShell to get information about the In-Place Hold on the mailbox.</span></span>  <br/> |
| <span data-ttu-id="90513-334">Criteri di conservazione nel Centro sicurezza & conformità applicati a cassette postali specifiche</span><span class="sxs-lookup"><span data-stu-id="90513-334">Retention policies in the Security & Compliance Center applied to specific mailboxes</span></span>  <br/> | `mbxcdbbb86ce60342489bff371876e7f224` <br/> <span data-ttu-id="90513-335">oppure</span><span class="sxs-lookup"><span data-stu-id="90513-335">or</span></span>  <br/>  `skp127d7cf1076947929bf136b7a2a8c36f` <br/> |<span data-ttu-id="90513-336">Quando si esegue il cmdlet **Get-Mailbox,** la  *proprietà InPlaceHolds*  contiene anche i GUID dei criteri di conservazione applicati alla cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="90513-336">When you run the **Get-Mailbox** cmdlet, the  *InPlaceHolds*  property also contains GUIDs of retention policies applied to the mailbox.</span></span> <span data-ttu-id="90513-337">È possibile identificare i criteri di conservazione perché il GUID inizia con il  `mbx` prefisso.</span><span class="sxs-lookup"><span data-stu-id="90513-337">You can identify retention policies because the GUID starts with the  `mbx` prefix.</span></span> <span data-ttu-id="90513-338">Se il GUID del criterio di conservazione inizia con il prefisso, questo indica che il criterio di conservazione viene applicato Skype for Business `skp` conversazioni.</span><span class="sxs-lookup"><span data-stu-id="90513-338">If the GUID of the retention policy starts with the  `skp` prefix, that indicates that the retention policy is applied to Skype for Business conversations.</span></span>  <br/> <span data-ttu-id="90513-339">Per identità del criterio di conservazione applicato alla cassetta postale, eseguire il comando seguente in PowerShell del Centro sicurezza & conformità:</span><span class="sxs-lookup"><span data-stu-id="90513-339">To identity the retention policy that's applied to the mailbox, run the following command in Security & Compliance Center PowerShell:</span></span> <br/> <br/>`Get-RetentionCompliancePolicy <retention policy GUID without prefix> | FL Name`<br/><br/><span data-ttu-id="90513-340">Assicurarsi di rimuovere il prefisso  `mbx` o  `skp` quando si esegue questo comando.</span><span class="sxs-lookup"><span data-stu-id="90513-340">Be sure to remove the  `mbx` or  `skp` prefix when you run this command.</span></span>  <br/> |
|<span data-ttu-id="90513-341">Criteri di conservazione a livello di organizzazione nel Centro sicurezza & conformità</span><span class="sxs-lookup"><span data-stu-id="90513-341">Organization-wide retention policies in the Security & Compliance Center</span></span>  <br/> |<span data-ttu-id="90513-342">Nessun valore</span><span class="sxs-lookup"><span data-stu-id="90513-342">No value</span></span>  <br/> <span data-ttu-id="90513-343">oppure</span><span class="sxs-lookup"><span data-stu-id="90513-343">or</span></span>  <br/>  <span data-ttu-id="90513-344">`-mbxe9b52bf7ab3b46a286308ecb29624696` (indica che la cassetta postale è esclusa da un criterio a livello di organizzazione)</span><span class="sxs-lookup"><span data-stu-id="90513-344">`-mbxe9b52bf7ab3b46a286308ecb29624696` (indicates that the mailbox is excluded from an organization-wide policy)</span></span>  <br/> |<span data-ttu-id="90513-345">Anche se la  *proprietà InPlaceHolds*  è vuota quando si esegue il cmdlet **Get-Mailbox,** alla cassetta postale potrebbero essere applicati uno o più criteri di conservazione a livello di organizzazione.</span><span class="sxs-lookup"><span data-stu-id="90513-345">Even if the  *InPlaceHolds*  property is empty when you run the **Get-Mailbox** cmdlet, there still might be one or more organization-wide retention policies applied to the mailbox.</span></span>  <br/> <span data-ttu-id="90513-346">Per verificare questo problema, è possibile eseguire il comando in Exchange Online PowerShell per ottenere un elenco dei GUID per i criteri di conservazione a `Get-OrganizationConfig | FL InPlaceHolds` livello di organizzazione.</span><span class="sxs-lookup"><span data-stu-id="90513-346">To verify this, you can run the  `Get-OrganizationConfig | FL InPlaceHolds` command in Exchange Online PowerShell to get a list of the GUIDs for organization-wide retention policies.</span></span> <span data-ttu-id="90513-347">Il GUID per i criteri di conservazione a livello di organizzazione applicati Exchange cassette postali inizia con il `mbx` prefisso, ad esempio `mbxa3056bb15562480fadb46ce523ff7b02` .</span><span class="sxs-lookup"><span data-stu-id="90513-347">The GUID for organization-wide retention policies applied to Exchange mailboxes starts with the  `mbx` prefix; for example,  `mbxa3056bb15562480fadb46ce523ff7b02`.</span></span>  <br/> <span data-ttu-id="90513-348">Per identità del criterio di conservazione a livello di organizzazione applicato alla cassetta postale, eseguire il comando seguente in PowerShell del Centro sicurezza & conformità:</span><span class="sxs-lookup"><span data-stu-id="90513-348">To identity the organization-wide retention policy that's applied to the mailbox, run the following command in Security & Compliance Center PowerShell:</span></span> <br/><br/> `Get-RetentionCompliancePolicy <retention policy GUID without prefix> | FL Name`<br/><br/><span data-ttu-id="90513-349">Se una cassetta postale viene esclusa da un criterio di conservazione a livello di organizzazione, il GUID per il criterio di conservazione viene visualizzato nella proprietà  *InPlaceHolds*  della cassetta postale dell'utente quando si esegue il cmdlet **Get-Mailbox.** è identificato dal prefisso  `-mbx` ; ad esempio,  `-mbxe9b52bf7ab3b46a286308ecb29624696`</span><span class="sxs-lookup"><span data-stu-id="90513-349">If a mailbox is excluded from an organization-wide retention policy, the GUID for the retention policy is displayed in the  *InPlaceHolds*  property of the user's mailbox when you run the **Get-Mailbox** cmdlet; it's identified by the prefix  `-mbx`; for example,  `-mbxe9b52bf7ab3b46a286308ecb29624696`</span></span> <br/> |
|<span data-ttu-id="90513-350">Blocco caso eDiscovery nel Centro sicurezza & conformità</span><span class="sxs-lookup"><span data-stu-id="90513-350">eDiscovery case hold in the Security & Compliance Center</span></span>  <br/> | `UniH7d895d48-7e23-4a8d-8346-533c3beac15d` <br/> |<span data-ttu-id="90513-351">La  *proprietà InPlaceHolds*  contiene anche il GUID di qualsiasi blocco associato a un caso di eDiscovery nel Centro sicurezza & conformità che potrebbe essere inserito nella cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="90513-351">The  *InPlaceHolds*  property also contains the GUID of any hold associated with an eDiscovery case in the Security & Compliance Center that might be placed on the mailbox.</span></span> <span data-ttu-id="90513-352">È possibile stabilire che si tratta di un blocco caso eDiscovery perché il GUID inizia con il prefisso  `UniH`.</span><span class="sxs-lookup"><span data-stu-id="90513-352">You can tell this is an eDiscovery case hold because the GUID starts with the  `UniH` prefix.</span></span>  <br/> <span data-ttu-id="90513-353">È possibile utilizzare il cmdlet in PowerShell & Centro sicurezza e conformità per ottenere informazioni sul caso di eDiscovery a cui è associato il blocco  `Get-CaseHoldPolicy` sulla cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="90513-353">You can use the  `Get-CaseHoldPolicy` cmdlet in Security & Compliance Center PowerShell to get information about the eDiscovery case that the hold on the mailbox is associated with.</span></span> <span data-ttu-id="90513-354">Ad esempio, è possibile eseguire il comando per visualizzare il nome del blocco del caso nella  `Get-CaseHoldPolicy <hold GUID without prefix> | FL Name` cassetta postale.</span><span class="sxs-lookup"><span data-stu-id="90513-354">For example, you can run the command  `Get-CaseHoldPolicy <hold GUID without prefix> | FL Name` to display the name of the case hold that's on the mailbox.</span></span> <span data-ttu-id="90513-355">Be sure to remove the  `UniH` quando si esegue questo comando.</span><span class="sxs-lookup"><span data-stu-id="90513-355">Be sure to remove the  `UniH` prefix when you run this command.</span></span>  <br/><br/> <span data-ttu-id="90513-356">Per identità del caso di eDiscovery a cui è associato il blocco sulla cassetta postale, eseguire i comandi seguenti:</span><span class="sxs-lookup"><span data-stu-id="90513-356">To identity the eDiscovery case that the hold on the mailbox is associated with, run the following commands:</span></span><br/><br/>`$CaseHold = Get-CaseHoldPolicy <hold GUID without prefix>`<br/><br/>`Get-ComplianceCase $CaseHold.CaseId | FL Name`
